function im(o,r){for(var s=0;s<r.length;s++){const i=r[s];if(typeof i!="string"&&!Array.isArray(i)){for(const l in i)if(l!=="default"&&!(l in o)){const u=Object.getOwnPropertyDescriptor(i,l);u&&Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:()=>i[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function i(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function kh(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function om(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var r=o.default;if(typeof r=="function"){var s=function i(){return this instanceof i?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(i){var l=Object.getOwnPropertyDescriptor(o,i);Object.defineProperty(s,i,l.get?l:{enumerable:!0,get:function(){return o[i]}})}),s}var Xa={exports:{}},ys={},Za={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rd;function am(){if(Rd)return ie;Rd=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function _(E){return E===null||typeof E!="object"?null:(E=w&&E[w]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},O=Object.assign,j={};function T(E,A,se){this.props=E,this.context=A,this.refs=j,this.updater=se||S}T.prototype.isReactComponent={},T.prototype.setState=function(E,A){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,A,"setState")},T.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function z(){}z.prototype=T.prototype;function M(E,A,se){this.props=E,this.context=A,this.refs=j,this.updater=se||S}var $=M.prototype=new z;$.constructor=M,O($,T.prototype),$.isPureReactComponent=!0;var W=Array.isArray,te=Object.prototype.hasOwnProperty,X={current:null},ae={key:!0,ref:!0,__self:!0,__source:!0};function Se(E,A,se){var oe,ue={},ce=null,ge=null;if(A!=null)for(oe in A.ref!==void 0&&(ge=A.ref),A.key!==void 0&&(ce=""+A.key),A)te.call(A,oe)&&!ae.hasOwnProperty(oe)&&(ue[oe]=A[oe]);var fe=arguments.length-2;if(fe===1)ue.children=se;else if(1<fe){for(var be=Array(fe),lt=0;lt<fe;lt++)be[lt]=arguments[lt+2];ue.children=be}if(E&&E.defaultProps)for(oe in fe=E.defaultProps,fe)ue[oe]===void 0&&(ue[oe]=fe[oe]);return{$$typeof:o,type:E,key:ce,ref:ge,props:ue,_owner:X.current}}function Ae(E,A){return{$$typeof:o,type:E.type,key:A,ref:E.ref,props:E.props,_owner:E._owner}}function xt(E){return typeof E=="object"&&E!==null&&E.$$typeof===o}function ne(E){var A={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(se){return A[se]})}var me=/\/+/g;function je(E,A){return typeof E=="object"&&E!==null&&E.key!=null?ne(""+E.key):A.toString(36)}function Pe(E,A,se,oe,ue){var ce=typeof E;(ce==="undefined"||ce==="boolean")&&(E=null);var ge=!1;if(E===null)ge=!0;else switch(ce){case"string":case"number":ge=!0;break;case"object":switch(E.$$typeof){case o:case r:ge=!0}}if(ge)return ge=E,ue=ue(ge),E=oe===""?"."+je(ge,0):oe,W(ue)?(se="",E!=null&&(se=E.replace(me,"$&/")+"/"),Pe(ue,A,se,"",function(lt){return lt})):ue!=null&&(xt(ue)&&(ue=Ae(ue,se+(!ue.key||ge&&ge.key===ue.key?"":(""+ue.key).replace(me,"$&/")+"/")+E)),A.push(ue)),1;if(ge=0,oe=oe===""?".":oe+":",W(E))for(var fe=0;fe<E.length;fe++){ce=E[fe];var be=oe+je(ce,fe);ge+=Pe(ce,A,se,be,ue)}else if(be=_(E),typeof be=="function")for(E=be.call(E),fe=0;!(ce=E.next()).done;)ce=ce.value,be=oe+je(ce,fe++),ge+=Pe(ce,A,se,be,ue);else if(ce==="object")throw A=String(E),Error("Objects are not valid as a React child (found: "+(A==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":A)+"). If you meant to render a collection of children, use an array instead.");return ge}function qe(E,A,se){if(E==null)return E;var oe=[],ue=0;return Pe(E,oe,"","",function(ce){return A.call(se,ce,ue++)}),oe}function Je(E){if(E._status===-1){var A=E._result;A=A(),A.then(function(se){(E._status===0||E._status===-1)&&(E._status=1,E._result=se)},function(se){(E._status===0||E._status===-1)&&(E._status=2,E._result=se)}),E._status===-1&&(E._status=0,E._result=A)}if(E._status===1)return E._result.default;throw E._result}var Ce={current:null},F={transition:null},Z={ReactCurrentDispatcher:Ce,ReactCurrentBatchConfig:F,ReactCurrentOwner:X};function q(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:qe,forEach:function(E,A,se){qe(E,function(){A.apply(this,arguments)},se)},count:function(E){var A=0;return qe(E,function(){A++}),A},toArray:function(E){return qe(E,function(A){return A})||[]},only:function(E){if(!xt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},ie.Component=T,ie.Fragment=s,ie.Profiler=l,ie.PureComponent=M,ie.StrictMode=i,ie.Suspense=m,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Z,ie.act=q,ie.cloneElement=function(E,A,se){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var oe=O({},E.props),ue=E.key,ce=E.ref,ge=E._owner;if(A!=null){if(A.ref!==void 0&&(ce=A.ref,ge=X.current),A.key!==void 0&&(ue=""+A.key),E.type&&E.type.defaultProps)var fe=E.type.defaultProps;for(be in A)te.call(A,be)&&!ae.hasOwnProperty(be)&&(oe[be]=A[be]===void 0&&fe!==void 0?fe[be]:A[be])}var be=arguments.length-2;if(be===1)oe.children=se;else if(1<be){fe=Array(be);for(var lt=0;lt<be;lt++)fe[lt]=arguments[lt+2];oe.children=fe}return{$$typeof:o,type:E.type,key:ue,ref:ce,props:oe,_owner:ge}},ie.createContext=function(E){return E={$$typeof:d,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:u,_context:E},E.Consumer=E},ie.createElement=Se,ie.createFactory=function(E){var A=Se.bind(null,E);return A.type=E,A},ie.createRef=function(){return{current:null}},ie.forwardRef=function(E){return{$$typeof:p,render:E}},ie.isValidElement=xt,ie.lazy=function(E){return{$$typeof:y,_payload:{_status:-1,_result:E},_init:Je}},ie.memo=function(E,A){return{$$typeof:v,type:E,compare:A===void 0?null:A}},ie.startTransition=function(E){var A=F.transition;F.transition={};try{E()}finally{F.transition=A}},ie.unstable_act=q,ie.useCallback=function(E,A){return Ce.current.useCallback(E,A)},ie.useContext=function(E){return Ce.current.useContext(E)},ie.useDebugValue=function(){},ie.useDeferredValue=function(E){return Ce.current.useDeferredValue(E)},ie.useEffect=function(E,A){return Ce.current.useEffect(E,A)},ie.useId=function(){return Ce.current.useId()},ie.useImperativeHandle=function(E,A,se){return Ce.current.useImperativeHandle(E,A,se)},ie.useInsertionEffect=function(E,A){return Ce.current.useInsertionEffect(E,A)},ie.useLayoutEffect=function(E,A){return Ce.current.useLayoutEffect(E,A)},ie.useMemo=function(E,A){return Ce.current.useMemo(E,A)},ie.useReducer=function(E,A,se){return Ce.current.useReducer(E,A,se)},ie.useRef=function(E){return Ce.current.useRef(E)},ie.useState=function(E){return Ce.current.useState(E)},ie.useSyncExternalStore=function(E,A,se){return Ce.current.useSyncExternalStore(E,A,se)},ie.useTransition=function(){return Ce.current.useTransition()},ie.version="18.3.1",ie}var Id;function Cl(){return Id||(Id=1,Za.exports=am()),Za.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function lm(){if(Ad)return ys;Ad=1;var o=Cl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(p,m,v){var y,w={},_=null,S=null;v!==void 0&&(_=""+v),m.key!==void 0&&(_=""+m.key),m.ref!==void 0&&(S=m.ref);for(y in m)i.call(m,y)&&!u.hasOwnProperty(y)&&(w[y]=m[y]);if(p&&p.defaultProps)for(y in m=p.defaultProps,m)w[y]===void 0&&(w[y]=m[y]);return{$$typeof:r,type:p,key:_,ref:S,props:w,_owner:l.current}}return ys.Fragment=s,ys.jsx=d,ys.jsxs=d,ys}var Ld;function um(){return Ld||(Ld=1,Xa.exports=lm()),Xa.exports}var h=um(),R=Cl();const cm=kh(R),dm=im({__proto__:null,default:cm},[R]);var Bi={},el={exports:{}},ot={},tl={exports:{}},rl={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $d;function hm(){return $d||($d=1,function(o){function r(F,Z){var q=F.length;F.push(Z);e:for(;0<q;){var E=q-1>>>1,A=F[E];if(0<l(A,Z))F[E]=Z,F[q]=A,q=E;else break e}}function s(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Z=F[0],q=F.pop();if(q!==Z){F[0]=q;e:for(var E=0,A=F.length,se=A>>>1;E<se;){var oe=2*(E+1)-1,ue=F[oe],ce=oe+1,ge=F[ce];if(0>l(ue,q))ce<A&&0>l(ge,ue)?(F[E]=ge,F[ce]=q,E=ce):(F[E]=ue,F[oe]=q,E=oe);else if(ce<A&&0>l(ge,q))F[E]=ge,F[ce]=q,E=ce;else break e}}return Z}function l(F,Z){var q=F.sortIndex-Z.sortIndex;return q!==0?q:F.id-Z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var d=Date,p=d.now();o.unstable_now=function(){return d.now()-p}}var m=[],v=[],y=1,w=null,_=3,S=!1,O=!1,j=!1,T=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,M=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(F){for(var Z=s(v);Z!==null;){if(Z.callback===null)i(v);else if(Z.startTime<=F)i(v),Z.sortIndex=Z.expirationTime,r(m,Z);else break;Z=s(v)}}function W(F){if(j=!1,$(F),!O)if(s(m)!==null)O=!0,Je(te);else{var Z=s(v);Z!==null&&Ce(W,Z.startTime-F)}}function te(F,Z){O=!1,j&&(j=!1,z(Se),Se=-1),S=!0;var q=_;try{for($(Z),w=s(m);w!==null&&(!(w.expirationTime>Z)||F&&!ne());){var E=w.callback;if(typeof E=="function"){w.callback=null,_=w.priorityLevel;var A=E(w.expirationTime<=Z);Z=o.unstable_now(),typeof A=="function"?w.callback=A:w===s(m)&&i(m),$(Z)}else i(m);w=s(m)}if(w!==null)var se=!0;else{var oe=s(v);oe!==null&&Ce(W,oe.startTime-Z),se=!1}return se}finally{w=null,_=q,S=!1}}var X=!1,ae=null,Se=-1,Ae=5,xt=-1;function ne(){return!(o.unstable_now()-xt<Ae)}function me(){if(ae!==null){var F=o.unstable_now();xt=F;var Z=!0;try{Z=ae(!0,F)}finally{Z?je():(X=!1,ae=null)}}else X=!1}var je;if(typeof M=="function")je=function(){M(me)};else if(typeof MessageChannel<"u"){var Pe=new MessageChannel,qe=Pe.port2;Pe.port1.onmessage=me,je=function(){qe.postMessage(null)}}else je=function(){T(me,0)};function Je(F){ae=F,X||(X=!0,je())}function Ce(F,Z){Se=T(function(){F(o.unstable_now())},Z)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(F){F.callback=null},o.unstable_continueExecution=function(){O||S||(O=!0,Je(te))},o.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Ae=0<F?Math.floor(1e3/F):5},o.unstable_getCurrentPriorityLevel=function(){return _},o.unstable_getFirstCallbackNode=function(){return s(m)},o.unstable_next=function(F){switch(_){case 1:case 2:case 3:var Z=3;break;default:Z=_}var q=_;_=Z;try{return F()}finally{_=q}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(F,Z){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var q=_;_=F;try{return Z()}finally{_=q}},o.unstable_scheduleCallback=function(F,Z,q){var E=o.unstable_now();switch(typeof q=="object"&&q!==null?(q=q.delay,q=typeof q=="number"&&0<q?E+q:E):q=E,F){case 1:var A=-1;break;case 2:A=250;break;case 5:A=1073741823;break;case 4:A=1e4;break;default:A=5e3}return A=q+A,F={id:y++,callback:Z,priorityLevel:F,startTime:q,expirationTime:A,sortIndex:-1},q>E?(F.sortIndex=q,r(v,F),s(m)===null&&F===s(v)&&(j?(z(Se),Se=-1):j=!0,Ce(W,q-E))):(F.sortIndex=A,r(m,F),O||S||(O=!0,Je(te))),F},o.unstable_shouldYield=ne,o.unstable_wrapCallback=function(F){var Z=_;return function(){var q=_;_=Z;try{return F.apply(this,arguments)}finally{_=q}}}}(rl)),rl}var Dd;function fm(){return Dd||(Dd=1,tl.exports=hm()),tl.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud;function pm(){if(Ud)return ot;Ud=1;var o=Cl(),r=fm();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var p=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function _(e){return m.call(w,e)?!0:m.call(y,e)?!1:v.test(e)?w[e]=!0:(y[e]=!0,!1)}function S(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function O(e,t,n,a){if(t===null||typeof t>"u"||S(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function j(e,t,n,a,c,f,g){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=f,this.removeEmptyString=g}var T={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){T[e]=new j(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];T[t]=new j(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){T[e]=new j(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){T[e]=new j(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){T[e]=new j(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){T[e]=new j(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){T[e]=new j(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){T[e]=new j(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){T[e]=new j(e,5,!1,e.toLowerCase(),null,!1,!1)});var z=/[\-:]([a-z])/g;function M(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(z,M);T[t]=new j(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(z,M);T[t]=new j(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(z,M);T[t]=new j(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){T[e]=new j(e,1,!1,e.toLowerCase(),null,!1,!1)}),T.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){T[e]=new j(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,n,a){var c=T.hasOwnProperty(t)?T[t]:null;(c!==null?c.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(O(t,n,c,a)&&(n=null),a||c===null?_(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):c.mustUseProperty?e[c.propertyName]=n===null?c.type===3?!1:"":n:(t=c.attributeName,a=c.attributeNamespace,n===null?e.removeAttribute(t):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var W=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,te=Symbol.for("react.element"),X=Symbol.for("react.portal"),ae=Symbol.for("react.fragment"),Se=Symbol.for("react.strict_mode"),Ae=Symbol.for("react.profiler"),xt=Symbol.for("react.provider"),ne=Symbol.for("react.context"),me=Symbol.for("react.forward_ref"),je=Symbol.for("react.suspense"),Pe=Symbol.for("react.suspense_list"),qe=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),Ce=Symbol.for("react.offscreen"),F=Symbol.iterator;function Z(e){return e===null||typeof e!="object"?null:(e=F&&e[F]||e["@@iterator"],typeof e=="function"?e:null)}var q=Object.assign,E;function A(e){if(E===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);E=t&&t[1]||""}return`
`+E+e}var se=!1;function oe(e,t){if(!e||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var a=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){a=P}e.call(t.prototype)}else{try{throw Error()}catch(P){a=P}e()}}catch(P){if(P&&a&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),f=a.stack.split(`
`),g=c.length-1,x=f.length-1;1<=g&&0<=x&&c[g]!==f[x];)x--;for(;1<=g&&0<=x;g--,x--)if(c[g]!==f[x]){if(g!==1||x!==1)do if(g--,x--,0>x||c[g]!==f[x]){var b=`
`+c[g].replace(" at new "," at ");return e.displayName&&b.includes("<anonymous>")&&(b=b.replace("<anonymous>",e.displayName)),b}while(1<=g&&0<=x);break}}}finally{se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?A(e):""}function ue(e){switch(e.tag){case 5:return A(e.type);case 16:return A("Lazy");case 13:return A("Suspense");case 19:return A("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ae:return"Fragment";case X:return"Portal";case Ae:return"Profiler";case Se:return"StrictMode";case je:return"Suspense";case Pe:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case ne:return(e.displayName||"Context")+".Consumer";case xt:return(e._context.displayName||"Context")+".Provider";case me:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case qe:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Je:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function ge(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===Se?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function fe(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function be(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function lt(e){var t=be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,f=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(g){a=""+g,f.call(this,g)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(g){a=""+g},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Rs(e){e._valueTracker||(e._valueTracker=lt(e))}function Ul(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=be(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Is(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function so(e,t){var n=t.checked;return q({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ml(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=fe(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function zl(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function io(e,t){zl(e,t);var n=fe(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?oo(e,t.type,n):t.hasOwnProperty("defaultValue")&&oo(e,t.type,fe(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function oo(e,t,n){(t!=="number"||Is(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var In=Array.isArray;function Wr(e,t,n,a){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&a&&(e[n].defaultSelected=!0)}else{for(n=""+fe(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,a&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function ao(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return q({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bl(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(In(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:fe(n)}}function Wl(e,t){var n=fe(t.value),a=fe(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function Hl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function ql(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?ql(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var As,Vl=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,c){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,c)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(As=As||document.createElement("div"),As.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=As.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function An(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ln={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},uf=["Webkit","ms","Moz","O"];Object.keys(Ln).forEach(function(e){uf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ln[t]=Ln[e]})});function Kl(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ln.hasOwnProperty(e)&&Ln[e]?(""+t).trim():t+"px"}function Jl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,c=Kl(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,c):e[n]=c}}var cf=q({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function uo(e,t){if(t){if(cf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function co(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ho=null;function fo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var po=null,Hr=null,qr=null;function Gl(e){if(e=ns(e)){if(typeof po!="function")throw Error(s(280));var t=e.stateNode;t&&(t=ni(t),po(e.stateNode,e.type,t))}}function Ql(e){Hr?qr?qr.push(e):qr=[e]:Hr=e}function Yl(){if(Hr){var e=Hr,t=qr;if(qr=Hr=null,Gl(e),t)for(e=0;e<t.length;e++)Gl(t[e])}}function Xl(e,t){return e(t)}function Zl(){}var mo=!1;function eu(e,t,n){if(mo)return e(t,n);mo=!0;try{return Xl(e,t,n)}finally{mo=!1,(Hr!==null||qr!==null)&&(Zl(),Yl())}}function $n(e,t){var n=e.stateNode;if(n===null)return null;var a=ni(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var go=!1;if(p)try{var Dn={};Object.defineProperty(Dn,"passive",{get:function(){go=!0}}),window.addEventListener("test",Dn,Dn),window.removeEventListener("test",Dn,Dn)}catch{go=!1}function df(e,t,n,a,c,f,g,x,b){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(L){this.onError(L)}}var Un=!1,Ls=null,$s=!1,vo=null,hf={onError:function(e){Un=!0,Ls=e}};function ff(e,t,n,a,c,f,g,x,b){Un=!1,Ls=null,df.apply(hf,arguments)}function pf(e,t,n,a,c,f,g,x,b){if(ff.apply(this,arguments),Un){if(Un){var P=Ls;Un=!1,Ls=null}else throw Error(s(198));$s||($s=!0,vo=P)}}function _r(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function tu(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ru(e){if(_r(e)!==e)throw Error(s(188))}function mf(e){var t=e.alternate;if(!t){if(t=_r(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,a=t;;){var c=n.return;if(c===null)break;var f=c.alternate;if(f===null){if(a=c.return,a!==null){n=a;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===n)return ru(c),e;if(f===a)return ru(c),t;f=f.sibling}throw Error(s(188))}if(n.return!==a.return)n=c,a=f;else{for(var g=!1,x=c.child;x;){if(x===n){g=!0,n=c,a=f;break}if(x===a){g=!0,a=c,n=f;break}x=x.sibling}if(!g){for(x=f.child;x;){if(x===n){g=!0,n=f,a=c;break}if(x===a){g=!0,a=f,n=c;break}x=x.sibling}if(!g)throw Error(s(189))}}if(n.alternate!==a)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function nu(e){return e=mf(e),e!==null?su(e):null}function su(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=su(e);if(t!==null)return t;e=e.sibling}return null}var iu=r.unstable_scheduleCallback,ou=r.unstable_cancelCallback,gf=r.unstable_shouldYield,vf=r.unstable_requestPaint,Oe=r.unstable_now,yf=r.unstable_getCurrentPriorityLevel,yo=r.unstable_ImmediatePriority,au=r.unstable_UserBlockingPriority,Ds=r.unstable_NormalPriority,wf=r.unstable_LowPriority,lu=r.unstable_IdlePriority,Us=null,Pt=null;function xf(e){if(Pt&&typeof Pt.onCommitFiberRoot=="function")try{Pt.onCommitFiberRoot(Us,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:kf,_f=Math.log,bf=Math.LN2;function kf(e){return e>>>=0,e===0?32:31-(_f(e)/bf|0)|0}var Ms=64,zs=4194304;function Mn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Fs(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,c=e.suspendedLanes,f=e.pingedLanes,g=n&268435455;if(g!==0){var x=g&~c;x!==0?a=Mn(x):(f&=g,f!==0&&(a=Mn(f)))}else g=n&~c,g!==0?a=Mn(g):f!==0&&(a=Mn(f));if(a===0)return 0;if(t!==0&&t!==a&&(t&c)===0&&(c=a&-a,f=t&-t,c>=f||c===16&&(f&4194240)!==0))return t;if((a&4)!==0&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-_t(t),c=1<<n,a|=e[n],t&=~c;return a}function Sf(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jf(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes;0<f;){var g=31-_t(f),x=1<<g,b=c[g];b===-1?((x&n)===0||(x&a)!==0)&&(c[g]=Sf(x,t)):b<=t&&(e.expiredLanes|=x),f&=~x}}function wo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function uu(){var e=Ms;return Ms<<=1,(Ms&4194240)===0&&(Ms=64),e}function xo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function zn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function Ef(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var c=31-_t(n),f=1<<c;t[c]=0,a[c]=-1,e[c]=-1,n&=~f}}function _o(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-_t(n),c=1<<a;c&t|e[a]&t&&(e[a]|=t),n&=~c}}var pe=0;function cu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var du,bo,hu,fu,pu,ko=!1,Bs=[],Gt=null,Qt=null,Yt=null,Fn=new Map,Bn=new Map,Xt=[],Nf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mu(e,t){switch(e){case"focusin":case"focusout":Gt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Fn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Bn.delete(t.pointerId)}}function Wn(e,t,n,a,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:f,targetContainers:[c]},t!==null&&(t=ns(t),t!==null&&bo(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function Cf(e,t,n,a,c){switch(t){case"focusin":return Gt=Wn(Gt,e,t,n,a,c),!0;case"dragenter":return Qt=Wn(Qt,e,t,n,a,c),!0;case"mouseover":return Yt=Wn(Yt,e,t,n,a,c),!0;case"pointerover":var f=c.pointerId;return Fn.set(f,Wn(Fn.get(f)||null,e,t,n,a,c)),!0;case"gotpointercapture":return f=c.pointerId,Bn.set(f,Wn(Bn.get(f)||null,e,t,n,a,c)),!0}return!1}function gu(e){var t=br(e.target);if(t!==null){var n=_r(t);if(n!==null){if(t=n.tag,t===13){if(t=tu(n),t!==null){e.blockedOn=t,pu(e.priority,function(){hu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ws(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ho=a,n.target.dispatchEvent(a),ho=null}else return t=ns(n),t!==null&&bo(t),e.blockedOn=n,!1;t.shift()}return!0}function vu(e,t,n){Ws(e)&&n.delete(t)}function Tf(){ko=!1,Gt!==null&&Ws(Gt)&&(Gt=null),Qt!==null&&Ws(Qt)&&(Qt=null),Yt!==null&&Ws(Yt)&&(Yt=null),Fn.forEach(vu),Bn.forEach(vu)}function Hn(e,t){e.blockedOn===t&&(e.blockedOn=null,ko||(ko=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Tf)))}function qn(e){function t(c){return Hn(c,e)}if(0<Bs.length){Hn(Bs[0],e);for(var n=1;n<Bs.length;n++){var a=Bs[n];a.blockedOn===e&&(a.blockedOn=null)}}for(Gt!==null&&Hn(Gt,e),Qt!==null&&Hn(Qt,e),Yt!==null&&Hn(Yt,e),Fn.forEach(t),Bn.forEach(t),n=0;n<Xt.length;n++)a=Xt[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)gu(n),n.blockedOn===null&&Xt.shift()}var Vr=W.ReactCurrentBatchConfig,Hs=!0;function Pf(e,t,n,a){var c=pe,f=Vr.transition;Vr.transition=null;try{pe=1,So(e,t,n,a)}finally{pe=c,Vr.transition=f}}function Of(e,t,n,a){var c=pe,f=Vr.transition;Vr.transition=null;try{pe=4,So(e,t,n,a)}finally{pe=c,Vr.transition=f}}function So(e,t,n,a){if(Hs){var c=jo(e,t,n,a);if(c===null)Bo(e,t,a,qs,n),mu(e,a);else if(Cf(c,e,t,n,a))a.stopPropagation();else if(mu(e,a),t&4&&-1<Nf.indexOf(e)){for(;c!==null;){var f=ns(c);if(f!==null&&du(f),f=jo(e,t,n,a),f===null&&Bo(e,t,a,qs,n),f===c)break;c=f}c!==null&&a.stopPropagation()}else Bo(e,t,a,null,n)}}var qs=null;function jo(e,t,n,a){if(qs=null,e=fo(a),e=br(e),e!==null)if(t=_r(e),t===null)e=null;else if(n=t.tag,n===13){if(e=tu(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return qs=e,null}function yu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(yf()){case yo:return 1;case au:return 4;case Ds:case wf:return 16;case lu:return 536870912;default:return 16}default:return 16}}var Zt=null,Eo=null,Vs=null;function wu(){if(Vs)return Vs;var e,t=Eo,n=t.length,a,c="value"in Zt?Zt.value:Zt.textContent,f=c.length;for(e=0;e<n&&t[e]===c[e];e++);var g=n-e;for(a=1;a<=g&&t[n-a]===c[f-a];a++);return Vs=c.slice(e,1<a?1-a:void 0)}function Ks(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Js(){return!0}function xu(){return!1}function ut(e){function t(n,a,c,f,g){this._reactName=n,this._targetInst=c,this.type=a,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var x in e)e.hasOwnProperty(x)&&(n=e[x],this[x]=n?n(f):f[x]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Js:xu,this.isPropagationStopped=xu,this}return q(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Js)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Js)},persist:function(){},isPersistent:Js}),t}var Kr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},No=ut(Kr),Vn=q({},Kr,{view:0,detail:0}),Rf=ut(Vn),Co,To,Kn,Gs=q({},Vn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Oo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kn&&(Kn&&e.type==="mousemove"?(Co=e.screenX-Kn.screenX,To=e.screenY-Kn.screenY):To=Co=0,Kn=e),Co)},movementY:function(e){return"movementY"in e?e.movementY:To}}),_u=ut(Gs),If=q({},Gs,{dataTransfer:0}),Af=ut(If),Lf=q({},Vn,{relatedTarget:0}),Po=ut(Lf),$f=q({},Kr,{animationName:0,elapsedTime:0,pseudoElement:0}),Df=ut($f),Uf=q({},Kr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Mf=ut(Uf),zf=q({},Kr,{data:0}),bu=ut(zf),Ff={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bf={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wf={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hf(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Wf[e])?!!t[e]:!1}function Oo(){return Hf}var qf=q({},Vn,{key:function(e){if(e.key){var t=Ff[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ks(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Bf[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Oo,charCode:function(e){return e.type==="keypress"?Ks(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ks(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Vf=ut(qf),Kf=q({},Gs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ku=ut(Kf),Jf=q({},Vn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Oo}),Gf=ut(Jf),Qf=q({},Kr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Yf=ut(Qf),Xf=q({},Gs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Zf=ut(Xf),ep=[9,13,27,32],Ro=p&&"CompositionEvent"in window,Jn=null;p&&"documentMode"in document&&(Jn=document.documentMode);var tp=p&&"TextEvent"in window&&!Jn,Su=p&&(!Ro||Jn&&8<Jn&&11>=Jn),ju=" ",Eu=!1;function Nu(e,t){switch(e){case"keyup":return ep.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Jr=!1;function rp(e,t){switch(e){case"compositionend":return Cu(t);case"keypress":return t.which!==32?null:(Eu=!0,ju);case"textInput":return e=t.data,e===ju&&Eu?null:e;default:return null}}function np(e,t){if(Jr)return e==="compositionend"||!Ro&&Nu(e,t)?(e=wu(),Vs=Eo=Zt=null,Jr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Su&&t.locale!=="ko"?null:t.data;default:return null}}var sp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!sp[e.type]:t==="textarea"}function Pu(e,t,n,a){Ql(a),t=ei(t,"onChange"),0<t.length&&(n=new No("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var Gn=null,Qn=null;function ip(e){Ju(e,0)}function Qs(e){var t=Zr(e);if(Ul(t))return e}function op(e,t){if(e==="change")return t}var Ou=!1;if(p){var Io;if(p){var Ao="oninput"in document;if(!Ao){var Ru=document.createElement("div");Ru.setAttribute("oninput","return;"),Ao=typeof Ru.oninput=="function"}Io=Ao}else Io=!1;Ou=Io&&(!document.documentMode||9<document.documentMode)}function Iu(){Gn&&(Gn.detachEvent("onpropertychange",Au),Qn=Gn=null)}function Au(e){if(e.propertyName==="value"&&Qs(Qn)){var t=[];Pu(t,Qn,e,fo(e)),eu(ip,t)}}function ap(e,t,n){e==="focusin"?(Iu(),Gn=t,Qn=n,Gn.attachEvent("onpropertychange",Au)):e==="focusout"&&Iu()}function lp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Qs(Qn)}function up(e,t){if(e==="click")return Qs(t)}function cp(e,t){if(e==="input"||e==="change")return Qs(t)}function dp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bt=typeof Object.is=="function"?Object.is:dp;function Yn(e,t){if(bt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var c=n[a];if(!m.call(t,c)||!bt(e[c],t[c]))return!1}return!0}function Lu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $u(e,t){var n=Lu(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Lu(n)}}function Du(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Du(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Uu(){for(var e=window,t=Is();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Is(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function hp(e){var t=Uu(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Du(n.ownerDocument.documentElement,n)){if(a!==null&&Lo(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=n.textContent.length,f=Math.min(a.start,c);a=a.end===void 0?f:Math.min(a.end,c),!e.extend&&f>a&&(c=a,a=f,f=c),c=$u(n,f);var g=$u(n,a);c&&g&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==g.node||e.focusOffset!==g.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),f>a?(e.addRange(t),e.extend(g.node,g.offset)):(t.setEnd(g.node,g.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fp=p&&"documentMode"in document&&11>=document.documentMode,Gr=null,$o=null,Xn=null,Do=!1;function Mu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Do||Gr==null||Gr!==Is(a)||(a=Gr,"selectionStart"in a&&Lo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Xn&&Yn(Xn,a)||(Xn=a,a=ei($o,"onSelect"),0<a.length&&(t=new No("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Gr)))}function Ys(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qr={animationend:Ys("Animation","AnimationEnd"),animationiteration:Ys("Animation","AnimationIteration"),animationstart:Ys("Animation","AnimationStart"),transitionend:Ys("Transition","TransitionEnd")},Uo={},zu={};p&&(zu=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function Xs(e){if(Uo[e])return Uo[e];if(!Qr[e])return e;var t=Qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in zu)return Uo[e]=t[n];return e}var Fu=Xs("animationend"),Bu=Xs("animationiteration"),Wu=Xs("animationstart"),Hu=Xs("transitionend"),qu=new Map,Vu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){qu.set(e,t),u(t,[e])}for(var Mo=0;Mo<Vu.length;Mo++){var zo=Vu[Mo],pp=zo.toLowerCase(),mp=zo[0].toUpperCase()+zo.slice(1);er(pp,"on"+mp)}er(Fu,"onAnimationEnd"),er(Bu,"onAnimationIteration"),er(Wu,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Hu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Zn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),gp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Zn));function Ku(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,pf(a,t,void 0,e),e.currentTarget=null}function Ju(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],c=a.event;a=a.listeners;e:{var f=void 0;if(t)for(var g=a.length-1;0<=g;g--){var x=a[g],b=x.instance,P=x.currentTarget;if(x=x.listener,b!==f&&c.isPropagationStopped())break e;Ku(c,x,P),f=b}else for(g=0;g<a.length;g++){if(x=a[g],b=x.instance,P=x.currentTarget,x=x.listener,b!==f&&c.isPropagationStopped())break e;Ku(c,x,P),f=b}}}if($s)throw e=vo,$s=!1,vo=null,e}function xe(e,t){var n=t[Jo];n===void 0&&(n=t[Jo]=new Set);var a=e+"__bubble";n.has(a)||(Gu(t,e,2,!1),n.add(a))}function Fo(e,t,n){var a=0;t&&(a|=4),Gu(n,e,a,t)}var Zs="_reactListening"+Math.random().toString(36).slice(2);function es(e){if(!e[Zs]){e[Zs]=!0,i.forEach(function(n){n!=="selectionchange"&&(gp.has(n)||Fo(n,!1,e),Fo(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Zs]||(t[Zs]=!0,Fo("selectionchange",!1,t))}}function Gu(e,t,n,a){switch(yu(t)){case 1:var c=Pf;break;case 4:c=Of;break;default:c=So}n=c.bind(null,t,n,e),c=void 0,!go||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),a?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Bo(e,t,n,a,c){var f=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var g=a.tag;if(g===3||g===4){var x=a.stateNode.containerInfo;if(x===c||x.nodeType===8&&x.parentNode===c)break;if(g===4)for(g=a.return;g!==null;){var b=g.tag;if((b===3||b===4)&&(b=g.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;g=g.return}for(;x!==null;){if(g=br(x),g===null)return;if(b=g.tag,b===5||b===6){a=f=g;continue e}x=x.parentNode}}a=a.return}eu(function(){var P=f,L=fo(n),D=[];e:{var I=qu.get(e);if(I!==void 0){var B=No,V=e;switch(e){case"keypress":if(Ks(n)===0)break e;case"keydown":case"keyup":B=Vf;break;case"focusin":V="focus",B=Po;break;case"focusout":V="blur",B=Po;break;case"beforeblur":case"afterblur":B=Po;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=_u;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=Af;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=Gf;break;case Fu:case Bu:case Wu:B=Df;break;case Hu:B=Yf;break;case"scroll":B=Rf;break;case"wheel":B=Zf;break;case"copy":case"cut":case"paste":B=Mf;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=ku}var K=(t&4)!==0,Re=!K&&e==="scroll",N=K?I!==null?I+"Capture":null:I;K=[];for(var k=P,C;k!==null;){C=k;var U=C.stateNode;if(C.tag===5&&U!==null&&(C=U,N!==null&&(U=$n(k,N),U!=null&&K.push(ts(k,U,C)))),Re)break;k=k.return}0<K.length&&(I=new B(I,V,null,n,L),D.push({event:I,listeners:K}))}}if((t&7)===0){e:{if(I=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",I&&n!==ho&&(V=n.relatedTarget||n.fromElement)&&(br(V)||V[Dt]))break e;if((B||I)&&(I=L.window===L?L:(I=L.ownerDocument)?I.defaultView||I.parentWindow:window,B?(V=n.relatedTarget||n.toElement,B=P,V=V?br(V):null,V!==null&&(Re=_r(V),V!==Re||V.tag!==5&&V.tag!==6)&&(V=null)):(B=null,V=P),B!==V)){if(K=_u,U="onMouseLeave",N="onMouseEnter",k="mouse",(e==="pointerout"||e==="pointerover")&&(K=ku,U="onPointerLeave",N="onPointerEnter",k="pointer"),Re=B==null?I:Zr(B),C=V==null?I:Zr(V),I=new K(U,k+"leave",B,n,L),I.target=Re,I.relatedTarget=C,U=null,br(L)===P&&(K=new K(N,k+"enter",V,n,L),K.target=C,K.relatedTarget=Re,U=K),Re=U,B&&V)t:{for(K=B,N=V,k=0,C=K;C;C=Yr(C))k++;for(C=0,U=N;U;U=Yr(U))C++;for(;0<k-C;)K=Yr(K),k--;for(;0<C-k;)N=Yr(N),C--;for(;k--;){if(K===N||N!==null&&K===N.alternate)break t;K=Yr(K),N=Yr(N)}K=null}else K=null;B!==null&&Qu(D,I,B,K,!1),V!==null&&Re!==null&&Qu(D,Re,V,K,!0)}}e:{if(I=P?Zr(P):window,B=I.nodeName&&I.nodeName.toLowerCase(),B==="select"||B==="input"&&I.type==="file")var J=op;else if(Tu(I))if(Ou)J=cp;else{J=lp;var G=ap}else(B=I.nodeName)&&B.toLowerCase()==="input"&&(I.type==="checkbox"||I.type==="radio")&&(J=up);if(J&&(J=J(e,P))){Pu(D,J,n,L);break e}G&&G(e,I,P),e==="focusout"&&(G=I._wrapperState)&&G.controlled&&I.type==="number"&&oo(I,"number",I.value)}switch(G=P?Zr(P):window,e){case"focusin":(Tu(G)||G.contentEditable==="true")&&(Gr=G,$o=P,Xn=null);break;case"focusout":Xn=$o=Gr=null;break;case"mousedown":Do=!0;break;case"contextmenu":case"mouseup":case"dragend":Do=!1,Mu(D,n,L);break;case"selectionchange":if(fp)break;case"keydown":case"keyup":Mu(D,n,L)}var Q;if(Ro)e:{switch(e){case"compositionstart":var ee="onCompositionStart";break e;case"compositionend":ee="onCompositionEnd";break e;case"compositionupdate":ee="onCompositionUpdate";break e}ee=void 0}else Jr?Nu(e,n)&&(ee="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(ee="onCompositionStart");ee&&(Su&&n.locale!=="ko"&&(Jr||ee!=="onCompositionStart"?ee==="onCompositionEnd"&&Jr&&(Q=wu()):(Zt=L,Eo="value"in Zt?Zt.value:Zt.textContent,Jr=!0)),G=ei(P,ee),0<G.length&&(ee=new bu(ee,e,null,n,L),D.push({event:ee,listeners:G}),Q?ee.data=Q:(Q=Cu(n),Q!==null&&(ee.data=Q)))),(Q=tp?rp(e,n):np(e,n))&&(P=ei(P,"onBeforeInput"),0<P.length&&(L=new bu("onBeforeInput","beforeinput",null,n,L),D.push({event:L,listeners:P}),L.data=Q))}Ju(D,t)})}function ts(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ei(e,t){for(var n=t+"Capture",a=[];e!==null;){var c=e,f=c.stateNode;c.tag===5&&f!==null&&(c=f,f=$n(e,n),f!=null&&a.unshift(ts(e,f,c)),f=$n(e,t),f!=null&&a.push(ts(e,f,c))),e=e.return}return a}function Yr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Qu(e,t,n,a,c){for(var f=t._reactName,g=[];n!==null&&n!==a;){var x=n,b=x.alternate,P=x.stateNode;if(b!==null&&b===a)break;x.tag===5&&P!==null&&(x=P,c?(b=$n(n,f),b!=null&&g.unshift(ts(n,b,x))):c||(b=$n(n,f),b!=null&&g.push(ts(n,b,x)))),n=n.return}g.length!==0&&e.push({event:t,listeners:g})}var vp=/\r\n?/g,yp=/\u0000|\uFFFD/g;function Yu(e){return(typeof e=="string"?e:""+e).replace(vp,`
`).replace(yp,"")}function ti(e,t,n){if(t=Yu(t),Yu(e)!==t&&n)throw Error(s(425))}function ri(){}var Wo=null,Ho=null;function qo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,wp=typeof clearTimeout=="function"?clearTimeout:void 0,Xu=typeof Promise=="function"?Promise:void 0,xp=typeof queueMicrotask=="function"?queueMicrotask:typeof Xu<"u"?function(e){return Xu.resolve(null).then(e).catch(_p)}:Vo;function _p(e){setTimeout(function(){throw e})}function Ko(e,t){var n=t,a=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(a===0){e.removeChild(c),qn(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=c}while(n);qn(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Zu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Xr=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Xr,rs="__reactProps$"+Xr,Dt="__reactContainer$"+Xr,Jo="__reactEvents$"+Xr,bp="__reactListeners$"+Xr,kp="__reactHandles$"+Xr;function br(e){var t=e[Ot];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[Ot]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Zu(e);e!==null;){if(n=e[Ot])return n;e=Zu(e)}return t}e=n,n=e.parentNode}return null}function ns(e){return e=e[Ot]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function ni(e){return e[rs]||null}var Go=[],en=-1;function rr(e){return{current:e}}function _e(e){0>en||(e.current=Go[en],Go[en]=null,en--)}function ve(e,t){en++,Go[en]=e.current,e.current=t}var nr={},Ge=rr(nr),tt=rr(!1),kr=nr;function tn(e,t){var n=e.type.contextTypes;if(!n)return nr;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var c={},f;for(f in n)c[f]=t[f];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function rt(e){return e=e.childContextTypes,e!=null}function si(){_e(tt),_e(Ge)}function ec(e,t,n){if(Ge.current!==nr)throw Error(s(168));ve(Ge,t),ve(tt,n)}function tc(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var c in a)if(!(c in t))throw Error(s(108,ge(e)||"Unknown",c));return q({},n,a)}function ii(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,kr=Ge.current,ve(Ge,e),ve(tt,tt.current),!0}function rc(e,t,n){var a=e.stateNode;if(!a)throw Error(s(169));n?(e=tc(e,t,kr),a.__reactInternalMemoizedMergedChildContext=e,_e(tt),_e(Ge),ve(Ge,e)):_e(tt),ve(tt,n)}var Ut=null,oi=!1,Qo=!1;function nc(e){Ut===null?Ut=[e]:Ut.push(e)}function Sp(e){oi=!0,nc(e)}function sr(){if(!Qo&&Ut!==null){Qo=!0;var e=0,t=pe;try{var n=Ut;for(pe=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Ut=null,oi=!1}catch(c){throw Ut!==null&&(Ut=Ut.slice(e+1)),iu(yo,sr),c}finally{pe=t,Qo=!1}}return null}var rn=[],nn=0,ai=null,li=0,pt=[],mt=0,Sr=null,Mt=1,zt="";function jr(e,t){rn[nn++]=li,rn[nn++]=ai,ai=e,li=t}function sc(e,t,n){pt[mt++]=Mt,pt[mt++]=zt,pt[mt++]=Sr,Sr=e;var a=Mt;e=zt;var c=32-_t(a)-1;a&=~(1<<c),n+=1;var f=32-_t(t)+c;if(30<f){var g=c-c%5;f=(a&(1<<g)-1).toString(32),a>>=g,c-=g,Mt=1<<32-_t(t)+c|n<<c|a,zt=f+e}else Mt=1<<f|n<<c|a,zt=e}function Yo(e){e.return!==null&&(jr(e,1),sc(e,1,0))}function Xo(e){for(;e===ai;)ai=rn[--nn],rn[nn]=null,li=rn[--nn],rn[nn]=null;for(;e===Sr;)Sr=pt[--mt],pt[mt]=null,zt=pt[--mt],pt[mt]=null,Mt=pt[--mt],pt[mt]=null}var ct=null,dt=null,ke=!1,kt=null;function ic(e,t){var n=wt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function oc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ct=e,dt=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ct=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Sr!==null?{id:Mt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=wt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ct=e,dt=null,!0):!1;default:return!1}}function Zo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ea(e){if(ke){var t=dt;if(t){var n=t;if(!oc(e,t)){if(Zo(e))throw Error(s(418));t=tr(n.nextSibling);var a=ct;t&&oc(e,t)?ic(a,n):(e.flags=e.flags&-4097|2,ke=!1,ct=e)}}else{if(Zo(e))throw Error(s(418));e.flags=e.flags&-4097|2,ke=!1,ct=e}}}function ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ct=e}function ui(e){if(e!==ct)return!1;if(!ke)return ac(e),ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!qo(e.type,e.memoizedProps)),t&&(t=dt)){if(Zo(e))throw lc(),Error(s(418));for(;t;)ic(e,t),t=tr(t.nextSibling)}if(ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=tr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ct?tr(e.stateNode.nextSibling):null;return!0}function lc(){for(var e=dt;e;)e=tr(e.nextSibling)}function sn(){dt=ct=null,ke=!1}function ta(e){kt===null?kt=[e]:kt.push(e)}var jp=W.ReactCurrentBatchConfig;function ss(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var a=n.stateNode}if(!a)throw Error(s(147,e));var c=a,f=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===f?t.ref:(t=function(g){var x=c.refs;g===null?delete x[f]:x[f]=g},t._stringRef=f,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function ci(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function uc(e){var t=e._init;return t(e._payload)}function cc(e){function t(N,k){if(e){var C=N.deletions;C===null?(N.deletions=[k],N.flags|=16):C.push(k)}}function n(N,k){if(!e)return null;for(;k!==null;)t(N,k),k=k.sibling;return null}function a(N,k){for(N=new Map;k!==null;)k.key!==null?N.set(k.key,k):N.set(k.index,k),k=k.sibling;return N}function c(N,k){return N=hr(N,k),N.index=0,N.sibling=null,N}function f(N,k,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<k?(N.flags|=2,k):C):(N.flags|=2,k)):(N.flags|=1048576,k)}function g(N){return e&&N.alternate===null&&(N.flags|=2),N}function x(N,k,C,U){return k===null||k.tag!==6?(k=Va(C,N.mode,U),k.return=N,k):(k=c(k,C),k.return=N,k)}function b(N,k,C,U){var J=C.type;return J===ae?L(N,k,C.props.children,U,C.key):k!==null&&(k.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Je&&uc(J)===k.type)?(U=c(k,C.props),U.ref=ss(N,k,C),U.return=N,U):(U=Ai(C.type,C.key,C.props,null,N.mode,U),U.ref=ss(N,k,C),U.return=N,U)}function P(N,k,C,U){return k===null||k.tag!==4||k.stateNode.containerInfo!==C.containerInfo||k.stateNode.implementation!==C.implementation?(k=Ka(C,N.mode,U),k.return=N,k):(k=c(k,C.children||[]),k.return=N,k)}function L(N,k,C,U,J){return k===null||k.tag!==7?(k=Ir(C,N.mode,U,J),k.return=N,k):(k=c(k,C),k.return=N,k)}function D(N,k,C){if(typeof k=="string"&&k!==""||typeof k=="number")return k=Va(""+k,N.mode,C),k.return=N,k;if(typeof k=="object"&&k!==null){switch(k.$$typeof){case te:return C=Ai(k.type,k.key,k.props,null,N.mode,C),C.ref=ss(N,null,k),C.return=N,C;case X:return k=Ka(k,N.mode,C),k.return=N,k;case Je:var U=k._init;return D(N,U(k._payload),C)}if(In(k)||Z(k))return k=Ir(k,N.mode,C,null),k.return=N,k;ci(N,k)}return null}function I(N,k,C,U){var J=k!==null?k.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return J!==null?null:x(N,k,""+C,U);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case te:return C.key===J?b(N,k,C,U):null;case X:return C.key===J?P(N,k,C,U):null;case Je:return J=C._init,I(N,k,J(C._payload),U)}if(In(C)||Z(C))return J!==null?null:L(N,k,C,U,null);ci(N,C)}return null}function B(N,k,C,U,J){if(typeof U=="string"&&U!==""||typeof U=="number")return N=N.get(C)||null,x(k,N,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case te:return N=N.get(U.key===null?C:U.key)||null,b(k,N,U,J);case X:return N=N.get(U.key===null?C:U.key)||null,P(k,N,U,J);case Je:var G=U._init;return B(N,k,C,G(U._payload),J)}if(In(U)||Z(U))return N=N.get(C)||null,L(k,N,U,J,null);ci(k,U)}return null}function V(N,k,C,U){for(var J=null,G=null,Q=k,ee=k=0,We=null;Q!==null&&ee<C.length;ee++){Q.index>ee?(We=Q,Q=null):We=Q.sibling;var de=I(N,Q,C[ee],U);if(de===null){Q===null&&(Q=We);break}e&&Q&&de.alternate===null&&t(N,Q),k=f(de,k,ee),G===null?J=de:G.sibling=de,G=de,Q=We}if(ee===C.length)return n(N,Q),ke&&jr(N,ee),J;if(Q===null){for(;ee<C.length;ee++)Q=D(N,C[ee],U),Q!==null&&(k=f(Q,k,ee),G===null?J=Q:G.sibling=Q,G=Q);return ke&&jr(N,ee),J}for(Q=a(N,Q);ee<C.length;ee++)We=B(Q,N,ee,C[ee],U),We!==null&&(e&&We.alternate!==null&&Q.delete(We.key===null?ee:We.key),k=f(We,k,ee),G===null?J=We:G.sibling=We,G=We);return e&&Q.forEach(function(fr){return t(N,fr)}),ke&&jr(N,ee),J}function K(N,k,C,U){var J=Z(C);if(typeof J!="function")throw Error(s(150));if(C=J.call(C),C==null)throw Error(s(151));for(var G=J=null,Q=k,ee=k=0,We=null,de=C.next();Q!==null&&!de.done;ee++,de=C.next()){Q.index>ee?(We=Q,Q=null):We=Q.sibling;var fr=I(N,Q,de.value,U);if(fr===null){Q===null&&(Q=We);break}e&&Q&&fr.alternate===null&&t(N,Q),k=f(fr,k,ee),G===null?J=fr:G.sibling=fr,G=fr,Q=We}if(de.done)return n(N,Q),ke&&jr(N,ee),J;if(Q===null){for(;!de.done;ee++,de=C.next())de=D(N,de.value,U),de!==null&&(k=f(de,k,ee),G===null?J=de:G.sibling=de,G=de);return ke&&jr(N,ee),J}for(Q=a(N,Q);!de.done;ee++,de=C.next())de=B(Q,N,ee,de.value,U),de!==null&&(e&&de.alternate!==null&&Q.delete(de.key===null?ee:de.key),k=f(de,k,ee),G===null?J=de:G.sibling=de,G=de);return e&&Q.forEach(function(sm){return t(N,sm)}),ke&&jr(N,ee),J}function Re(N,k,C,U){if(typeof C=="object"&&C!==null&&C.type===ae&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case te:e:{for(var J=C.key,G=k;G!==null;){if(G.key===J){if(J=C.type,J===ae){if(G.tag===7){n(N,G.sibling),k=c(G,C.props.children),k.return=N,N=k;break e}}else if(G.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Je&&uc(J)===G.type){n(N,G.sibling),k=c(G,C.props),k.ref=ss(N,G,C),k.return=N,N=k;break e}n(N,G);break}else t(N,G);G=G.sibling}C.type===ae?(k=Ir(C.props.children,N.mode,U,C.key),k.return=N,N=k):(U=Ai(C.type,C.key,C.props,null,N.mode,U),U.ref=ss(N,k,C),U.return=N,N=U)}return g(N);case X:e:{for(G=C.key;k!==null;){if(k.key===G)if(k.tag===4&&k.stateNode.containerInfo===C.containerInfo&&k.stateNode.implementation===C.implementation){n(N,k.sibling),k=c(k,C.children||[]),k.return=N,N=k;break e}else{n(N,k);break}else t(N,k);k=k.sibling}k=Ka(C,N.mode,U),k.return=N,N=k}return g(N);case Je:return G=C._init,Re(N,k,G(C._payload),U)}if(In(C))return V(N,k,C,U);if(Z(C))return K(N,k,C,U);ci(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,k!==null&&k.tag===6?(n(N,k.sibling),k=c(k,C),k.return=N,N=k):(n(N,k),k=Va(C,N.mode,U),k.return=N,N=k),g(N)):n(N,k)}return Re}var on=cc(!0),dc=cc(!1),di=rr(null),hi=null,an=null,ra=null;function na(){ra=an=hi=null}function sa(e){var t=di.current;_e(di),e._currentValue=t}function ia(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function ln(e,t){hi=e,ra=an=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(nt=!0),e.firstContext=null)}function gt(e){var t=e._currentValue;if(ra!==e)if(e={context:e,memoizedValue:t,next:null},an===null){if(hi===null)throw Error(s(308));an=e,hi.dependencies={lanes:0,firstContext:e}}else an=an.next=e;return t}var Er=null;function oa(e){Er===null?Er=[e]:Er.push(e)}function hc(e,t,n,a){var c=t.interleaved;return c===null?(n.next=n,oa(t)):(n.next=c.next,c.next=n),t.interleaved=n,Ft(e,a)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function aa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Bt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(le&2)!==0){var c=a.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),a.pending=t,Ft(e,n)}return c=a.interleaved,c===null?(t.next=t,oa(a)):(t.next=c.next,c.next=t),a.interleaved=t,Ft(e,n)}function fi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_o(e,n)}}function pc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var c=null,f=null;if(n=n.firstBaseUpdate,n!==null){do{var g={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};f===null?c=f=g:f=f.next=g,n=n.next}while(n!==null);f===null?c=f=t:f=f.next=t}else c=f=t;n={baseState:a.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pi(e,t,n,a){var c=e.updateQueue;ir=!1;var f=c.firstBaseUpdate,g=c.lastBaseUpdate,x=c.shared.pending;if(x!==null){c.shared.pending=null;var b=x,P=b.next;b.next=null,g===null?f=P:g.next=P,g=b;var L=e.alternate;L!==null&&(L=L.updateQueue,x=L.lastBaseUpdate,x!==g&&(x===null?L.firstBaseUpdate=P:x.next=P,L.lastBaseUpdate=b))}if(f!==null){var D=c.baseState;g=0,L=P=b=null,x=f;do{var I=x.lane,B=x.eventTime;if((a&I)===I){L!==null&&(L=L.next={eventTime:B,lane:0,tag:x.tag,payload:x.payload,callback:x.callback,next:null});e:{var V=e,K=x;switch(I=t,B=n,K.tag){case 1:if(V=K.payload,typeof V=="function"){D=V.call(B,D,I);break e}D=V;break e;case 3:V.flags=V.flags&-65537|128;case 0:if(V=K.payload,I=typeof V=="function"?V.call(B,D,I):V,I==null)break e;D=q({},D,I);break e;case 2:ir=!0}}x.callback!==null&&x.lane!==0&&(e.flags|=64,I=c.effects,I===null?c.effects=[x]:I.push(x))}else B={eventTime:B,lane:I,tag:x.tag,payload:x.payload,callback:x.callback,next:null},L===null?(P=L=B,b=D):L=L.next=B,g|=I;if(x=x.next,x===null){if(x=c.shared.pending,x===null)break;I=x,x=I.next,I.next=null,c.lastBaseUpdate=I,c.shared.pending=null}}while(!0);if(L===null&&(b=D),c.baseState=b,c.firstBaseUpdate=P,c.lastBaseUpdate=L,t=c.shared.interleaved,t!==null){c=t;do g|=c.lane,c=c.next;while(c!==t)}else f===null&&(c.shared.lanes=0);Tr|=g,e.lanes=g,e.memoizedState=D}}function mc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],c=a.callback;if(c!==null){if(a.callback=null,a=n,typeof c!="function")throw Error(s(191,c));c.call(a)}}}var is={},Rt=rr(is),os=rr(is),as=rr(is);function Nr(e){if(e===is)throw Error(s(174));return e}function la(e,t){switch(ve(as,t),ve(os,e),ve(Rt,is),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:lo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=lo(t,e)}_e(Rt),ve(Rt,t)}function un(){_e(Rt),_e(os),_e(as)}function gc(e){Nr(as.current);var t=Nr(Rt.current),n=lo(t,e.type);t!==n&&(ve(os,e),ve(Rt,n))}function ua(e){os.current===e&&(_e(Rt),_e(os))}var Ee=rr(0);function mi(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function da(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var gi=W.ReactCurrentDispatcher,ha=W.ReactCurrentBatchConfig,Cr=0,Ne=null,Ue=null,Fe=null,vi=!1,ls=!1,us=0,Ep=0;function Qe(){throw Error(s(321))}function fa(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bt(e[n],t[n]))return!1;return!0}function pa(e,t,n,a,c,f){if(Cr=f,Ne=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,gi.current=e===null||e.memoizedState===null?Pp:Op,e=n(a,c),ls){f=0;do{if(ls=!1,us=0,25<=f)throw Error(s(301));f+=1,Fe=Ue=null,t.updateQueue=null,gi.current=Rp,e=n(a,c)}while(ls)}if(gi.current=xi,t=Ue!==null&&Ue.next!==null,Cr=0,Fe=Ue=Ne=null,vi=!1,t)throw Error(s(300));return e}function ma(){var e=us!==0;return us=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Ne.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function vt(){if(Ue===null){var e=Ne.alternate;e=e!==null?e.memoizedState:null}else e=Ue.next;var t=Fe===null?Ne.memoizedState:Fe.next;if(t!==null)Fe=t,Ue=e;else{if(e===null)throw Error(s(310));Ue=e,e={memoizedState:Ue.memoizedState,baseState:Ue.baseState,baseQueue:Ue.baseQueue,queue:Ue.queue,next:null},Fe===null?Ne.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function cs(e,t){return typeof t=="function"?t(e):t}function ga(e){var t=vt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=Ue,c=a.baseQueue,f=n.pending;if(f!==null){if(c!==null){var g=c.next;c.next=f.next,f.next=g}a.baseQueue=c=f,n.pending=null}if(c!==null){f=c.next,a=a.baseState;var x=g=null,b=null,P=f;do{var L=P.lane;if((Cr&L)===L)b!==null&&(b=b.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),a=P.hasEagerState?P.eagerState:e(a,P.action);else{var D={lane:L,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};b===null?(x=b=D,g=a):b=b.next=D,Ne.lanes|=L,Tr|=L}P=P.next}while(P!==null&&P!==f);b===null?g=a:b.next=x,bt(a,t.memoizedState)||(nt=!0),t.memoizedState=a,t.baseState=g,t.baseQueue=b,n.lastRenderedState=a}if(e=n.interleaved,e!==null){c=e;do f=c.lane,Ne.lanes|=f,Tr|=f,c=c.next;while(c!==e)}else c===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function va(e){var t=vt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var a=n.dispatch,c=n.pending,f=t.memoizedState;if(c!==null){n.pending=null;var g=c=c.next;do f=e(f,g.action),g=g.next;while(g!==c);bt(f,t.memoizedState)||(nt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),n.lastRenderedState=f}return[f,a]}function vc(){}function yc(e,t){var n=Ne,a=vt(),c=t(),f=!bt(a.memoizedState,c);if(f&&(a.memoizedState=c,nt=!0),a=a.queue,ya(_c.bind(null,n,a,e),[e]),a.getSnapshot!==t||f||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,ds(9,xc.bind(null,n,a,c,t),void 0,null),Be===null)throw Error(s(349));(Cr&30)!==0||wc(n,t,c)}return c}function wc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function xc(e,t,n,a){t.value=n,t.getSnapshot=a,bc(t)&&kc(e)}function _c(e,t,n){return n(function(){bc(t)&&kc(e)})}function bc(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bt(e,n)}catch{return!0}}function kc(e){var t=Ft(e,1);t!==null&&Nt(t,e,1,-1)}function Sc(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:cs,lastRenderedState:e},t.queue=e,e=e.dispatch=Tp.bind(null,Ne,e),[t.memoizedState,e]}function ds(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Ne.updateQueue,t===null?(t={lastEffect:null,stores:null},Ne.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function jc(){return vt().memoizedState}function yi(e,t,n,a){var c=It();Ne.flags|=e,c.memoizedState=ds(1|t,n,void 0,a===void 0?null:a)}function wi(e,t,n,a){var c=vt();a=a===void 0?null:a;var f=void 0;if(Ue!==null){var g=Ue.memoizedState;if(f=g.destroy,a!==null&&fa(a,g.deps)){c.memoizedState=ds(t,n,f,a);return}}Ne.flags|=e,c.memoizedState=ds(1|t,n,f,a)}function Ec(e,t){return yi(8390656,8,e,t)}function ya(e,t){return wi(2048,8,e,t)}function Nc(e,t){return wi(4,2,e,t)}function Cc(e,t){return wi(4,4,e,t)}function Tc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Pc(e,t,n){return n=n!=null?n.concat([e]):null,wi(4,4,Tc.bind(null,t,e),n)}function wa(){}function Oc(e,t){var n=vt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&fa(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function Rc(e,t){var n=vt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&fa(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Ic(e,t,n){return(Cr&21)===0?(e.baseState&&(e.baseState=!1,nt=!0),e.memoizedState=n):(bt(n,t)||(n=uu(),Ne.lanes|=n,Tr|=n,e.baseState=!0),t)}function Np(e,t){var n=pe;pe=n!==0&&4>n?n:4,e(!0);var a=ha.transition;ha.transition={};try{e(!1),t()}finally{pe=n,ha.transition=a}}function Ac(){return vt().memoizedState}function Cp(e,t,n){var a=cr(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Lc(e))$c(t,n);else if(n=hc(e,t,n,a),n!==null){var c=et();Nt(n,e,a,c),Dc(n,t,a)}}function Tp(e,t,n){var a=cr(e),c={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Lc(e))$c(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var g=t.lastRenderedState,x=f(g,n);if(c.hasEagerState=!0,c.eagerState=x,bt(x,g)){var b=t.interleaved;b===null?(c.next=c,oa(t)):(c.next=b.next,b.next=c),t.interleaved=c;return}}catch{}finally{}n=hc(e,t,c,a),n!==null&&(c=et(),Nt(n,e,a,c),Dc(n,t,a))}}function Lc(e){var t=e.alternate;return e===Ne||t!==null&&t===Ne}function $c(e,t){ls=vi=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Dc(e,t,n){if((n&4194240)!==0){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,_o(e,n)}}var xi={readContext:gt,useCallback:Qe,useContext:Qe,useEffect:Qe,useImperativeHandle:Qe,useInsertionEffect:Qe,useLayoutEffect:Qe,useMemo:Qe,useReducer:Qe,useRef:Qe,useState:Qe,useDebugValue:Qe,useDeferredValue:Qe,useTransition:Qe,useMutableSource:Qe,useSyncExternalStore:Qe,useId:Qe,unstable_isNewReconciler:!1},Pp={readContext:gt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:gt,useEffect:Ec,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,yi(4194308,4,Tc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return yi(4194308,4,e,t)},useInsertionEffect:function(e,t){return yi(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=It();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=Cp.bind(null,Ne,e),[a.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Sc,useDebugValue:wa,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Sc(!1),t=e[0];return e=Np.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Ne,c=It();if(ke){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Be===null)throw Error(s(349));(Cr&30)!==0||wc(a,t,n)}c.memoizedState=n;var f={value:n,getSnapshot:t};return c.queue=f,Ec(_c.bind(null,a,f,e),[e]),a.flags|=2048,ds(9,xc.bind(null,a,f,n,t),void 0,null),n},useId:function(){var e=It(),t=Be.identifierPrefix;if(ke){var n=zt,a=Mt;n=(a&~(1<<32-_t(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=us++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=Ep++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Op={readContext:gt,useCallback:Oc,useContext:gt,useEffect:ya,useImperativeHandle:Pc,useInsertionEffect:Nc,useLayoutEffect:Cc,useMemo:Rc,useReducer:ga,useRef:jc,useState:function(){return ga(cs)},useDebugValue:wa,useDeferredValue:function(e){var t=vt();return Ic(t,Ue.memoizedState,e)},useTransition:function(){var e=ga(cs)[0],t=vt().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:yc,useId:Ac,unstable_isNewReconciler:!1},Rp={readContext:gt,useCallback:Oc,useContext:gt,useEffect:ya,useImperativeHandle:Pc,useInsertionEffect:Nc,useLayoutEffect:Cc,useMemo:Rc,useReducer:va,useRef:jc,useState:function(){return va(cs)},useDebugValue:wa,useDeferredValue:function(e){var t=vt();return Ue===null?t.memoizedState=e:Ic(t,Ue.memoizedState,e)},useTransition:function(){var e=va(cs)[0],t=vt().memoizedState;return[e,t]},useMutableSource:vc,useSyncExternalStore:yc,useId:Ac,unstable_isNewReconciler:!1};function St(e,t){if(e&&e.defaultProps){t=q({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function xa(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:q({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var _i={isMounted:function(e){return(e=e._reactInternals)?_r(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=et(),c=cr(e),f=Bt(a,c);f.payload=t,n!=null&&(f.callback=n),t=or(e,f,c),t!==null&&(Nt(t,e,c,a),fi(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=et(),c=cr(e),f=Bt(a,c);f.tag=1,f.payload=t,n!=null&&(f.callback=n),t=or(e,f,c),t!==null&&(Nt(t,e,c,a),fi(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=et(),a=cr(e),c=Bt(n,a);c.tag=2,t!=null&&(c.callback=t),t=or(e,c,a),t!==null&&(Nt(t,e,a,n),fi(t,e,a))}};function Uc(e,t,n,a,c,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,g):t.prototype&&t.prototype.isPureReactComponent?!Yn(n,a)||!Yn(c,f):!0}function Mc(e,t,n){var a=!1,c=nr,f=t.contextType;return typeof f=="object"&&f!==null?f=gt(f):(c=rt(t)?kr:Ge.current,a=t.contextTypes,f=(a=a!=null)?tn(e,c):nr),t=new t(n,f),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=_i,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=f),t}function zc(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&_i.enqueueReplaceState(t,t.state,null)}function _a(e,t,n,a){var c=e.stateNode;c.props=n,c.state=e.memoizedState,c.refs={},aa(e);var f=t.contextType;typeof f=="object"&&f!==null?c.context=gt(f):(f=rt(t)?kr:Ge.current,c.context=tn(e,f)),c.state=e.memoizedState,f=t.getDerivedStateFromProps,typeof f=="function"&&(xa(e,t,f,n),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&_i.enqueueReplaceState(c,c.state,null),pi(e,n,c,a),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function cn(e,t){try{var n="",a=t;do n+=ue(a),a=a.return;while(a);var c=n}catch(f){c=`
Error generating stack: `+f.message+`
`+f.stack}return{value:e,source:t,stack:c,digest:null}}function ba(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ka(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var Ip=typeof WeakMap=="function"?WeakMap:Map;function Fc(e,t,n){n=Bt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Ci||(Ci=!0,Ua=a),ka(e,t)},n}function Bc(e,t,n){n=Bt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var c=t.value;n.payload=function(){return a(c)},n.callback=function(){ka(e,t)}}var f=e.stateNode;return f!==null&&typeof f.componentDidCatch=="function"&&(n.callback=function(){ka(e,t),typeof a!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var g=t.stack;this.componentDidCatch(t.value,{componentStack:g!==null?g:""})}),n}function Wc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new Ip;var c=new Set;a.set(t,c)}else c=a.get(t),c===void 0&&(c=new Set,a.set(t,c));c.has(n)||(c.add(n),e=Kp.bind(null,e,t,n),t.then(e,e))}function Hc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function qc(e,t,n,a,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Bt(-1,1),t.tag=2,or(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var Ap=W.ReactCurrentOwner,nt=!1;function Ze(e,t,n,a){t.child=e===null?dc(t,null,n,a):on(t,e.child,n,a)}function Vc(e,t,n,a,c){n=n.render;var f=t.ref;return ln(t,c),a=pa(e,t,n,a,f,c),n=ma(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Wt(e,t,c)):(ke&&n&&Yo(t),t.flags|=1,Ze(e,t,a,c),t.child)}function Kc(e,t,n,a,c){if(e===null){var f=n.type;return typeof f=="function"&&!qa(f)&&f.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=f,Jc(e,t,f,a,c)):(e=Ai(n.type,null,a,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,(e.lanes&c)===0){var g=f.memoizedProps;if(n=n.compare,n=n!==null?n:Yn,n(g,a)&&e.ref===t.ref)return Wt(e,t,c)}return t.flags|=1,e=hr(f,a),e.ref=t.ref,e.return=t,t.child=e}function Jc(e,t,n,a,c){if(e!==null){var f=e.memoizedProps;if(Yn(f,a)&&e.ref===t.ref)if(nt=!1,t.pendingProps=a=f,(e.lanes&c)!==0)(e.flags&131072)!==0&&(nt=!0);else return t.lanes=e.lanes,Wt(e,t,c)}return Sa(e,t,n,a,c)}function Gc(e,t,n){var a=t.pendingProps,c=a.children,f=e!==null?e.memoizedState:null;if(a.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ve(hn,ht),ht|=n;else{if((n&1073741824)===0)return e=f!==null?f.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ve(hn,ht),ht|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=f!==null?f.baseLanes:n,ve(hn,ht),ht|=a}else f!==null?(a=f.baseLanes|n,t.memoizedState=null):a=n,ve(hn,ht),ht|=a;return Ze(e,t,c,n),t.child}function Qc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,a,c){var f=rt(n)?kr:Ge.current;return f=tn(t,f),ln(t,c),n=pa(e,t,n,a,f,c),a=ma(),e!==null&&!nt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Wt(e,t,c)):(ke&&a&&Yo(t),t.flags|=1,Ze(e,t,n,c),t.child)}function Yc(e,t,n,a,c){if(rt(n)){var f=!0;ii(t)}else f=!1;if(ln(t,c),t.stateNode===null)ki(e,t),Mc(t,n,a),_a(t,n,a,c),a=!0;else if(e===null){var g=t.stateNode,x=t.memoizedProps;g.props=x;var b=g.context,P=n.contextType;typeof P=="object"&&P!==null?P=gt(P):(P=rt(n)?kr:Ge.current,P=tn(t,P));var L=n.getDerivedStateFromProps,D=typeof L=="function"||typeof g.getSnapshotBeforeUpdate=="function";D||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==a||b!==P)&&zc(t,g,a,P),ir=!1;var I=t.memoizedState;g.state=I,pi(t,a,g,c),b=t.memoizedState,x!==a||I!==b||tt.current||ir?(typeof L=="function"&&(xa(t,n,L,a),b=t.memoizedState),(x=ir||Uc(t,n,x,a,I,b,P))?(D||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(t.flags|=4194308)):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=b),g.props=a,g.state=b,g.context=P,a=x):(typeof g.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{g=t.stateNode,fc(e,t),x=t.memoizedProps,P=t.type===t.elementType?x:St(t.type,x),g.props=P,D=t.pendingProps,I=g.context,b=n.contextType,typeof b=="object"&&b!==null?b=gt(b):(b=rt(n)?kr:Ge.current,b=tn(t,b));var B=n.getDerivedStateFromProps;(L=typeof B=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(x!==D||I!==b)&&zc(t,g,a,b),ir=!1,I=t.memoizedState,g.state=I,pi(t,a,g,c);var V=t.memoizedState;x!==D||I!==V||tt.current||ir?(typeof B=="function"&&(xa(t,n,B,a),V=t.memoizedState),(P=ir||Uc(t,n,P,a,I,V,b)||!1)?(L||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(a,V,b),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(a,V,b)),typeof g.componentDidUpdate=="function"&&(t.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=V),g.props=a,g.state=V,g.context=b,a=P):(typeof g.componentDidUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&I===e.memoizedState||(t.flags|=1024),a=!1)}return ja(e,t,n,a,f,c)}function ja(e,t,n,a,c,f){Qc(e,t);var g=(t.flags&128)!==0;if(!a&&!g)return c&&rc(t,n,!1),Wt(e,t,f);a=t.stateNode,Ap.current=t;var x=g&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&g?(t.child=on(t,e.child,null,f),t.child=on(t,null,x,f)):Ze(e,t,x,f),t.memoizedState=a.state,c&&rc(t,n,!0),t.child}function Xc(e){var t=e.stateNode;t.pendingContext?ec(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ec(e,t.context,!1),la(e,t.containerInfo)}function Zc(e,t,n,a,c){return sn(),ta(c),t.flags|=256,Ze(e,t,n,a),t.child}var Ea={dehydrated:null,treeContext:null,retryLane:0};function Na(e){return{baseLanes:e,cachePool:null,transitions:null}}function ed(e,t,n){var a=t.pendingProps,c=Ee.current,f=!1,g=(t.flags&128)!==0,x;if((x=g)||(x=e!==null&&e.memoizedState===null?!1:(c&2)!==0),x?(f=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ve(Ee,c&1),e===null)return ea(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(g=a.children,e=a.fallback,f?(a=t.mode,f=t.child,g={mode:"hidden",children:g},(a&1)===0&&f!==null?(f.childLanes=0,f.pendingProps=g):f=Li(g,a,0,null),e=Ir(e,a,n,null),f.return=t,e.return=t,f.sibling=e,t.child=f,t.child.memoizedState=Na(n),t.memoizedState=Ea,e):Ca(t,g));if(c=e.memoizedState,c!==null&&(x=c.dehydrated,x!==null))return Lp(e,t,g,a,x,c,n);if(f){f=a.fallback,g=t.mode,c=e.child,x=c.sibling;var b={mode:"hidden",children:a.children};return(g&1)===0&&t.child!==c?(a=t.child,a.childLanes=0,a.pendingProps=b,t.deletions=null):(a=hr(c,b),a.subtreeFlags=c.subtreeFlags&14680064),x!==null?f=hr(x,f):(f=Ir(f,g,n,null),f.flags|=2),f.return=t,a.return=t,a.sibling=f,t.child=a,a=f,f=t.child,g=e.child.memoizedState,g=g===null?Na(n):{baseLanes:g.baseLanes|n,cachePool:null,transitions:g.transitions},f.memoizedState=g,f.childLanes=e.childLanes&~n,t.memoizedState=Ea,a}return f=e.child,e=f.sibling,a=hr(f,{mode:"visible",children:a.children}),(t.mode&1)===0&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Ca(e,t){return t=Li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function bi(e,t,n,a){return a!==null&&ta(a),on(t,e.child,null,n),e=Ca(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Lp(e,t,n,a,c,f,g){if(n)return t.flags&256?(t.flags&=-257,a=ba(Error(s(422))),bi(e,t,g,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(f=a.fallback,c=t.mode,a=Li({mode:"visible",children:a.children},c,0,null),f=Ir(f,c,g,null),f.flags|=2,a.return=t,f.return=t,a.sibling=f,t.child=a,(t.mode&1)!==0&&on(t,e.child,null,g),t.child.memoizedState=Na(g),t.memoizedState=Ea,f);if((t.mode&1)===0)return bi(e,t,g,null);if(c.data==="$!"){if(a=c.nextSibling&&c.nextSibling.dataset,a)var x=a.dgst;return a=x,f=Error(s(419)),a=ba(f,a,void 0),bi(e,t,g,a)}if(x=(g&e.childLanes)!==0,nt||x){if(a=Be,a!==null){switch(g&-g){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(a.suspendedLanes|g))!==0?0:c,c!==0&&c!==f.retryLane&&(f.retryLane=c,Ft(e,c),Nt(a,e,c,-1))}return Ha(),a=ba(Error(s(421))),bi(e,t,g,a)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Jp.bind(null,e),c._reactRetry=t,null):(e=f.treeContext,dt=tr(c.nextSibling),ct=t,ke=!0,kt=null,e!==null&&(pt[mt++]=Mt,pt[mt++]=zt,pt[mt++]=Sr,Mt=e.id,zt=e.overflow,Sr=t),t=Ca(t,a.children),t.flags|=4096,t)}function td(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),ia(e.return,t,n)}function Ta(e,t,n,a,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=a,f.tail=n,f.tailMode=c)}function rd(e,t,n){var a=t.pendingProps,c=a.revealOrder,f=a.tail;if(Ze(e,t,a.children,n),a=Ee.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&td(e,n,t);else if(e.tag===19)td(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(ve(Ee,a),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&mi(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Ta(t,!1,c,n,f);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&mi(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Ta(t,!0,n,null,f);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ki(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Tr|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function $p(e,t,n){switch(t.tag){case 3:Xc(t),sn();break;case 5:gc(t);break;case 1:rt(t.type)&&ii(t);break;case 4:la(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,c=t.memoizedProps.value;ve(di,a._currentValue),a._currentValue=c;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(ve(Ee,Ee.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?ed(e,t,n):(ve(Ee,Ee.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);ve(Ee,Ee.current&1);break;case 19:if(a=(n&t.childLanes)!==0,(e.flags&128)!==0){if(a)return rd(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ve(Ee,Ee.current),a)break;return null;case 22:case 23:return t.lanes=0,Gc(e,t,n)}return Wt(e,t,n)}var nd,Pa,sd,id;nd=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pa=function(){},sd=function(e,t,n,a){var c=e.memoizedProps;if(c!==a){e=t.stateNode,Nr(Rt.current);var f=null;switch(n){case"input":c=so(e,c),a=so(e,a),f=[];break;case"select":c=q({},c,{value:void 0}),a=q({},a,{value:void 0}),f=[];break;case"textarea":c=ao(e,c),a=ao(e,a),f=[];break;default:typeof c.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=ri)}uo(n,a);var g;n=null;for(P in c)if(!a.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var x=c[P];for(g in x)x.hasOwnProperty(g)&&(n||(n={}),n[g]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?f||(f=[]):(f=f||[]).push(P,null));for(P in a){var b=a[P];if(x=c!=null?c[P]:void 0,a.hasOwnProperty(P)&&b!==x&&(b!=null||x!=null))if(P==="style")if(x){for(g in x)!x.hasOwnProperty(g)||b&&b.hasOwnProperty(g)||(n||(n={}),n[g]="");for(g in b)b.hasOwnProperty(g)&&x[g]!==b[g]&&(n||(n={}),n[g]=b[g])}else n||(f||(f=[]),f.push(P,n)),n=b;else P==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,x=x?x.__html:void 0,b!=null&&x!==b&&(f=f||[]).push(P,b)):P==="children"?typeof b!="string"&&typeof b!="number"||(f=f||[]).push(P,""+b):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(b!=null&&P==="onScroll"&&xe("scroll",e),f||x===b||(f=[])):(f=f||[]).push(P,b))}n&&(f=f||[]).push("style",n);var P=f;(t.updateQueue=P)&&(t.flags|=4)}},id=function(e,t,n,a){n!==a&&(t.flags|=4)};function hs(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Ye(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags&14680064,a|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,a|=c.subtreeFlags,a|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function Dp(e,t,n){var a=t.pendingProps;switch(Xo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ye(t),null;case 1:return rt(t.type)&&si(),Ye(t),null;case 3:return a=t.stateNode,un(),_e(tt),_e(Ge),da(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(ui(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,kt!==null&&(Fa(kt),kt=null))),Pa(e,t),Ye(t),null;case 5:ua(t);var c=Nr(as.current);if(n=t.type,e!==null&&t.stateNode!=null)sd(e,t,n,a,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(s(166));return Ye(t),null}if(e=Nr(Rt.current),ui(t)){a=t.stateNode,n=t.type;var f=t.memoizedProps;switch(a[Ot]=t,a[rs]=f,e=(t.mode&1)!==0,n){case"dialog":xe("cancel",a),xe("close",a);break;case"iframe":case"object":case"embed":xe("load",a);break;case"video":case"audio":for(c=0;c<Zn.length;c++)xe(Zn[c],a);break;case"source":xe("error",a);break;case"img":case"image":case"link":xe("error",a),xe("load",a);break;case"details":xe("toggle",a);break;case"input":Ml(a,f),xe("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!f.multiple},xe("invalid",a);break;case"textarea":Bl(a,f),xe("invalid",a)}uo(n,f),c=null;for(var g in f)if(f.hasOwnProperty(g)){var x=f[g];g==="children"?typeof x=="string"?a.textContent!==x&&(f.suppressHydrationWarning!==!0&&ti(a.textContent,x,e),c=["children",x]):typeof x=="number"&&a.textContent!==""+x&&(f.suppressHydrationWarning!==!0&&ti(a.textContent,x,e),c=["children",""+x]):l.hasOwnProperty(g)&&x!=null&&g==="onScroll"&&xe("scroll",a)}switch(n){case"input":Rs(a),Fl(a,f,!0);break;case"textarea":Rs(a),Hl(a);break;case"select":case"option":break;default:typeof f.onClick=="function"&&(a.onclick=ri)}a=c,t.updateQueue=a,a!==null&&(t.flags|=4)}else{g=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=ql(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=g.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=g.createElement(n,{is:a.is}):(e=g.createElement(n),n==="select"&&(g=e,a.multiple?g.multiple=!0:a.size&&(g.size=a.size))):e=g.createElementNS(e,n),e[Ot]=t,e[rs]=a,nd(e,t,!1,!1),t.stateNode=e;e:{switch(g=co(n,a),n){case"dialog":xe("cancel",e),xe("close",e),c=a;break;case"iframe":case"object":case"embed":xe("load",e),c=a;break;case"video":case"audio":for(c=0;c<Zn.length;c++)xe(Zn[c],e);c=a;break;case"source":xe("error",e),c=a;break;case"img":case"image":case"link":xe("error",e),xe("load",e),c=a;break;case"details":xe("toggle",e),c=a;break;case"input":Ml(e,a),c=so(e,a),xe("invalid",e);break;case"option":c=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},c=q({},a,{value:void 0}),xe("invalid",e);break;case"textarea":Bl(e,a),c=ao(e,a),xe("invalid",e);break;default:c=a}uo(n,c),x=c;for(f in x)if(x.hasOwnProperty(f)){var b=x[f];f==="style"?Jl(e,b):f==="dangerouslySetInnerHTML"?(b=b?b.__html:void 0,b!=null&&Vl(e,b)):f==="children"?typeof b=="string"?(n!=="textarea"||b!=="")&&An(e,b):typeof b=="number"&&An(e,""+b):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(l.hasOwnProperty(f)?b!=null&&f==="onScroll"&&xe("scroll",e):b!=null&&$(e,f,b,g))}switch(n){case"input":Rs(e),Fl(e,a,!1);break;case"textarea":Rs(e),Hl(e);break;case"option":a.value!=null&&e.setAttribute("value",""+fe(a.value));break;case"select":e.multiple=!!a.multiple,f=a.value,f!=null?Wr(e,!!a.multiple,f,!1):a.defaultValue!=null&&Wr(e,!!a.multiple,a.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=ri)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ye(t),null;case 6:if(e&&t.stateNode!=null)id(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(s(166));if(n=Nr(as.current),Nr(Rt.current),ui(t)){if(a=t.stateNode,n=t.memoizedProps,a[Ot]=t,(f=a.nodeValue!==n)&&(e=ct,e!==null))switch(e.tag){case 3:ti(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&ti(a.nodeValue,n,(e.mode&1)!==0)}f&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Ot]=t,t.stateNode=a}return Ye(t),null;case 13:if(_e(Ee),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ke&&dt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)lc(),sn(),t.flags|=98560,f=!1;else if(f=ui(t),a!==null&&a.dehydrated!==null){if(e===null){if(!f)throw Error(s(318));if(f=t.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ot]=t}else sn(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Ye(t),f=!1}else kt!==null&&(Fa(kt),kt=null),f=!0;if(!f)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ee.current&1)!==0?Me===0&&(Me=3):Ha())),t.updateQueue!==null&&(t.flags|=4),Ye(t),null);case 4:return un(),Pa(e,t),e===null&&es(t.stateNode.containerInfo),Ye(t),null;case 10:return sa(t.type._context),Ye(t),null;case 17:return rt(t.type)&&si(),Ye(t),null;case 19:if(_e(Ee),f=t.memoizedState,f===null)return Ye(t),null;if(a=(t.flags&128)!==0,g=f.rendering,g===null)if(a)hs(f,!1);else{if(Me!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(g=mi(e),g!==null){for(t.flags|=128,hs(f,!1),a=g.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)f=n,e=a,f.flags&=14680066,g=f.alternate,g===null?(f.childLanes=0,f.lanes=e,f.child=null,f.subtreeFlags=0,f.memoizedProps=null,f.memoizedState=null,f.updateQueue=null,f.dependencies=null,f.stateNode=null):(f.childLanes=g.childLanes,f.lanes=g.lanes,f.child=g.child,f.subtreeFlags=0,f.deletions=null,f.memoizedProps=g.memoizedProps,f.memoizedState=g.memoizedState,f.updateQueue=g.updateQueue,f.type=g.type,e=g.dependencies,f.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ve(Ee,Ee.current&1|2),t.child}e=e.sibling}f.tail!==null&&Oe()>fn&&(t.flags|=128,a=!0,hs(f,!1),t.lanes=4194304)}else{if(!a)if(e=mi(g),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),hs(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!ke)return Ye(t),null}else 2*Oe()-f.renderingStartTime>fn&&n!==1073741824&&(t.flags|=128,a=!0,hs(f,!1),t.lanes=4194304);f.isBackwards?(g.sibling=t.child,t.child=g):(n=f.last,n!==null?n.sibling=g:t.child=g,f.last=g)}return f.tail!==null?(t=f.tail,f.rendering=t,f.tail=t.sibling,f.renderingStartTime=Oe(),t.sibling=null,n=Ee.current,ve(Ee,a?n&1|2:n&1),t):(Ye(t),null);case 22:case 23:return Wa(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&(t.mode&1)!==0?(ht&1073741824)!==0&&(Ye(t),t.subtreeFlags&6&&(t.flags|=8192)):Ye(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function Up(e,t){switch(Xo(t),t.tag){case 1:return rt(t.type)&&si(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return un(),_e(tt),_e(Ge),da(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return ua(t),null;case 13:if(_e(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));sn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Ee),null;case 4:return un(),null;case 10:return sa(t.type._context),null;case 22:case 23:return Wa(),null;case 24:return null;default:return null}}var Si=!1,Xe=!1,Mp=typeof WeakSet=="function"?WeakSet:Set,H=null;function dn(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){Te(e,t,a)}else n.current=null}function Oa(e,t,n){try{n()}catch(a){Te(e,t,a)}}var od=!1;function zp(e,t){if(Wo=Hs,e=Uu(),Lo(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var c=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{n.nodeType,f.nodeType}catch{n=null;break e}var g=0,x=-1,b=-1,P=0,L=0,D=e,I=null;t:for(;;){for(var B;D!==n||c!==0&&D.nodeType!==3||(x=g+c),D!==f||a!==0&&D.nodeType!==3||(b=g+a),D.nodeType===3&&(g+=D.nodeValue.length),(B=D.firstChild)!==null;)I=D,D=B;for(;;){if(D===e)break t;if(I===n&&++P===c&&(x=g),I===f&&++L===a&&(b=g),(B=D.nextSibling)!==null)break;D=I,I=D.parentNode}D=B}n=x===-1||b===-1?null:{start:x,end:b}}else n=null}n=n||{start:0,end:0}}else n=null;for(Ho={focusedElem:e,selectionRange:n},Hs=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var V=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(V!==null){var K=V.memoizedProps,Re=V.memoizedState,N=t.stateNode,k=N.getSnapshotBeforeUpdate(t.elementType===t.type?K:St(t.type,K),Re);N.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(U){Te(t,t.return,U)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return V=od,od=!1,V}function fs(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&e)===e){var f=c.destroy;c.destroy=void 0,f!==void 0&&Oa(t,n,f)}c=c.next}while(c!==a)}}function ji(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Ra(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ad(e){var t=e.alternate;t!==null&&(e.alternate=null,ad(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Ot],delete t[rs],delete t[Jo],delete t[bp],delete t[kp])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ld(e){return e.tag===5||e.tag===3||e.tag===4}function ud(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ld(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Ia(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=ri));else if(a!==4&&(e=e.child,e!==null))for(Ia(e,t,n),e=e.sibling;e!==null;)Ia(e,t,n),e=e.sibling}function Aa(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Aa(e,t,n),e=e.sibling;e!==null;)Aa(e,t,n),e=e.sibling}var Ve=null,jt=!1;function ar(e,t,n){for(n=n.child;n!==null;)cd(e,t,n),n=n.sibling}function cd(e,t,n){if(Pt&&typeof Pt.onCommitFiberUnmount=="function")try{Pt.onCommitFiberUnmount(Us,n)}catch{}switch(n.tag){case 5:Xe||dn(n,t);case 6:var a=Ve,c=jt;Ve=null,ar(e,t,n),Ve=a,jt=c,Ve!==null&&(jt?(e=Ve,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Ve.removeChild(n.stateNode));break;case 18:Ve!==null&&(jt?(e=Ve,n=n.stateNode,e.nodeType===8?Ko(e.parentNode,n):e.nodeType===1&&Ko(e,n),qn(e)):Ko(Ve,n.stateNode));break;case 4:a=Ve,c=jt,Ve=n.stateNode.containerInfo,jt=!0,ar(e,t,n),Ve=a,jt=c;break;case 0:case 11:case 14:case 15:if(!Xe&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){c=a=a.next;do{var f=c,g=f.destroy;f=f.tag,g!==void 0&&((f&2)!==0||(f&4)!==0)&&Oa(n,t,g),c=c.next}while(c!==a)}ar(e,t,n);break;case 1:if(!Xe&&(dn(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(x){Te(n,t,x)}ar(e,t,n);break;case 21:ar(e,t,n);break;case 22:n.mode&1?(Xe=(a=Xe)||n.memoizedState!==null,ar(e,t,n),Xe=a):ar(e,t,n);break;default:ar(e,t,n)}}function dd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Mp),t.forEach(function(a){var c=Gp.bind(null,e,a);n.has(a)||(n.add(a),a.then(c,c))})}}function Et(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var c=n[a];try{var f=e,g=t,x=g;e:for(;x!==null;){switch(x.tag){case 5:Ve=x.stateNode,jt=!1;break e;case 3:Ve=x.stateNode.containerInfo,jt=!0;break e;case 4:Ve=x.stateNode.containerInfo,jt=!0;break e}x=x.return}if(Ve===null)throw Error(s(160));cd(f,g,c),Ve=null,jt=!1;var b=c.alternate;b!==null&&(b.return=null),c.return=null}catch(P){Te(c,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hd(t,e),t=t.sibling}function hd(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Et(t,e),At(e),a&4){try{fs(3,e,e.return),ji(3,e)}catch(K){Te(e,e.return,K)}try{fs(5,e,e.return)}catch(K){Te(e,e.return,K)}}break;case 1:Et(t,e),At(e),a&512&&n!==null&&dn(n,n.return);break;case 5:if(Et(t,e),At(e),a&512&&n!==null&&dn(n,n.return),e.flags&32){var c=e.stateNode;try{An(c,"")}catch(K){Te(e,e.return,K)}}if(a&4&&(c=e.stateNode,c!=null)){var f=e.memoizedProps,g=n!==null?n.memoizedProps:f,x=e.type,b=e.updateQueue;if(e.updateQueue=null,b!==null)try{x==="input"&&f.type==="radio"&&f.name!=null&&zl(c,f),co(x,g);var P=co(x,f);for(g=0;g<b.length;g+=2){var L=b[g],D=b[g+1];L==="style"?Jl(c,D):L==="dangerouslySetInnerHTML"?Vl(c,D):L==="children"?An(c,D):$(c,L,D,P)}switch(x){case"input":io(c,f);break;case"textarea":Wl(c,f);break;case"select":var I=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!f.multiple;var B=f.value;B!=null?Wr(c,!!f.multiple,B,!1):I!==!!f.multiple&&(f.defaultValue!=null?Wr(c,!!f.multiple,f.defaultValue,!0):Wr(c,!!f.multiple,f.multiple?[]:"",!1))}c[rs]=f}catch(K){Te(e,e.return,K)}}break;case 6:if(Et(t,e),At(e),a&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,f=e.memoizedProps;try{c.nodeValue=f}catch(K){Te(e,e.return,K)}}break;case 3:if(Et(t,e),At(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{qn(t.containerInfo)}catch(K){Te(e,e.return,K)}break;case 4:Et(t,e),At(e);break;case 13:Et(t,e),At(e),c=e.child,c.flags&8192&&(f=c.memoizedState!==null,c.stateNode.isHidden=f,!f||c.alternate!==null&&c.alternate.memoizedState!==null||(Da=Oe())),a&4&&dd(e);break;case 22:if(L=n!==null&&n.memoizedState!==null,e.mode&1?(Xe=(P=Xe)||L,Et(t,e),Xe=P):Et(t,e),At(e),a&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!L&&(e.mode&1)!==0)for(H=e,L=e.child;L!==null;){for(D=H=L;H!==null;){switch(I=H,B=I.child,I.tag){case 0:case 11:case 14:case 15:fs(4,I,I.return);break;case 1:dn(I,I.return);var V=I.stateNode;if(typeof V.componentWillUnmount=="function"){a=I,n=I.return;try{t=a,V.props=t.memoizedProps,V.state=t.memoizedState,V.componentWillUnmount()}catch(K){Te(a,n,K)}}break;case 5:dn(I,I.return);break;case 22:if(I.memoizedState!==null){md(D);continue}}B!==null?(B.return=I,H=B):md(D)}L=L.sibling}e:for(L=null,D=e;;){if(D.tag===5){if(L===null){L=D;try{c=D.stateNode,P?(f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none"):(x=D.stateNode,b=D.memoizedProps.style,g=b!=null&&b.hasOwnProperty("display")?b.display:null,x.style.display=Kl("display",g))}catch(K){Te(e,e.return,K)}}}else if(D.tag===6){if(L===null)try{D.stateNode.nodeValue=P?"":D.memoizedProps}catch(K){Te(e,e.return,K)}}else if((D.tag!==22&&D.tag!==23||D.memoizedState===null||D===e)&&D.child!==null){D.child.return=D,D=D.child;continue}if(D===e)break e;for(;D.sibling===null;){if(D.return===null||D.return===e)break e;L===D&&(L=null),D=D.return}L===D&&(L=null),D.sibling.return=D.return,D=D.sibling}}break;case 19:Et(t,e),At(e),a&4&&dd(e);break;case 21:break;default:Et(t,e),At(e)}}function At(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ld(n)){var a=n;break e}n=n.return}throw Error(s(160))}switch(a.tag){case 5:var c=a.stateNode;a.flags&32&&(An(c,""),a.flags&=-33);var f=ud(e);Aa(e,f,c);break;case 3:case 4:var g=a.stateNode.containerInfo,x=ud(e);Ia(e,x,g);break;default:throw Error(s(161))}}catch(b){Te(e,e.return,b)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Fp(e,t,n){H=e,fd(e)}function fd(e,t,n){for(var a=(e.mode&1)!==0;H!==null;){var c=H,f=c.child;if(c.tag===22&&a){var g=c.memoizedState!==null||Si;if(!g){var x=c.alternate,b=x!==null&&x.memoizedState!==null||Xe;x=Si;var P=Xe;if(Si=g,(Xe=b)&&!P)for(H=c;H!==null;)g=H,b=g.child,g.tag===22&&g.memoizedState!==null?gd(c):b!==null?(b.return=g,H=b):gd(c);for(;f!==null;)H=f,fd(f),f=f.sibling;H=c,Si=x,Xe=P}pd(e)}else(c.subtreeFlags&8772)!==0&&f!==null?(f.return=c,H=f):pd(e)}}function pd(e){for(;H!==null;){var t=H;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:Xe||ji(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!Xe)if(n===null)a.componentDidMount();else{var c=t.elementType===t.type?n.memoizedProps:St(t.type,n.memoizedProps);a.componentDidUpdate(c,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var f=t.updateQueue;f!==null&&mc(t,f,a);break;case 3:var g=t.updateQueue;if(g!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}mc(t,g,n)}break;case 5:var x=t.stateNode;if(n===null&&t.flags&4){n=x;var b=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":b.autoFocus&&n.focus();break;case"img":b.src&&(n.src=b.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var L=P.memoizedState;if(L!==null){var D=L.dehydrated;D!==null&&qn(D)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Xe||t.flags&512&&Ra(t)}catch(I){Te(t,t.return,I)}}if(t===e){H=null;break}if(n=t.sibling,n!==null){n.return=t.return,H=n;break}H=t.return}}function md(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var n=t.sibling;if(n!==null){n.return=t.return,H=n;break}H=t.return}}function gd(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ji(4,t)}catch(b){Te(t,n,b)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var c=t.return;try{a.componentDidMount()}catch(b){Te(t,c,b)}}var f=t.return;try{Ra(t)}catch(b){Te(t,f,b)}break;case 5:var g=t.return;try{Ra(t)}catch(b){Te(t,g,b)}}}catch(b){Te(t,t.return,b)}if(t===e){H=null;break}var x=t.sibling;if(x!==null){x.return=t.return,H=x;break}H=t.return}}var Bp=Math.ceil,Ei=W.ReactCurrentDispatcher,La=W.ReactCurrentOwner,yt=W.ReactCurrentBatchConfig,le=0,Be=null,Le=null,Ke=0,ht=0,hn=rr(0),Me=0,ps=null,Tr=0,Ni=0,$a=0,ms=null,st=null,Da=0,fn=1/0,Ht=null,Ci=!1,Ua=null,lr=null,Ti=!1,ur=null,Pi=0,gs=0,Ma=null,Oi=-1,Ri=0;function et(){return(le&6)!==0?Oe():Oi!==-1?Oi:Oi=Oe()}function cr(e){return(e.mode&1)===0?1:(le&2)!==0&&Ke!==0?Ke&-Ke:jp.transition!==null?(Ri===0&&(Ri=uu()),Ri):(e=pe,e!==0||(e=window.event,e=e===void 0?16:yu(e.type)),e)}function Nt(e,t,n,a){if(50<gs)throw gs=0,Ma=null,Error(s(185));zn(e,n,a),((le&2)===0||e!==Be)&&(e===Be&&((le&2)===0&&(Ni|=n),Me===4&&dr(e,Ke)),it(e,a),n===1&&le===0&&(t.mode&1)===0&&(fn=Oe()+500,oi&&sr()))}function it(e,t){var n=e.callbackNode;jf(e,t);var a=Fs(e,e===Be?Ke:0);if(a===0)n!==null&&ou(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&ou(n),t===1)e.tag===0?Sp(yd.bind(null,e)):nc(yd.bind(null,e)),xp(function(){(le&6)===0&&sr()}),n=null;else{switch(cu(a)){case 1:n=yo;break;case 4:n=au;break;case 16:n=Ds;break;case 536870912:n=lu;break;default:n=Ds}n=Ed(n,vd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function vd(e,t){if(Oi=-1,Ri=0,(le&6)!==0)throw Error(s(327));var n=e.callbackNode;if(pn()&&e.callbackNode!==n)return null;var a=Fs(e,e===Be?Ke:0);if(a===0)return null;if((a&30)!==0||(a&e.expiredLanes)!==0||t)t=Ii(e,a);else{t=a;var c=le;le|=2;var f=xd();(Be!==e||Ke!==t)&&(Ht=null,fn=Oe()+500,Or(e,t));do try{qp();break}catch(x){wd(e,x)}while(!0);na(),Ei.current=f,le=c,Le!==null?t=0:(Be=null,Ke=0,t=Me)}if(t!==0){if(t===2&&(c=wo(e),c!==0&&(a=c,t=za(e,c))),t===1)throw n=ps,Or(e,0),dr(e,a),it(e,Oe()),n;if(t===6)dr(e,a);else{if(c=e.current.alternate,(a&30)===0&&!Wp(c)&&(t=Ii(e,a),t===2&&(f=wo(e),f!==0&&(a=f,t=za(e,f))),t===1))throw n=ps,Or(e,0),dr(e,a),it(e,Oe()),n;switch(e.finishedWork=c,e.finishedLanes=a,t){case 0:case 1:throw Error(s(345));case 2:Rr(e,st,Ht);break;case 3:if(dr(e,a),(a&130023424)===a&&(t=Da+500-Oe(),10<t)){if(Fs(e,0)!==0)break;if(c=e.suspendedLanes,(c&a)!==a){et(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Vo(Rr.bind(null,e,st,Ht),t);break}Rr(e,st,Ht);break;case 4:if(dr(e,a),(a&4194240)===a)break;for(t=e.eventTimes,c=-1;0<a;){var g=31-_t(a);f=1<<g,g=t[g],g>c&&(c=g),a&=~f}if(a=c,a=Oe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Bp(a/1960))-a,10<a){e.timeoutHandle=Vo(Rr.bind(null,e,st,Ht),a);break}Rr(e,st,Ht);break;case 5:Rr(e,st,Ht);break;default:throw Error(s(329))}}}return it(e,Oe()),e.callbackNode===n?vd.bind(null,e):null}function za(e,t){var n=ms;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=Ii(e,t),e!==2&&(t=st,st=n,t!==null&&Fa(t)),e}function Fa(e){st===null?st=e:st.push.apply(st,e)}function Wp(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var c=n[a],f=c.getSnapshot;c=c.value;try{if(!bt(f(),c))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~$a,t&=~Ni,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),a=1<<n;e[n]=-1,t&=~a}}function yd(e){if((le&6)!==0)throw Error(s(327));pn();var t=Fs(e,0);if((t&1)===0)return it(e,Oe()),null;var n=Ii(e,t);if(e.tag!==0&&n===2){var a=wo(e);a!==0&&(t=a,n=za(e,a))}if(n===1)throw n=ps,Or(e,0),dr(e,t),it(e,Oe()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rr(e,st,Ht),it(e,Oe()),null}function Ba(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(fn=Oe()+500,oi&&sr())}}function Pr(e){ur!==null&&ur.tag===0&&(le&6)===0&&pn();var t=le;le|=1;var n=yt.transition,a=pe;try{if(yt.transition=null,pe=1,e)return e()}finally{pe=a,yt.transition=n,le=t,(le&6)===0&&sr()}}function Wa(){ht=hn.current,_e(hn)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,wp(n)),Le!==null)for(n=Le.return;n!==null;){var a=n;switch(Xo(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&si();break;case 3:un(),_e(tt),_e(Ge),da();break;case 5:ua(a);break;case 4:un();break;case 13:_e(Ee);break;case 19:_e(Ee);break;case 10:sa(a.type._context);break;case 22:case 23:Wa()}n=n.return}if(Be=e,Le=e=hr(e.current,null),Ke=ht=t,Me=0,ps=null,$a=Ni=Tr=0,st=ms=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],a=n.interleaved,a!==null){n.interleaved=null;var c=a.next,f=n.pending;if(f!==null){var g=f.next;f.next=c,a.next=g}n.pending=a}Er=null}return e}function wd(e,t){do{var n=Le;try{if(na(),gi.current=xi,vi){for(var a=Ne.memoizedState;a!==null;){var c=a.queue;c!==null&&(c.pending=null),a=a.next}vi=!1}if(Cr=0,Fe=Ue=Ne=null,ls=!1,us=0,La.current=null,n===null||n.return===null){Me=1,ps=t,Le=null;break}e:{var f=e,g=n.return,x=n,b=t;if(t=Ke,x.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){var P=b,L=x,D=L.tag;if((L.mode&1)===0&&(D===0||D===11||D===15)){var I=L.alternate;I?(L.updateQueue=I.updateQueue,L.memoizedState=I.memoizedState,L.lanes=I.lanes):(L.updateQueue=null,L.memoizedState=null)}var B=Hc(g);if(B!==null){B.flags&=-257,qc(B,g,x,f,t),B.mode&1&&Wc(f,P,t),t=B,b=P;var V=t.updateQueue;if(V===null){var K=new Set;K.add(b),t.updateQueue=K}else V.add(b);break e}else{if((t&1)===0){Wc(f,P,t),Ha();break e}b=Error(s(426))}}else if(ke&&x.mode&1){var Re=Hc(g);if(Re!==null){(Re.flags&65536)===0&&(Re.flags|=256),qc(Re,g,x,f,t),ta(cn(b,x));break e}}f=b=cn(b,x),Me!==4&&(Me=2),ms===null?ms=[f]:ms.push(f),f=g;do{switch(f.tag){case 3:f.flags|=65536,t&=-t,f.lanes|=t;var N=Fc(f,b,t);pc(f,N);break e;case 1:x=b;var k=f.type,C=f.stateNode;if((f.flags&128)===0&&(typeof k.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(lr===null||!lr.has(C)))){f.flags|=65536,t&=-t,f.lanes|=t;var U=Bc(f,x,t);pc(f,U);break e}}f=f.return}while(f!==null)}bd(n)}catch(J){t=J,Le===n&&n!==null&&(Le=n=n.return);continue}break}while(!0)}function xd(){var e=Ei.current;return Ei.current=xi,e===null?xi:e}function Ha(){(Me===0||Me===3||Me===2)&&(Me=4),Be===null||(Tr&268435455)===0&&(Ni&268435455)===0||dr(Be,Ke)}function Ii(e,t){var n=le;le|=2;var a=xd();(Be!==e||Ke!==t)&&(Ht=null,Or(e,t));do try{Hp();break}catch(c){wd(e,c)}while(!0);if(na(),le=n,Ei.current=a,Le!==null)throw Error(s(261));return Be=null,Ke=0,Me}function Hp(){for(;Le!==null;)_d(Le)}function qp(){for(;Le!==null&&!gf();)_d(Le)}function _d(e){var t=jd(e.alternate,e,ht);e.memoizedProps=e.pendingProps,t===null?bd(e):Le=t,La.current=null}function bd(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=Dp(n,t,ht),n!==null){Le=n;return}}else{if(n=Up(n,t),n!==null){n.flags&=32767,Le=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Me=6,Le=null;return}}if(t=t.sibling,t!==null){Le=t;return}Le=t=e}while(t!==null);Me===0&&(Me=5)}function Rr(e,t,n){var a=pe,c=yt.transition;try{yt.transition=null,pe=1,Vp(e,t,n,a)}finally{yt.transition=c,pe=a}return null}function Vp(e,t,n,a){do pn();while(ur!==null);if((le&6)!==0)throw Error(s(327));n=e.finishedWork;var c=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var f=n.lanes|n.childLanes;if(Ef(e,f),e===Be&&(Le=Be=null,Ke=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||Ti||(Ti=!0,Ed(Ds,function(){return pn(),null})),f=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||f){f=yt.transition,yt.transition=null;var g=pe;pe=1;var x=le;le|=4,La.current=null,zp(e,n),hd(n,e),hp(Ho),Hs=!!Wo,Ho=Wo=null,e.current=n,Fp(n),vf(),le=x,pe=g,yt.transition=f}else e.current=n;if(Ti&&(Ti=!1,ur=e,Pi=c),f=e.pendingLanes,f===0&&(lr=null),xf(n.stateNode),it(e,Oe()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)c=t[n],a(c.value,{componentStack:c.stack,digest:c.digest});if(Ci)throw Ci=!1,e=Ua,Ua=null,e;return(Pi&1)!==0&&e.tag!==0&&pn(),f=e.pendingLanes,(f&1)!==0?e===Ma?gs++:(gs=0,Ma=e):gs=0,sr(),null}function pn(){if(ur!==null){var e=cu(Pi),t=yt.transition,n=pe;try{if(yt.transition=null,pe=16>e?16:e,ur===null)var a=!1;else{if(e=ur,ur=null,Pi=0,(le&6)!==0)throw Error(s(331));var c=le;for(le|=4,H=e.current;H!==null;){var f=H,g=f.child;if((H.flags&16)!==0){var x=f.deletions;if(x!==null){for(var b=0;b<x.length;b++){var P=x[b];for(H=P;H!==null;){var L=H;switch(L.tag){case 0:case 11:case 15:fs(8,L,f)}var D=L.child;if(D!==null)D.return=L,H=D;else for(;H!==null;){L=H;var I=L.sibling,B=L.return;if(ad(L),L===P){H=null;break}if(I!==null){I.return=B,H=I;break}H=B}}}var V=f.alternate;if(V!==null){var K=V.child;if(K!==null){V.child=null;do{var Re=K.sibling;K.sibling=null,K=Re}while(K!==null)}}H=f}}if((f.subtreeFlags&2064)!==0&&g!==null)g.return=f,H=g;else e:for(;H!==null;){if(f=H,(f.flags&2048)!==0)switch(f.tag){case 0:case 11:case 15:fs(9,f,f.return)}var N=f.sibling;if(N!==null){N.return=f.return,H=N;break e}H=f.return}}var k=e.current;for(H=k;H!==null;){g=H;var C=g.child;if((g.subtreeFlags&2064)!==0&&C!==null)C.return=g,H=C;else e:for(g=k;H!==null;){if(x=H,(x.flags&2048)!==0)try{switch(x.tag){case 0:case 11:case 15:ji(9,x)}}catch(J){Te(x,x.return,J)}if(x===g){H=null;break e}var U=x.sibling;if(U!==null){U.return=x.return,H=U;break e}H=x.return}}if(le=c,sr(),Pt&&typeof Pt.onPostCommitFiberRoot=="function")try{Pt.onPostCommitFiberRoot(Us,e)}catch{}a=!0}return a}finally{pe=n,yt.transition=t}}return!1}function kd(e,t,n){t=cn(n,t),t=Fc(e,t,1),e=or(e,t,1),t=et(),e!==null&&(zn(e,1,t),it(e,t))}function Te(e,t,n){if(e.tag===3)kd(e,e,n);else for(;t!==null;){if(t.tag===3){kd(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(lr===null||!lr.has(a))){e=cn(n,e),e=Bc(t,e,1),t=or(t,e,1),e=et(),t!==null&&(zn(t,1,e),it(t,e));break}}t=t.return}}function Kp(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=et(),e.pingedLanes|=e.suspendedLanes&n,Be===e&&(Ke&n)===n&&(Me===4||Me===3&&(Ke&130023424)===Ke&&500>Oe()-Da?Or(e,0):$a|=n),it(e,t)}function Sd(e,t){t===0&&((e.mode&1)===0?t=1:(t=zs,zs<<=1,(zs&130023424)===0&&(zs=4194304)));var n=et();e=Ft(e,t),e!==null&&(zn(e,t,n),it(e,n))}function Jp(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Sd(e,n)}function Gp(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(s(314))}a!==null&&a.delete(t),Sd(e,n)}var jd;jd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||tt.current)nt=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return nt=!1,$p(e,t,n);nt=(e.flags&131072)!==0}else nt=!1,ke&&(t.flags&1048576)!==0&&sc(t,li,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ki(e,t),e=t.pendingProps;var c=tn(t,Ge.current);ln(t,n),c=pa(null,t,a,e,c,n);var f=ma();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,rt(a)?(f=!0,ii(t)):f=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,aa(t),c.updater=_i,t.stateNode=c,c._reactInternals=t,_a(t,a,e,n),t=ja(null,t,a,!0,f,n)):(t.tag=0,ke&&f&&Yo(t),Ze(null,t,c,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ki(e,t),e=t.pendingProps,c=a._init,a=c(a._payload),t.type=a,c=t.tag=Yp(a),e=St(a,e),c){case 0:t=Sa(null,t,a,e,n);break e;case 1:t=Yc(null,t,a,e,n);break e;case 11:t=Vc(null,t,a,e,n);break e;case 14:t=Kc(null,t,a,St(a.type,e),n);break e}throw Error(s(306,a,""))}return t;case 0:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Sa(e,t,a,c,n);case 1:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Yc(e,t,a,c,n);case 3:e:{if(Xc(t),e===null)throw Error(s(387));a=t.pendingProps,f=t.memoizedState,c=f.element,fc(e,t),pi(t,a,null,n);var g=t.memoizedState;if(a=g.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:g.cache,pendingSuspenseBoundaries:g.pendingSuspenseBoundaries,transitions:g.transitions},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){c=cn(Error(s(423)),t),t=Zc(e,t,a,n,c);break e}else if(a!==c){c=cn(Error(s(424)),t),t=Zc(e,t,a,n,c);break e}else for(dt=tr(t.stateNode.containerInfo.firstChild),ct=t,ke=!0,kt=null,n=dc(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sn(),a===c){t=Wt(e,t,n);break e}Ze(e,t,a,n)}t=t.child}return t;case 5:return gc(t),e===null&&ea(t),a=t.type,c=t.pendingProps,f=e!==null?e.memoizedProps:null,g=c.children,qo(a,c)?g=null:f!==null&&qo(a,f)&&(t.flags|=32),Qc(e,t),Ze(e,t,g,n),t.child;case 6:return e===null&&ea(t),null;case 13:return ed(e,t,n);case 4:return la(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=on(t,null,a,n):Ze(e,t,a,n),t.child;case 11:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),Vc(e,t,a,c,n);case 7:return Ze(e,t,t.pendingProps,n),t.child;case 8:return Ze(e,t,t.pendingProps.children,n),t.child;case 12:return Ze(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,c=t.pendingProps,f=t.memoizedProps,g=c.value,ve(di,a._currentValue),a._currentValue=g,f!==null)if(bt(f.value,g)){if(f.children===c.children&&!tt.current){t=Wt(e,t,n);break e}}else for(f=t.child,f!==null&&(f.return=t);f!==null;){var x=f.dependencies;if(x!==null){g=f.child;for(var b=x.firstContext;b!==null;){if(b.context===a){if(f.tag===1){b=Bt(-1,n&-n),b.tag=2;var P=f.updateQueue;if(P!==null){P=P.shared;var L=P.pending;L===null?b.next=b:(b.next=L.next,L.next=b),P.pending=b}}f.lanes|=n,b=f.alternate,b!==null&&(b.lanes|=n),ia(f.return,n,t),x.lanes|=n;break}b=b.next}}else if(f.tag===10)g=f.type===t.type?null:f.child;else if(f.tag===18){if(g=f.return,g===null)throw Error(s(341));g.lanes|=n,x=g.alternate,x!==null&&(x.lanes|=n),ia(g,n,t),g=f.sibling}else g=f.child;if(g!==null)g.return=f;else for(g=f;g!==null;){if(g===t){g=null;break}if(f=g.sibling,f!==null){f.return=g.return,g=f;break}g=g.return}f=g}Ze(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,a=t.pendingProps.children,ln(t,n),c=gt(c),a=a(c),t.flags|=1,Ze(e,t,a,n),t.child;case 14:return a=t.type,c=St(a,t.pendingProps),c=St(a.type,c),Kc(e,t,a,c,n);case 15:return Jc(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,c=t.pendingProps,c=t.elementType===a?c:St(a,c),ki(e,t),t.tag=1,rt(a)?(e=!0,ii(t)):e=!1,ln(t,n),Mc(t,a,c),_a(t,a,c,n),ja(null,t,a,!0,e,n);case 19:return rd(e,t,n);case 22:return Gc(e,t,n)}throw Error(s(156,t.tag))};function Ed(e,t){return iu(e,t)}function Qp(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wt(e,t,n,a){return new Qp(e,t,n,a)}function qa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yp(e){if(typeof e=="function")return qa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===me)return 11;if(e===qe)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=wt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ai(e,t,n,a,c,f){var g=2;if(a=e,typeof e=="function")qa(e)&&(g=1);else if(typeof e=="string")g=5;else e:switch(e){case ae:return Ir(n.children,c,f,t);case Se:g=8,c|=8;break;case Ae:return e=wt(12,n,t,c|2),e.elementType=Ae,e.lanes=f,e;case je:return e=wt(13,n,t,c),e.elementType=je,e.lanes=f,e;case Pe:return e=wt(19,n,t,c),e.elementType=Pe,e.lanes=f,e;case Ce:return Li(n,c,f,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case xt:g=10;break e;case ne:g=9;break e;case me:g=11;break e;case qe:g=14;break e;case Je:g=16,a=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=wt(g,n,t,c),t.elementType=e,t.type=a,t.lanes=f,t}function Ir(e,t,n,a){return e=wt(7,e,a,t),e.lanes=n,e}function Li(e,t,n,a){return e=wt(22,e,a,t),e.elementType=Ce,e.lanes=n,e.stateNode={isHidden:!1},e}function Va(e,t,n){return e=wt(6,e,null,t),e.lanes=n,e}function Ka(e,t,n){return t=wt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Xp(e,t,n,a,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xo(0),this.expirationTimes=xo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xo(0),this.identifierPrefix=a,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function Ja(e,t,n,a,c,f,g,x,b){return e=new Xp(e,t,n,x,b),t===1?(t=1,f===!0&&(t|=8)):t=0,f=wt(3,null,null,t),e.current=f,f.stateNode=e,f.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},aa(f),e}function Zp(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:X,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function Nd(e){if(!e)return nr;e=e._reactInternals;e:{if(_r(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(rt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(rt(n))return tc(e,n,t)}return t}function Cd(e,t,n,a,c,f,g,x,b){return e=Ja(n,a,!0,e,c,f,g,x,b),e.context=Nd(null),n=e.current,a=et(),c=cr(n),f=Bt(a,c),f.callback=t??null,or(n,f,c),e.current.lanes=c,zn(e,c,a),it(e,a),e}function $i(e,t,n,a){var c=t.current,f=et(),g=cr(c);return n=Nd(n),t.context===null?t.context=n:t.pendingContext=n,t=Bt(f,g),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=or(c,t,g),e!==null&&(Nt(e,c,g,f),fi(e,c,g)),g}function Di(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Td(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ga(e,t){Td(e,t),(e=e.alternate)&&Td(e,t)}function em(){return null}var Pd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Qa(e){this._internalRoot=e}Ui.prototype.render=Qa.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));$i(e,t,null,null)},Ui.prototype.unmount=Qa.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Pr(function(){$i(null,e,null,null)}),t[Dt]=null}};function Ui(e){this._internalRoot=e}Ui.prototype.unstable_scheduleHydration=function(e){if(e){var t=fu();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&gu(e)}};function Ya(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Mi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Od(){}function tm(e,t,n,a,c){if(c){if(typeof a=="function"){var f=a;a=function(){var P=Di(g);f.call(P)}}var g=Cd(t,a,e,0,null,!1,!1,"",Od);return e._reactRootContainer=g,e[Dt]=g.current,es(e.nodeType===8?e.parentNode:e),Pr(),g}for(;c=e.lastChild;)e.removeChild(c);if(typeof a=="function"){var x=a;a=function(){var P=Di(b);x.call(P)}}var b=Ja(e,0,!1,null,null,!1,!1,"",Od);return e._reactRootContainer=b,e[Dt]=b.current,es(e.nodeType===8?e.parentNode:e),Pr(function(){$i(t,b,n,a)}),b}function zi(e,t,n,a,c){var f=n._reactRootContainer;if(f){var g=f;if(typeof c=="function"){var x=c;c=function(){var b=Di(g);x.call(b)}}$i(t,g,e,c)}else g=tm(n,t,e,c,a);return Di(g)}du=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mn(t.pendingLanes);n!==0&&(_o(t,n|1),it(t,Oe()),(le&6)===0&&(fn=Oe()+500,sr()))}break;case 13:Pr(function(){var a=Ft(e,1);if(a!==null){var c=et();Nt(a,e,1,c)}}),Ga(e,1)}},bo=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=et();Nt(t,e,134217728,n)}Ga(e,134217728)}},hu=function(e){if(e.tag===13){var t=cr(e),n=Ft(e,t);if(n!==null){var a=et();Nt(n,e,t,a)}Ga(e,t)}},fu=function(){return pe},pu=function(e,t){var n=pe;try{return pe=e,t()}finally{pe=n}},po=function(e,t,n){switch(t){case"input":if(io(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var c=ni(a);if(!c)throw Error(s(90));Ul(a),io(a,c)}}}break;case"textarea":Wl(e,n);break;case"select":t=n.value,t!=null&&Wr(e,!!n.multiple,t,!1)}},Xl=Ba,Zl=Pr;var rm={usingClientEntryPoint:!1,Events:[ns,Zr,ni,Ql,Yl,Ba]},vs={findFiberByHostInstance:br,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nm={bundleType:vs.bundleType,version:vs.version,rendererPackageName:vs.rendererPackageName,rendererConfig:vs.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:W.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=nu(e),e===null?null:e.stateNode},findFiberByHostInstance:vs.findFiberByHostInstance||em,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fi.isDisabled&&Fi.supportsFiber)try{Us=Fi.inject(nm),Pt=Fi}catch{}}return ot.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rm,ot.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ya(t))throw Error(s(200));return Zp(e,t,null,n)},ot.createRoot=function(e,t){if(!Ya(e))throw Error(s(299));var n=!1,a="",c=Pd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=Ja(e,1,!1,null,null,n,!1,a,c),e[Dt]=t.current,es(e.nodeType===8?e.parentNode:e),new Qa(t)},ot.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=nu(t),e=e===null?null:e.stateNode,e},ot.flushSync=function(e){return Pr(e)},ot.hydrate=function(e,t,n){if(!Mi(t))throw Error(s(200));return zi(null,e,t,!0,n)},ot.hydrateRoot=function(e,t,n){if(!Ya(e))throw Error(s(405));var a=n!=null&&n.hydratedSources||null,c=!1,f="",g=Pd;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(f=n.identifierPrefix),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),t=Cd(t,null,e,1,n??null,c,!1,f,g),e[Dt]=t.current,es(e),a)for(e=0;e<a.length;e++)n=a[e],c=n._getVersion,c=c(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,c]:t.mutableSourceEagerHydrationData.push(n,c);return new Ui(t)},ot.render=function(e,t,n){if(!Mi(t))throw Error(s(200));return zi(null,e,t,!1,n)},ot.unmountComponentAtNode=function(e){if(!Mi(e))throw Error(s(40));return e._reactRootContainer?(Pr(function(){zi(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},ot.unstable_batchedUpdates=Ba,ot.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!Mi(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return zi(e,t,n,!1,a)},ot.version="18.3.1-next-f1338f8080-20240426",ot}var Md;function Sh(){if(Md)return el.exports;Md=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),el.exports=pm(),el.exports}var zd;function mm(){if(zd)return Bi;zd=1;var o=Sh();return Bi.createRoot=o.createRoot,Bi.hydrateRoot=o.hydrateRoot,Bi}var gm=mm();Sh();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ss(){return Ss=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(o[i]=s[i])}return o},Ss.apply(this,arguments)}var vr;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(vr||(vr={}));const Fd="popstate";function vm(o){o===void 0&&(o={});function r(i,l){let{pathname:u,search:d,hash:p}=i.location;return fl("",{pathname:u,search:d,hash:p},l.state&&l.state.usr||null,l.state&&l.state.key||"default")}function s(i,l){return typeof l=="string"?l:Ji(l)}return wm(r,s,null,o)}function Ie(o,r){if(o===!1||o===null||typeof o>"u")throw new Error(r)}function jh(o,r){if(!o){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function ym(){return Math.random().toString(36).substr(2,8)}function Bd(o,r){return{usr:o.state,key:o.key,idx:r}}function fl(o,r,s,i){return s===void 0&&(s=null),Ss({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof r=="string"?Pn(r):r,{state:s,key:r&&r.key||i||ym()})}function Ji(o){let{pathname:r="/",search:s="",hash:i=""}=o;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),i&&i!=="#"&&(r+=i.charAt(0)==="#"?i:"#"+i),r}function Pn(o){let r={};if(o){let s=o.indexOf("#");s>=0&&(r.hash=o.substr(s),o=o.substr(0,s));let i=o.indexOf("?");i>=0&&(r.search=o.substr(i),o=o.substr(0,i)),o&&(r.pathname=o)}return r}function wm(o,r,s,i){i===void 0&&(i={});let{window:l=document.defaultView,v5Compat:u=!1}=i,d=l.history,p=vr.Pop,m=null,v=y();v==null&&(v=0,d.replaceState(Ss({},d.state,{idx:v}),""));function y(){return(d.state||{idx:null}).idx}function w(){p=vr.Pop;let T=y(),z=T==null?null:T-v;v=T,m&&m({action:p,location:j.location,delta:z})}function _(T,z){p=vr.Push;let M=fl(j.location,T,z);v=y()+1;let $=Bd(M,v),W=j.createHref(M);try{d.pushState($,"",W)}catch(te){if(te instanceof DOMException&&te.name==="DataCloneError")throw te;l.location.assign(W)}u&&m&&m({action:p,location:j.location,delta:1})}function S(T,z){p=vr.Replace;let M=fl(j.location,T,z);v=y();let $=Bd(M,v),W=j.createHref(M);d.replaceState($,"",W),u&&m&&m({action:p,location:j.location,delta:0})}function O(T){let z=l.location.origin!=="null"?l.location.origin:l.location.href,M=typeof T=="string"?T:Ji(T);return M=M.replace(/ $/,"%20"),Ie(z,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,z)}let j={get action(){return p},get location(){return o(l,d)},listen(T){if(m)throw new Error("A history only accepts one active listener");return l.addEventListener(Fd,w),m=T,()=>{l.removeEventListener(Fd,w),m=null}},createHref(T){return r(l,T)},createURL:O,encodeLocation(T){let z=O(T);return{pathname:z.pathname,search:z.search,hash:z.hash}},push:_,replace:S,go(T){return d.go(T)}};return j}var Wd;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(Wd||(Wd={}));function xm(o,r,s){return s===void 0&&(s="/"),_m(o,r,s)}function _m(o,r,s,i){let l=typeof r=="string"?Pn(r):r,u=Tl(l.pathname||"/",s);if(u==null)return null;let d=Eh(o);bm(d);let p=null;for(let m=0;p==null&&m<d.length;++m){let v=Am(u);p=Om(d[m],v)}return p}function Eh(o,r,s,i){r===void 0&&(r=[]),s===void 0&&(s=[]),i===void 0&&(i="");let l=(u,d,p)=>{let m={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};m.relativePath.startsWith("/")&&(Ie(m.relativePath.startsWith(i),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(i.length));let v=yr([i,m.relativePath]),y=s.concat(m);u.children&&u.children.length>0&&(Ie(u.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+v+'".')),Eh(u.children,r,y,v)),!(u.path==null&&!u.index)&&r.push({path:v,score:Tm(v,u.index),routesMeta:y})};return o.forEach((u,d)=>{var p;if(u.path===""||!((p=u.path)!=null&&p.includes("?")))l(u,d);else for(let m of Nh(u.path))l(u,d,m)}),r}function Nh(o){let r=o.split("/");if(r.length===0)return[];let[s,...i]=r,l=s.endsWith("?"),u=s.replace(/\?$/,"");if(i.length===0)return l?[u,""]:[u];let d=Nh(i.join("/")),p=[];return p.push(...d.map(m=>m===""?u:[u,m].join("/"))),l&&p.push(...d),p.map(m=>o.startsWith("/")&&m===""?"/":m)}function bm(o){o.sort((r,s)=>r.score!==s.score?s.score-r.score:Pm(r.routesMeta.map(i=>i.childrenIndex),s.routesMeta.map(i=>i.childrenIndex)))}const km=/^:[\w-]+$/,Sm=3,jm=2,Em=1,Nm=10,Cm=-2,Hd=o=>o==="*";function Tm(o,r){let s=o.split("/"),i=s.length;return s.some(Hd)&&(i+=Cm),r&&(i+=jm),s.filter(l=>!Hd(l)).reduce((l,u)=>l+(km.test(u)?Sm:u===""?Em:Nm),i)}function Pm(o,r){return o.length===r.length&&o.slice(0,-1).every((i,l)=>i===r[l])?o[o.length-1]-r[r.length-1]:0}function Om(o,r,s){let{routesMeta:i}=o,l={},u="/",d=[];for(let p=0;p<i.length;++p){let m=i[p],v=p===i.length-1,y=u==="/"?r:r.slice(u.length)||"/",w=Rm({path:m.relativePath,caseSensitive:m.caseSensitive,end:v},y),_=m.route;if(!w)return null;Object.assign(l,w.params),d.push({params:l,pathname:yr([u,w.pathname]),pathnameBase:Um(yr([u,w.pathnameBase])),route:_}),w.pathnameBase!=="/"&&(u=yr([u,w.pathnameBase]))}return d}function Rm(o,r){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,i]=Im(o.path,o.caseSensitive,o.end),l=r.match(s);if(!l)return null;let u=l[0],d=u.replace(/(.)\/+$/,"$1"),p=l.slice(1);return{params:i.reduce((v,y,w)=>{let{paramName:_,isOptional:S}=y;if(_==="*"){let j=p[w]||"";d=u.slice(0,u.length-j.length).replace(/(.)\/+$/,"$1")}const O=p[w];return S&&!O?v[_]=void 0:v[_]=(O||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:d,pattern:o}}function Im(o,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),jh(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let i=[],l="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,p,m)=>(i.push({paramName:p,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(i.push({paramName:"*"}),l+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?l+="\\/*$":o!==""&&o!=="/"&&(l+="(?:(?=\\/|$))"),[new RegExp(l,r?void 0:"i"),i]}function Am(o){try{return o.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return jh(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),o}}function Tl(o,r){if(r==="/")return o;if(!o.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,i=o.charAt(s);return i&&i!=="/"?null:o.slice(s)||"/"}function Lm(o,r){r===void 0&&(r="/");let{pathname:s,search:i="",hash:l=""}=typeof o=="string"?Pn(o):o;return{pathname:s?s.startsWith("/")?s:$m(s,r):r,search:Mm(i),hash:zm(l)}}function $m(o,r){let s=r.replace(/\/+$/,"").split("/");return o.split("/").forEach(l=>{l===".."?s.length>1&&s.pop():l!=="."&&s.push(l)}),s.length>1?s.join("/"):"/"}function nl(o,r,s,i){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Dm(o){return o.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function Pl(o,r){let s=Dm(o);return r?s.map((i,l)=>l===s.length-1?i.pathname:i.pathnameBase):s.map(i=>i.pathnameBase)}function Ol(o,r,s,i){i===void 0&&(i=!1);let l;typeof o=="string"?l=Pn(o):(l=Ss({},o),Ie(!l.pathname||!l.pathname.includes("?"),nl("?","pathname","search",l)),Ie(!l.pathname||!l.pathname.includes("#"),nl("#","pathname","hash",l)),Ie(!l.search||!l.search.includes("#"),nl("#","search","hash",l)));let u=o===""||l.pathname==="",d=u?"/":l.pathname,p;if(d==null)p=s;else{let w=r.length-1;if(!i&&d.startsWith("..")){let _=d.split("/");for(;_[0]==="..";)_.shift(),w-=1;l.pathname=_.join("/")}p=w>=0?r[w]:"/"}let m=Lm(l,p),v=d&&d!=="/"&&d.endsWith("/"),y=(u||d===".")&&s.endsWith("/");return!m.pathname.endsWith("/")&&(v||y)&&(m.pathname+="/"),m}const yr=o=>o.join("/").replace(/\/\/+/g,"/"),Um=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),Mm=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,zm=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function Fm(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const Ch=["post","put","patch","delete"];new Set(Ch);const Bm=["get",...Ch];new Set(Bm);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function js(){return js=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(o[i]=s[i])}return o},js.apply(this,arguments)}const Rl=R.createContext(null),Wm=R.createContext(null),wr=R.createContext(null),eo=R.createContext(null),Kt=R.createContext({outlet:null,matches:[],isDataRoute:!1}),Th=R.createContext(null);function Hm(o,r){let{relative:s}=r===void 0?{}:r;On()||Ie(!1);let{basename:i,navigator:l}=R.useContext(wr),{hash:u,pathname:d,search:p}=Oh(o,{relative:s}),m=d;return i!=="/"&&(m=d==="/"?i:yr([i,d])),l.createHref({pathname:m,search:p,hash:u})}function On(){return R.useContext(eo)!=null}function Ts(){return On()||Ie(!1),R.useContext(eo).location}function Ph(o){R.useContext(wr).static||R.useLayoutEffect(o)}function Fr(){let{isDataRoute:o}=R.useContext(Kt);return o?sg():qm()}function qm(){On()||Ie(!1);let o=R.useContext(Rl),{basename:r,future:s,navigator:i}=R.useContext(wr),{matches:l}=R.useContext(Kt),{pathname:u}=Ts(),d=JSON.stringify(Pl(l,s.v7_relativeSplatPath)),p=R.useRef(!1);return Ph(()=>{p.current=!0}),R.useCallback(function(v,y){if(y===void 0&&(y={}),!p.current)return;if(typeof v=="number"){i.go(v);return}let w=Ol(v,JSON.parse(d),u,y.relative==="path");o==null&&r!=="/"&&(w.pathname=w.pathname==="/"?r:yr([r,w.pathname])),(y.replace?i.replace:i.push)(w,y.state,y)},[r,i,d,u,o])}function Vm(){let{matches:o}=R.useContext(Kt),r=o[o.length-1];return r?r.params:{}}function Oh(o,r){let{relative:s}=r===void 0?{}:r,{future:i}=R.useContext(wr),{matches:l}=R.useContext(Kt),{pathname:u}=Ts(),d=JSON.stringify(Pl(l,i.v7_relativeSplatPath));return R.useMemo(()=>Ol(o,JSON.parse(d),u,s==="path"),[o,d,u,s])}function Km(o,r){return Jm(o,r)}function Jm(o,r,s,i){On()||Ie(!1);let{navigator:l,static:u}=R.useContext(wr),{matches:d}=R.useContext(Kt),p=d[d.length-1],m=p?p.params:{};p&&p.pathname;let v=p?p.pathnameBase:"/";p&&p.route;let y=Ts(),w;if(r){var _;let z=typeof r=="string"?Pn(r):r;v==="/"||(_=z.pathname)!=null&&_.startsWith(v)||Ie(!1),w=z}else w=y;let S=w.pathname||"/",O=S;if(v!=="/"){let z=v.replace(/^\//,"").split("/");O="/"+S.replace(/^\//,"").split("/").slice(z.length).join("/")}let j=xm(o,{pathname:O}),T=Zm(j&&j.map(z=>Object.assign({},z,{params:Object.assign({},m,z.params),pathname:yr([v,l.encodeLocation?l.encodeLocation(z.pathname).pathname:z.pathname]),pathnameBase:z.pathnameBase==="/"?v:yr([v,l.encodeLocation?l.encodeLocation(z.pathnameBase).pathname:z.pathnameBase])})),d,s,i);return r&&T?R.createElement(eo.Provider,{value:{location:js({pathname:"/",search:"",hash:"",state:null,key:"default"},w),navigationType:vr.Pop}},T):T}function Gm(){let o=ng(),r=Fm(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,l={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return R.createElement(R.Fragment,null,R.createElement("h2",null,"Unexpected Application Error!"),R.createElement("h3",{style:{fontStyle:"italic"}},r),s?R.createElement("pre",{style:l},s):null,null)}const Qm=R.createElement(Gm,null);class Ym extends R.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?R.createElement(Kt.Provider,{value:this.props.routeContext},R.createElement(Th.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Xm(o){let{routeContext:r,match:s,children:i}=o,l=R.useContext(Rl);return l&&l.static&&l.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(l.staticContext._deepestRenderedBoundaryId=s.route.id),R.createElement(Kt.Provider,{value:r},i)}function Zm(o,r,s,i){var l;if(r===void 0&&(r=[]),s===void 0&&(s=null),i===void 0&&(i=null),o==null){var u;if(!s)return null;if(s.errors)o=s.matches;else if((u=i)!=null&&u.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)o=s.matches;else return null}let d=o,p=(l=s)==null?void 0:l.errors;if(p!=null){let y=d.findIndex(w=>w.route.id&&(p==null?void 0:p[w.route.id])!==void 0);y>=0||Ie(!1),d=d.slice(0,Math.min(d.length,y+1))}let m=!1,v=-1;if(s&&i&&i.v7_partialHydration)for(let y=0;y<d.length;y++){let w=d[y];if((w.route.HydrateFallback||w.route.hydrateFallbackElement)&&(v=y),w.route.id){let{loaderData:_,errors:S}=s,O=w.route.loader&&_[w.route.id]===void 0&&(!S||S[w.route.id]===void 0);if(w.route.lazy||O){m=!0,v>=0?d=d.slice(0,v+1):d=[d[0]];break}}}return d.reduceRight((y,w,_)=>{let S,O=!1,j=null,T=null;s&&(S=p&&w.route.id?p[w.route.id]:void 0,j=w.route.errorElement||Qm,m&&(v<0&&_===0?(ig("route-fallback"),O=!0,T=null):v===_&&(O=!0,T=w.route.hydrateFallbackElement||null)));let z=r.concat(d.slice(0,_+1)),M=()=>{let $;return S?$=j:O?$=T:w.route.Component?$=R.createElement(w.route.Component,null):w.route.element?$=w.route.element:$=y,R.createElement(Xm,{match:w,routeContext:{outlet:y,matches:z,isDataRoute:s!=null},children:$})};return s&&(w.route.ErrorBoundary||w.route.errorElement||_===0)?R.createElement(Ym,{location:s.location,revalidation:s.revalidation,component:j,error:S,children:M(),routeContext:{outlet:null,matches:z,isDataRoute:!0}}):M()},null)}var Rh=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(Rh||{}),Ih=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(Ih||{});function eg(o){let r=R.useContext(Rl);return r||Ie(!1),r}function tg(o){let r=R.useContext(Wm);return r||Ie(!1),r}function rg(o){let r=R.useContext(Kt);return r||Ie(!1),r}function Ah(o){let r=rg(),s=r.matches[r.matches.length-1];return s.route.id||Ie(!1),s.route.id}function ng(){var o;let r=R.useContext(Th),s=tg(),i=Ah();return r!==void 0?r:(o=s.errors)==null?void 0:o[i]}function sg(){let{router:o}=eg(Rh.UseNavigateStable),r=Ah(Ih.UseNavigateStable),s=R.useRef(!1);return Ph(()=>{s.current=!0}),R.useCallback(function(l,u){u===void 0&&(u={}),s.current&&(typeof l=="number"?o.navigate(l):o.navigate(l,js({fromRouteId:r},u)))},[o,r])}const qd={};function ig(o,r,s){qd[o]||(qd[o]=!0)}function og(o,r){o==null||o.v7_startTransition,o==null||o.v7_relativeSplatPath}function pl(o){let{to:r,replace:s,state:i,relative:l}=o;On()||Ie(!1);let{future:u,static:d}=R.useContext(wr),{matches:p}=R.useContext(Kt),{pathname:m}=Ts(),v=Fr(),y=Ol(r,Pl(p,u.v7_relativeSplatPath),m,l==="path"),w=JSON.stringify(y);return R.useEffect(()=>v(JSON.parse(w),{replace:s,state:i,relative:l}),[v,w,l,s,i]),null}function Lt(o){Ie(!1)}function ag(o){let{basename:r="/",children:s=null,location:i,navigationType:l=vr.Pop,navigator:u,static:d=!1,future:p}=o;On()&&Ie(!1);let m=r.replace(/^\/*/,"/"),v=R.useMemo(()=>({basename:m,navigator:u,static:d,future:js({v7_relativeSplatPath:!1},p)}),[m,p,u,d]);typeof i=="string"&&(i=Pn(i));let{pathname:y="/",search:w="",hash:_="",state:S=null,key:O="default"}=i,j=R.useMemo(()=>{let T=Tl(y,m);return T==null?null:{location:{pathname:T,search:w,hash:_,state:S,key:O},navigationType:l}},[m,y,w,_,S,O,l]);return j==null?null:R.createElement(wr.Provider,{value:v},R.createElement(eo.Provider,{children:s,value:j}))}function lg(o){let{children:r,location:s}=o;return Km(ml(r),s)}new Promise(()=>{});function ml(o,r){r===void 0&&(r=[]);let s=[];return R.Children.forEach(o,(i,l)=>{if(!R.isValidElement(i))return;let u=[...r,l];if(i.type===R.Fragment){s.push.apply(s,ml(i.props.children,u));return}i.type!==Lt&&Ie(!1),!i.props.index||!i.props.children||Ie(!1);let d={id:i.props.id||u.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=ml(i.props.children,u)),s.push(d)}),s}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gl(){return gl=Object.assign?Object.assign.bind():function(o){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(o[i]=s[i])}return o},gl.apply(this,arguments)}function ug(o,r){if(o==null)return{};var s={},i=Object.keys(o),l,u;for(u=0;u<i.length;u++)l=i[u],!(r.indexOf(l)>=0)&&(s[l]=o[l]);return s}function cg(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}function dg(o,r){return o.button===0&&(!r||r==="_self")&&!cg(o)}const hg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],fg="6";try{window.__reactRouterVersion=fg}catch{}const pg="startTransition",Vd=dm[pg];function mg(o){let{basename:r,children:s,future:i,window:l}=o,u=R.useRef();u.current==null&&(u.current=vm({window:l,v5Compat:!0}));let d=u.current,[p,m]=R.useState({action:d.action,location:d.location}),{v7_startTransition:v}=i||{},y=R.useCallback(w=>{v&&Vd?Vd(()=>m(w)):m(w)},[m,v]);return R.useLayoutEffect(()=>d.listen(y),[d,y]),R.useEffect(()=>og(i),[i]),R.createElement(ag,{basename:r,children:s,location:p.location,navigationType:p.action,navigator:d,future:i})}const gg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",vg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Vt=R.forwardRef(function(r,s){let{onClick:i,relative:l,reloadDocument:u,replace:d,state:p,target:m,to:v,preventScrollReset:y,viewTransition:w}=r,_=ug(r,hg),{basename:S}=R.useContext(wr),O,j=!1;if(typeof v=="string"&&vg.test(v)&&(O=v,gg))try{let $=new URL(window.location.href),W=v.startsWith("//")?new URL($.protocol+v):new URL(v),te=Tl(W.pathname,S);W.origin===$.origin&&te!=null?v=te+W.search+W.hash:j=!0}catch{}let T=Hm(v,{relative:l}),z=yg(v,{replace:d,state:p,target:m,preventScrollReset:y,relative:l,viewTransition:w});function M($){i&&i($),$.defaultPrevented||z($)}return R.createElement("a",gl({},_,{href:O||T,onClick:j||u?i:M,ref:s,target:m}))});var Kd;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(Kd||(Kd={}));var Jd;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(Jd||(Jd={}));function yg(o,r){let{target:s,replace:i,state:l,preventScrollReset:u,relative:d,viewTransition:p}=r===void 0?{}:r,m=Fr(),v=Ts(),y=Oh(o,{relative:d});return R.useCallback(w=>{if(dg(w,s)){w.preventDefault();let _=i!==void 0?i:Ji(v)===Ji(y);m(o,{replace:_,state:l,preventScrollReset:u,relative:d,viewTransition:p})}},[v,m,y,i,l,s,o,u,d,p])}const wg="modulepreload",xg=function(o){return"/"+o},Gd={},Ps=function(r,s,i){let l=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),p=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));l=Promise.allSettled(s.map(m=>{if(m=xg(m),m in Gd)return;Gd[m]=!0;const v=m.endsWith(".css"),y=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${y}`))return;const w=document.createElement("link");if(w.rel=v?"stylesheet":wg,v||(w.as="script"),w.crossOrigin="",w.href=m,p&&w.setAttribute("nonce",p),document.head.appendChild(w),v)return new Promise((_,S)=>{w.addEventListener("load",_),w.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${m}`)))})}))}function u(d){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=d,window.dispatchEvent(p),!p.defaultPrevented)throw d}return l.then(d=>{for(const p of d||[])p.status==="rejected"&&u(p.reason);return r().catch(u)})},_g=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>Ps(async()=>{const{default:i}=await Promise.resolve().then(()=>Rn);return{default:i}},void 0).then(({default:i})=>i(...s)):r=fetch,(...s)=>r(...s)};class Il extends Error{constructor(r,s="FunctionsError",i){super(r),this.name=s,this.context=i}}class Qd extends Il{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}}class Yd extends Il{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}}class Xd extends Il{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}}var vl;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(vl||(vl={}));var bg=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};class kg{constructor(r,{headers:s={},customFetch:i,region:l=vl.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=_g(i)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return bg(this,arguments,void 0,function*(s,i={}){var l;try{const{headers:u,method:d,body:p,signal:m}=i;let v={},{region:y}=i;y||(y=this.region);const w=new URL(`${this.url}/${s}`);y&&y!=="any"&&(v["x-region"]=y,w.searchParams.set("forceFunctionRegion",y));let _;p&&(u&&!Object.prototype.hasOwnProperty.call(u,"Content-Type")||!u)&&(typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",_=p):typeof p=="string"?(v["Content-Type"]="text/plain",_=p):typeof FormData<"u"&&p instanceof FormData?_=p:(v["Content-Type"]="application/json",_=JSON.stringify(p)));const S=yield this.fetch(w.toString(),{method:d||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),u),body:_,signal:m}).catch(z=>{throw z.name==="AbortError"?z:new Qd(z)}),O=S.headers.get("x-relay-error");if(O&&O==="true")throw new Yd(S);if(!S.ok)throw new Xd(S);let j=((l=S.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),T;return j==="application/json"?T=yield S.json():j==="application/octet-stream"?T=yield S.blob():j==="text/event-stream"?T=S:j==="multipart/form-data"?T=yield S.formData():T=yield S.text(),{data:T,error:null,response:S}}catch(u){return u instanceof Error&&u.name==="AbortError"?{data:null,error:new Qd(u)}:{data:null,error:u,response:u instanceof Xd||u instanceof Yd?u.context:void 0}}})}}var He={},mn={},gn={},vn={},yn={},wn={},Sg=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Tn=Sg();const jg=Tn.fetch,Lh=Tn.fetch.bind(Tn),$h=Tn.Headers,Eg=Tn.Request,Ng=Tn.Response,Rn=Object.freeze(Object.defineProperty({__proto__:null,Headers:$h,Request:Eg,Response:Ng,default:Lh,fetch:jg},Symbol.toStringTag,{value:"Module"})),Cg=om(Rn);var Wi={},Zd;function Dh(){if(Zd)return Wi;Zd=1,Object.defineProperty(Wi,"__esModule",{value:!0});class o extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return Wi.default=o,Wi}var eh;function Uh(){if(eh)return wn;eh=1;var o=wn&&wn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(wn,"__esModule",{value:!0});const r=o(Cg),s=o(Dh());class i{constructor(u){var d,p;this.shouldThrowOnError=!1,this.method=u.method,this.url=u.url,this.headers=new Headers(u.headers),this.schema=u.schema,this.body=u.body,this.shouldThrowOnError=(d=u.shouldThrowOnError)!==null&&d!==void 0?d:!1,this.signal=u.signal,this.isMaybeSingle=(p=u.isMaybeSingle)!==null&&p!==void 0?p:!1,u.fetch?this.fetch=u.fetch:typeof fetch>"u"?this.fetch=r.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(u,d){return this.headers=new Headers(this.headers),this.headers.set(u,d),this}then(u,d){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const p=this.fetch;let m=p(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async v=>{var y,w,_,S;let O=null,j=null,T=null,z=v.status,M=v.statusText;if(v.ok){if(this.method!=="HEAD"){const X=await v.text();X===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((y=this.headers.get("Accept"))===null||y===void 0)&&y.includes("application/vnd.pgrst.plan+text"))?j=X:j=JSON.parse(X))}const W=(w=this.headers.get("Prefer"))===null||w===void 0?void 0:w.match(/count=(exact|planned|estimated)/),te=(_=v.headers.get("content-range"))===null||_===void 0?void 0:_.split("/");W&&te&&te.length>1&&(T=parseInt(te[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(j)&&(j.length>1?(O={code:"PGRST116",details:`Results contain ${j.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},j=null,T=null,z=406,M="Not Acceptable"):j.length===1?j=j[0]:j=null)}else{const W=await v.text();try{O=JSON.parse(W),Array.isArray(O)&&v.status===404&&(j=[],O=null,z=200,M="OK")}catch{v.status===404&&W===""?(z=204,M="No Content"):O={message:W}}if(O&&this.isMaybeSingle&&(!((S=O==null?void 0:O.details)===null||S===void 0)&&S.includes("0 rows"))&&(O=null,z=200,M="OK"),O&&this.shouldThrowOnError)throw new s.default(O)}return{error:O,data:j,count:T,status:z,statusText:M}});return this.shouldThrowOnError||(m=m.catch(v=>{var y,w,_;return{error:{message:`${(y=v==null?void 0:v.name)!==null&&y!==void 0?y:"FetchError"}: ${v==null?void 0:v.message}`,details:`${(w=v==null?void 0:v.stack)!==null&&w!==void 0?w:""}`,hint:"",code:`${(_=v==null?void 0:v.code)!==null&&_!==void 0?_:""}`},data:null,count:null,status:0,statusText:""}})),m.then(u,d)}returns(){return this}overrideTypes(){return this}}return wn.default=i,wn}var th;function Mh(){if(th)return yn;th=1;var o=yn&&yn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(yn,"__esModule",{value:!0});const r=o(Uh());class s extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(p=>/\s/.test(p)&&!u?"":(p==='"'&&(u=!u),p)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:p,referencedTable:m=p}={}){const v=m?`${m}.order`:"order",y=this.url.searchParams.get(v);return this.url.searchParams.set(v,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const p=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(p,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:p=d}={}){const m=typeof p>"u"?"offset":`${p}.offset`,v=typeof p>"u"?"limit":`${p}.limit`;return this.url.searchParams.set(m,`${l}`),this.url.searchParams.set(v,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:p=!1,wal:m=!1,format:v="text"}={}){var y;const w=[l?"analyze":null,u?"verbose":null,d?"settings":null,p?"buffers":null,m?"wal":null].filter(Boolean).join("|"),_=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${v}; for="${_}"; options=${w};`),v==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}}return yn.default=s,yn}var rh;function Al(){if(rh)return vn;rh=1;var o=vn&&vn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(vn,"__esModule",{value:!0});const r=o(Mh());class s extends r.default{eq(l,u){return this.url.searchParams.append(l,`eq.${u}`),this}neq(l,u){return this.url.searchParams.append(l,`neq.${u}`),this}gt(l,u){return this.url.searchParams.append(l,`gt.${u}`),this}gte(l,u){return this.url.searchParams.append(l,`gte.${u}`),this}lt(l,u){return this.url.searchParams.append(l,`lt.${u}`),this}lte(l,u){return this.url.searchParams.append(l,`lte.${u}`),this}like(l,u){return this.url.searchParams.append(l,`like.${u}`),this}likeAllOf(l,u){return this.url.searchParams.append(l,`like(all).{${u.join(",")}}`),this}likeAnyOf(l,u){return this.url.searchParams.append(l,`like(any).{${u.join(",")}}`),this}ilike(l,u){return this.url.searchParams.append(l,`ilike.${u}`),this}ilikeAllOf(l,u){return this.url.searchParams.append(l,`ilike(all).{${u.join(",")}}`),this}ilikeAnyOf(l,u){return this.url.searchParams.append(l,`ilike(any).{${u.join(",")}}`),this}is(l,u){return this.url.searchParams.append(l,`is.${u}`),this}in(l,u){const d=Array.from(new Set(u)).map(p=>typeof p=="string"&&new RegExp("[,()]").test(p)?`"${p}"`:`${p}`).join(",");return this.url.searchParams.append(l,`in.(${d})`),this}contains(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cs.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cs.{${u.join(",")}}`):this.url.searchParams.append(l,`cs.${JSON.stringify(u)}`),this}containedBy(l,u){return typeof u=="string"?this.url.searchParams.append(l,`cd.${u}`):Array.isArray(u)?this.url.searchParams.append(l,`cd.{${u.join(",")}}`):this.url.searchParams.append(l,`cd.${JSON.stringify(u)}`),this}rangeGt(l,u){return this.url.searchParams.append(l,`sr.${u}`),this}rangeGte(l,u){return this.url.searchParams.append(l,`nxl.${u}`),this}rangeLt(l,u){return this.url.searchParams.append(l,`sl.${u}`),this}rangeLte(l,u){return this.url.searchParams.append(l,`nxr.${u}`),this}rangeAdjacent(l,u){return this.url.searchParams.append(l,`adj.${u}`),this}overlaps(l,u){return typeof u=="string"?this.url.searchParams.append(l,`ov.${u}`):this.url.searchParams.append(l,`ov.{${u.join(",")}}`),this}textSearch(l,u,{config:d,type:p}={}){let m="";p==="plain"?m="pl":p==="phrase"?m="ph":p==="websearch"&&(m="w");const v=d===void 0?"":`(${d})`;return this.url.searchParams.append(l,`${m}fts${v}.${u}`),this}match(l){return Object.entries(l).forEach(([u,d])=>{this.url.searchParams.append(u,`eq.${d}`)}),this}not(l,u,d){return this.url.searchParams.append(l,`not.${u}.${d}`),this}or(l,{foreignTable:u,referencedTable:d=u}={}){const p=d?`${d}.or`:"or";return this.url.searchParams.append(p,`(${l})`),this}filter(l,u,d){return this.url.searchParams.append(l,`${u}.${d}`),this}}return vn.default=s,vn}var nh;function zh(){if(nh)return gn;nh=1;var o=gn&&gn.__importDefault||function(i){return i&&i.__esModule?i:{default:i}};Object.defineProperty(gn,"__esModule",{value:!0});const r=o(Al());class s{constructor(l,{headers:u={},schema:d,fetch:p}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=p}select(l,u){const{head:d=!1,count:p}=u??{},m=d?"HEAD":"GET";let v=!1;const y=(l??"*").split("").map(w=>/\s/.test(w)&&!v?"":(w==='"'&&(v=!v),w)).join("");return this.url.searchParams.set("select",y),p&&this.headers.append("Prefer",`count=${p}`),new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var p;const m="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const v=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(v.length>0){const y=[...new Set(v)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:m,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(p=this.fetch)!==null&&p!==void 0?p:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:p,defaultToNull:m=!0}={}){var v;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),p&&this.headers.append("Prefer",`count=${p}`),m||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((_,S)=>_.concat(Object.keys(S)),[]);if(w.length>0){const _=[...new Set(w)].map(S=>`"${S}"`);this.url.searchParams.set("columns",_.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(v=this.fetch)!==null&&v!==void 0?v:fetch})}update(l,{count:u}={}){var d;const p="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:p,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return gn.default=s,gn}var sh;function Tg(){if(sh)return mn;sh=1;var o=mn&&mn.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(mn,"__esModule",{value:!0});const r=o(zh()),s=o(Al());class i{constructor(u,{headers:d={},schema:p,fetch:m}={}){this.url=u,this.headers=new Headers(d),this.schemaName=p,this.fetch=m}from(u){const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new i(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:p=!1,get:m=!1,count:v}={}){var y;let w;const _=new URL(`${this.url}/rpc/${u}`);let S;p||m?(w=p?"HEAD":"GET",Object.entries(d).filter(([j,T])=>T!==void 0).map(([j,T])=>[j,Array.isArray(T)?`{${T.join(",")}}`:`${T}`]).forEach(([j,T])=>{_.searchParams.append(j,T)})):(w="POST",S=d);const O=new Headers(this.headers);return v&&O.set("Prefer",`count=${v}`),new s.default({method:w,url:_,headers:O,schema:this.schemaName,body:S,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}}return mn.default=i,mn}var ih;function Pg(){if(ih)return He;ih=1;var o=He&&He.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(He,"__esModule",{value:!0}),He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const r=o(Tg());He.PostgrestClient=r.default;const s=o(zh());He.PostgrestQueryBuilder=s.default;const i=o(Al());He.PostgrestFilterBuilder=i.default;const l=o(Mh());He.PostgrestTransformBuilder=l.default;const u=o(Uh());He.PostgrestBuilder=u.default;const d=o(Dh());return He.PostgrestError=d.default,He.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:i.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},He}var Og=Pg();const Rg=kh(Og),{PostgrestClient:Ig,PostgrestQueryBuilder:Ty,PostgrestFilterBuilder:Py,PostgrestTransformBuilder:Oy,PostgrestBuilder:Ry,PostgrestError:Iy}=Rg;class Ag{static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const i=s.node,l=parseInt(i.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const i=this.getWebSocketConstructor();return new i(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Lg="2.75.0",$g=`realtime-js/${Lg}`,Dg="1.0.0",yl=1e4,Ug=1e3,Mg=100;var _s;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})(_s||(_s={}));var ze;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(ze||(ze={}));var Tt;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Tt||(Tt={}));var wl;(function(o){o.websocket="websocket"})(wl||(wl={}));var Dr;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Dr||(Dr={}));class zg{constructor(){this.HEADER_LENGTH=1}decode(r,s){return r.constructor===ArrayBuffer?s(this._binaryDecode(r)):s(typeof r=="string"?JSON.parse(r):{})}_binaryDecode(r){const s=new DataView(r),i=new TextDecoder;return this._decodeBroadcast(r,s,i)}_decodeBroadcast(r,s,i){const l=s.getUint8(1),u=s.getUint8(2);let d=this.HEADER_LENGTH+2;const p=i.decode(r.slice(d,d+l));d=d+l;const m=i.decode(r.slice(d,d+u));d=d+u;const v=JSON.parse(i.decode(r.slice(d,r.byteLength)));return{ref:null,topic:p,event:m,payload:v}}}class Fh{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ye;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(ye||(ye={}));const oh=(o,r,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=Fg(d,o,r,l),u),{}):{}},Fg=(o,r,s,i)=>{const l=r.find(p=>p.name===o),u=l==null?void 0:l.type,d=s[o];return u&&!i.includes(u)?Bh(u,d):xl(d)},Bh=(o,r)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return qg(r,s)}switch(o){case ye.bool:return Bg(r);case ye.float4:case ye.float8:case ye.int2:case ye.int4:case ye.int8:case ye.numeric:case ye.oid:return Wg(r);case ye.json:case ye.jsonb:return Hg(r);case ye.timestamp:return Vg(r);case ye.abstime:case ye.date:case ye.daterange:case ye.int4range:case ye.int8range:case ye.money:case ye.reltime:case ye.text:case ye.time:case ye.timestamptz:case ye.timetz:case ye.tsrange:case ye.tstzrange:return xl(r);default:return xl(r)}},xl=o=>o,Bg=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Wg=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},Hg=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(r){return console.log(`JSON parse error: ${r}`),o}return o},qg=(o,r)=>{if(typeof o!="string")return o;const s=o.length-1,i=o[s];if(o[0]==="{"&&i==="}"){let u;const d=o.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(p=>Bh(r,p))}return o},Vg=o=>typeof o=="string"?o.replace(" ","T"):o,Wh=o=>{let r=o;return r=r.replace(/^ws/i,"http"),r=r.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),r.replace(/\/+$/,"")+"/api/broadcast"};class sl{constructor(r,s,i={},l=yl){this.channel=r,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var i;return this._hasReceived(r)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(i=>i.status===r).forEach(i=>i.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ah;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(ah||(ah={}));class bs{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.joinRef=this.channel._joinRef(),this.state=bs.syncState(this.state,l,u,d),this.pendingDiffs.forEach(m=>{this.state=bs.syncDiff(this.state,m,u,d)}),this.pendingDiffs=[],p()}),this.channel._on(i.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:p}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=bs.syncDiff(this.state,l,u,d),p())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,i,l){const u=this.cloneDeep(r),d=this.transformState(s),p={},m={};return this.map(u,(v,y)=>{d[v]||(m[v]=y)}),this.map(d,(v,y)=>{const w=u[v];if(w){const _=y.map(T=>T.presence_ref),S=w.map(T=>T.presence_ref),O=y.filter(T=>S.indexOf(T.presence_ref)<0),j=w.filter(T=>_.indexOf(T.presence_ref)<0);O.length>0&&(p[v]=O),j.length>0&&(m[v]=j)}else p[v]=y}),this.syncDiff(u,{joins:p,leaves:m},i,l)}static syncDiff(r,s,i,l){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(u,(p,m)=>{var v;const y=(v=r[p])!==null&&v!==void 0?v:[];if(r[p]=this.cloneDeep(m),y.length>0){const w=r[p].map(S=>S.presence_ref),_=y.filter(S=>w.indexOf(S.presence_ref)<0);r[p].unshift(..._)}i(p,y,m)}),this.map(d,(p,m)=>{let v=r[p];if(!v)return;const y=m.map(w=>w.presence_ref);v=v.filter(w=>y.indexOf(w.presence_ref)<0),r[p]=v,l(p,v,m),v.length===0&&delete r[p]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(i=>s(i,r[i]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,i)=>{const l=r[i];return"metas"in l?s[i]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[i]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lh;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(lh||(lh={}));var ks;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(ks||(ks={}));var qt;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(qt||(qt={}));class Ll{constructor(r,s={config:{}},i){var l,u;if(this.topic=r,this.params=s,this.socket=i,this.bindings={},this.state=ze.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new sl(this,Tt.join,this.params,this.timeout),this.rejoinTimer=new Fh(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ze.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ze.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ze.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Tt.reply,{},(d,p)=>{this._trigger(this._replyEventName(p),d)}),this.presence=new bs(this),this.broadcastEndpointURL=Wh(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var i,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==ze.closed){const{config:{broadcast:d,presence:p,private:m}}=this.params,v=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(S=>S.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[ks.PRESENCE]&&this.bindings[ks.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},_={broadcast:d,presence:Object.assign(Object.assign({},p),{enabled:y}),postgres_changes:v,private:m};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(S=>r==null?void 0:r(qt.CHANNEL_ERROR,S)),this._onClose(()=>r==null?void 0:r(qt.CLOSED)),this.updateJoinPayload(Object.assign({config:_},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var O;if(this.socket.setAuth(),S===void 0){r==null||r(qt.SUBSCRIBED);return}else{const j=this.bindings.postgres_changes,T=(O=j==null?void 0:j.length)!==null&&O!==void 0?O:0,z=[];for(let M=0;M<T;M++){const $=j[M],{filter:{event:W,schema:te,table:X,filter:ae}}=$,Se=S&&S[M];if(Se&&Se.event===W&&Se.schema===te&&Se.table===X&&Se.filter===ae)z.push(Object.assign(Object.assign({},$),{id:Se.id}));else{this.unsubscribe(),this.state=ze.errored,r==null||r(qt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=z,r&&r(qt.SUBSCRIBED);return}}).receive("error",S=>{this.state=ze.errored,r==null||r(qt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{r==null||r(qt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,i){return this.state===ze.joined&&r===ks.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,i)}async send(r,s={}){var i,l;if(!this._canPush()&&r.type==="broadcast"){const{event:u,payload:d}=r,m={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const v=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=v.body)===null||l===void 0?void 0:l.cancel()),v.ok?"ok":"error"}catch(v){return v.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,p,m;const v=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((m=(p=(d=this.params)===null||d===void 0?void 0:d.config)===null||p===void 0?void 0:p.broadcast)===null||m===void 0)&&m.ack)&&u("ok"),v.receive("ok",()=>u("ok")),v.receive("error",()=>u("error")),v.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=ze.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Tt.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new sl(this,Tt.leave,{},r),i.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i==null||i.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ze.closed,this.bindings={}}async _fetchWithTimeout(r,s,i){const l=new AbortController,u=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),d}_push(r,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new sl(this,r,s,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Mg){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,i){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,i){var l,u;const d=r.toLocaleLowerCase(),{close:p,error:m,leave:v,join:y}=Tt;if(i&&[p,m,v,y].indexOf(d)>=0&&i!==this._joinRef())return;let _=this._onMessage(d,s,i);if(s&&!_)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(S=>{var O,j,T;return((O=S.filter)===null||O===void 0?void 0:O.event)==="*"||((T=(j=S.filter)===null||j===void 0?void 0:j.event)===null||T===void 0?void 0:T.toLocaleLowerCase())===d}).map(S=>S.callback(_,i)):(u=this.bindings[d])===null||u===void 0||u.filter(S=>{var O,j,T,z,M,$;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const W=S.id,te=(O=S.filter)===null||O===void 0?void 0:O.event;return W&&((j=s.ids)===null||j===void 0?void 0:j.includes(W))&&(te==="*"||(te==null?void 0:te.toLocaleLowerCase())===((T=s.data)===null||T===void 0?void 0:T.type.toLocaleLowerCase()))}else{const W=(M=(z=S==null?void 0:S.filter)===null||z===void 0?void 0:z.event)===null||M===void 0?void 0:M.toLocaleLowerCase();return W==="*"||W===(($=s==null?void 0:s.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof _=="object"&&"ids"in _){const O=_.data,{schema:j,table:T,commit_timestamp:z,type:M,errors:$}=O;_=Object.assign(Object.assign({},{schema:j,table:T,commit_timestamp:z,eventType:M,new:{},old:{},errors:$}),this._getPayloadRecords(O))}S.callback(_,i)})}_isClosed(){return this.state===ze.closed}_isJoined(){return this.state===ze.joined}_isJoining(){return this.state===ze.joining}_isLeaving(){return this.state===ze.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,i){const l=r.toLocaleLowerCase(),u={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,s){const i=r.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===i&&Ll.isEqual(l.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const i in r)if(r[i]!==s[i])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Tt.close,{},r)}_onError(r){this._on(Tt.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ze.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=oh(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=oh(r.columns,r.old_record)),s}}const il=()=>{},Hi={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Kg=[1e3,2e3,5e3,1e4],Jg=1e4,Gg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Qg{constructor(r,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=yl,this.transport=null,this.heartbeatIntervalMs=Hi.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=il,this.ref=0,this.reconnectTimer=null,this.logger=il,this.conn=null,this.sendBuffer=[],this.serializer=new zg,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>{let u;return l?u=l:typeof fetch>"u"?u=(...d)=>Ps(async()=>{const{default:p}=await Promise.resolve().then(()=>Rn);return{default:p}},void 0).then(({default:p})=>p(...d)).catch(p=>{throw new Error(`Failed to load @supabase/node-fetch: ${p.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):u=fetch,(...d)=>u(...d)},!(!((i=s==null?void 0:s.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${wl.websocket}`,this.httpEndpoint=Wh(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Ag.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dg}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},r?this.conn.close(r,s??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,i){this.logger(r,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case _s.connecting:return Dr.Connecting;case _s.open:return Dr.Open;case _s.closing:return Dr.Closing;default:return Dr.Closed}}isConnected(){return this.connectionState()===Dr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const i=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===i);if(l)return l;{const u=new Ll(`realtime:${r}`,s,this);return this.channels.push(u),u}}push(r){const{topic:s,event:i,payload:l,ref:u}=r,d=()=>{this.encode(r,p=>{var m;(m=this.conn)===null||m===void 0||m.send(p)})};this.log("push",`${s} ${i} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(Ug,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Hi.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(i=>i.topic===r&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(v){this.log("error","error in heartbeat callback",v)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:i,event:l,payload:u,ref:d}=s,p=d?`(${d})`:"",m=u.status||"";this.log("receive",`${m} ${i} ${l} ${p}`.trim(),u),this.channels.filter(v=>v._isMember(i)).forEach(v=>v._trigger(l,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Tt.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const i=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${i}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const i=new Blob([Gg],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(i=>{const l={access_token:s,version:$g};s&&i.updateJoinPayload(l),i.joinedOnce&&i._isJoined()&&i._push(Tt.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(i=>{try{i(s)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(i){this.log("error",`error triggering ${r} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new Fh(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Hi.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,i,l,u,d,p,m,v,y;if(this.transport=(s=r==null?void 0:r.transport)!==null&&s!==void 0?s:null,this.timeout=(i=r==null?void 0:r.timeout)!==null&&i!==void 0?i:yl,this.heartbeatIntervalMs=(l=r==null?void 0:r.heartbeatIntervalMs)!==null&&l!==void 0?l:Hi.HEARTBEAT_INTERVAL,this.worker=(u=r==null?void 0:r.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r==null?void 0:r.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(p=r==null?void 0:r.heartbeatCallback)!==null&&p!==void 0?p:il,r!=null&&r.params&&(this.params=r.params),r!=null&&r.logger&&(this.logger=r.logger),(r!=null&&r.logLevel||r!=null&&r.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r==null?void 0:r.reconnectAfterMs)!==null&&m!==void 0?m:w=>Kg[w-1]||Jg,this.encode=(v=r==null?void 0:r.encode)!==null&&v!==void 0?v:(w,_)=>_(JSON.stringify(w)),this.decode=(y=r==null?void 0:r.decode)!==null&&y!==void 0?y:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r==null?void 0:r.workerUrl}}}class $l extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function De(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class Yg extends $l{constructor(r,s,i){super(r),this.name="StorageApiError",this.status=s,this.statusCode=i}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class _l extends $l{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}var Xg=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};const Hh=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>Ps(async()=>{const{default:i}=await Promise.resolve().then(()=>Rn);return{default:i}},void 0).then(({default:i})=>i(...s)):r=fetch,(...s)=>r(...s)},Zg=()=>Xg(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ps(()=>Promise.resolve().then(()=>Rn),void 0)).Response:Response}),bl=o=>{if(Array.isArray(o))return o.map(s=>bl(s));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=bl(i)}),r},e0=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)};var Br=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};const ol=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),t0=(o,r,s)=>Br(void 0,void 0,void 0,function*(){const i=yield Zg();o instanceof i&&!(s!=null&&s.noResolveJson)?o.json().then(l=>{const u=o.status||500,d=(l==null?void 0:l.statusCode)||u+"";r(new Yg(ol(l),u,d))}).catch(l=>{r(new _l(ol(l),l))}):r(new _l(ol(o),o))}),r0=(o,r,s,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return o==="GET"||!i?l:(e0(i)?(l.headers=Object.assign({"Content-Type":"application/json"},r==null?void 0:r.headers),l.body=JSON.stringify(i)):l.body=i,r!=null&&r.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),s))};function Os(o,r,s,i,l,u){return Br(this,void 0,void 0,function*(){return new Promise((d,p)=>{o(s,r0(r,i,l,u)).then(m=>{if(!m.ok)throw m;return i!=null&&i.noResolveJson?m:m.json()}).then(m=>d(m)).catch(m=>t0(m,p,i))})})}function Gi(o,r,s,i){return Br(this,void 0,void 0,function*(){return Os(o,"GET",r,s,i)})}function $t(o,r,s,i,l){return Br(this,void 0,void 0,function*(){return Os(o,"POST",r,i,l,s)})}function kl(o,r,s,i,l){return Br(this,void 0,void 0,function*(){return Os(o,"PUT",r,i,l,s)})}function n0(o,r,s,i){return Br(this,void 0,void 0,function*(){return Os(o,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),i)})}function qh(o,r,s,i,l){return Br(this,void 0,void 0,function*(){return Os(o,"DELETE",r,i,l,s)})}var s0=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};class i0{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}then(r,s){return this.execute().then(r,s)}execute(){return s0(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}}var o0=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};class a0{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}asStream(){return new i0(this.downloadFn,this.shouldThrowOnError)}then(r,s){return this.execute().then(r,s)}execute(){return o0(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}}var at=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};const l0={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},uh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class u0{constructor(r,s={},i,l){this.shouldThrowOnError=!1,this.url=r,this.headers=s,this.bucketId=i,this.fetch=Hh(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,s,i,l){return at(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},uh),l);let p=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&i instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m)),u.append("",i)):typeof FormData<"u"&&i instanceof FormData?(u=i,u.append("cacheControl",d.cacheControl),m&&u.append("metadata",this.encodeMetadata(m))):(u=i,p["cache-control"]=`max-age=${d.cacheControl}`,p["content-type"]=d.contentType,m&&(p["x-metadata"]=this.toBase64(this.encodeMetadata(m)))),l!=null&&l.headers&&(p=Object.assign(Object.assign({},p),l.headers));const v=this._removeEmptyFolders(s),y=this._getFinalPath(v),w=yield(r=="PUT"?kl:$t)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:p},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{data:{path:v,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(De(u))return{data:null,error:u};throw u}})}upload(r,s,i){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,i)})}uploadToSignedUrl(r,s,i,l){return at(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),p=new URL(this.url+`/object/upload/sign/${d}`);p.searchParams.set("token",s);try{let m;const v=Object.assign({upsert:uh.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(v.upsert)});typeof Blob<"u"&&i instanceof Blob?(m=new FormData,m.append("cacheControl",v.cacheControl),m.append("",i)):typeof FormData<"u"&&i instanceof FormData?(m=i,m.append("cacheControl",v.cacheControl)):(m=i,y["cache-control"]=`max-age=${v.cacheControl}`,y["content-type"]=v.contentType);const w=yield kl(this.fetch,p.toString(),m,{headers:y});return{data:{path:u,fullPath:w.Key},error:null}}catch(m){if(this.shouldThrowOnError)throw m;if(De(m))return{data:null,error:m};throw m}})}createSignedUploadUrl(r,s){return at(this,void 0,void 0,function*(){try{let i=this._getFinalPath(r);const l=Object.assign({},this.headers);s!=null&&s.upsert&&(l["x-upsert"]="true");const u=yield $t(this.fetch,`${this.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(this.url+u.url),p=d.searchParams.get("token");if(!p)throw new $l("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:p},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}})}update(r,s,i){return at(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,i)})}move(r,s,i){return at(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}copy(r,s,i){return at(this,void 0,void 0,function*(){try{return{data:{path:(yield $t(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:i==null?void 0:i.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}createSignedUrl(r,s,i){return at(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield $t(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},i!=null&&i.transform?{transform:i.transform}:{}),{headers:this.headers});const d=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}createSignedUrls(r,s,i){return at(this,void 0,void 0,function*(){try{const l=yield $t(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),u=i!=null&&i.download?`&download=${i.download===!0?"":i.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}download(r,s){const l=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),d=u?`?${u}`:"",p=this._getFinalPath(r),m=()=>Gi(this.fetch,`${this.url}/${l}/${p}${d}`,{headers:this.headers,noResolveJson:!0});return new a0(m,this.shouldThrowOnError)}info(r){return at(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const i=yield Gi(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:bl(i),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}})}exists(r){return at(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield n0(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(De(i)&&i instanceof _l){const l=i.originalError;if([400,404].includes(l==null?void 0:l.status))return{data:!1,error:i}}throw i}})}getPublicUrl(r,s){const i=this._getFinalPath(r),l=[],u=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const p=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",m=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});m!==""&&l.push(m);let v=l.join("&");return v!==""&&(v=`?${v}`),{data:{publicUrl:encodeURI(`${this.url}/${p}/public/${i}${v}`)}}}remove(r){return at(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}list(r,s,i){return at(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},l0),s),{prefix:r||""});return{data:yield $t(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},i),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}listV2(r,s){return at(this,void 0,void 0,function*(){try{const i=Object.assign({},r);return{data:yield $t(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,i,{headers:this.headers},s),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const c0="2.75.0",d0={"X-Client-Info":`storage-js/${c0}`};var xn=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};class h0{constructor(r,s={},i,l){this.shouldThrowOnError=!1;const u=new URL(r);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},d0),s),this.fetch=Hh(i)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return xn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(De(r))return{data:null,error:r};throw r}})}getBucket(r){return xn(this,void 0,void 0,function*(){try{return{data:yield Gi(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}createBucket(r){return xn(this,arguments,void 0,function*(s,i={public:!1}){try{return{data:yield $t(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:i.type,public:i.public,file_size_limit:i.fileSizeLimit,allowed_mime_types:i.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(De(l))return{data:null,error:l};throw l}})}updateBucket(r,s){return xn(this,void 0,void 0,function*(){try{return{data:yield kl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(De(i))return{data:null,error:i};throw i}})}emptyBucket(r){return xn(this,void 0,void 0,function*(){try{return{data:yield $t(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}deleteBucket(r){return xn(this,void 0,void 0,function*(){try{return{data:yield qh(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(De(s))return{data:null,error:s};throw s}})}}class f0 extends h0{constructor(r,s={},i,l){super(r,s,i,l)}from(r){return new u0(this.url,this.headers,r,this.fetch)}}const p0="2.75.0";let xs="";typeof Deno<"u"?xs="deno":typeof document<"u"?xs="web":typeof navigator<"u"&&navigator.product==="ReactNative"?xs="react-native":xs="node";const m0={"X-Client-Info":`supabase-js-${xs}/${p0}`},g0={headers:m0},v0={schema:"public"},y0={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},w0={};var x0=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};const _0=o=>{let r;return o?r=o:typeof fetch>"u"?r=Lh:r=fetch,(...s)=>r(...s)},b0=()=>typeof Headers>"u"?$h:Headers,k0=(o,r,s)=>{const i=_0(s),l=b0();return(u,d)=>x0(void 0,void 0,void 0,function*(){var p;const m=(p=yield r())!==null&&p!==void 0?p:o;let v=new l(d==null?void 0:d.headers);return v.has("apikey")||v.set("apikey",o),v.has("Authorization")||v.set("Authorization",`Bearer ${m}`),i(u,Object.assign(Object.assign({},d),{headers:v}))})};var S0=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};function j0(o){return o.endsWith("/")?o:o+"/"}function E0(o,r){var s,i;const{db:l,auth:u,realtime:d,global:p}=o,{db:m,auth:v,realtime:y,global:w}=r,_={db:Object.assign(Object.assign({},m),l),auth:Object.assign(Object.assign({},v),u),realtime:Object.assign(Object.assign({},y),d),storage:{},global:Object.assign(Object.assign(Object.assign({},w),p),{headers:Object.assign(Object.assign({},(s=w==null?void 0:w.headers)!==null&&s!==void 0?s:{}),(i=p==null?void 0:p.headers)!==null&&i!==void 0?i:{})}),accessToken:()=>S0(this,void 0,void 0,function*(){return""})};return o.accessToken?_.accessToken=o.accessToken:delete _.accessToken,_}function N0(o){const r=o==null?void 0:o.trim();if(!r)throw new Error("supabaseUrl is required.");if(!r.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(j0(r))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Vh="2.75.0",En=30*1e3,Sl=3,al=Sl*En,C0="http://localhost:9999",T0="supabase.auth.token",P0={"X-Client-Info":`gotrue-js/${Vh}`},jl="X-Supabase-Api-Version",Kh={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},O0=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,R0=10*60*1e3;class Es extends Error{constructor(r,s,i){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function Y(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}class I0 extends Es{constructor(r,s,i){super(r,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function A0(o){return Y(o)&&o.name==="AuthApiError"}class Ur extends Es{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}}class xr extends Es{constructor(r,s,i,l){super(r,i,l),this.name=s,this.status=i}}class mr extends xr{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function L0(o){return Y(o)&&o.name==="AuthSessionMissingError"}class _n extends xr{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class qi extends xr{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}}class Vi extends xr{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function $0(o){return Y(o)&&o.name==="AuthImplicitGrantRedirectError"}class ch extends xr{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class El extends xr{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}}function ll(o){return Y(o)&&o.name==="AuthRetryableFetchError"}class dh extends xr{constructor(r,s,i){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Nl extends xr{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}}const Qi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),hh=` 	
\r=`.split(""),D0=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<hh.length;r+=1)o[hh[r].charCodeAt(0)]=-2;for(let r=0;r<Qi.length;r+=1)o[Qi[r].charCodeAt(0)]=r;return o})();function fh(o,r,s){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;s(Qi[i]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const i=r.queue>>r.queuedBits-6&63;s(Qi[i]),r.queuedBits-=6}}function Jh(o,r,s){const i=D0[o];if(i>-1)for(r.queue=r.queue<<6|i,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function ph(o){const r=[],s=d=>{r.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{z0(d,i,s)};for(let d=0;d<o.length;d+=1)Jh(o.charCodeAt(d),l,u);return r.join("")}function U0(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function M0(o,r){for(let s=0;s<o.length;s+=1){let i=o.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(o.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}U0(i,r)}}function z0(o,r,s){if(r.utf8seq===0){if(o<=127){s(o);return}for(let i=1;i<6;i+=1)if((o>>7-i&1)===0){r.utf8seq=i;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function Cn(o){const r=[],s={queue:0,queuedBits:0},i=l=>{r.push(l)};for(let l=0;l<o.length;l+=1)Jh(o.charCodeAt(l),s,i);return new Uint8Array(r)}function F0(o){const r=[];return M0(o,s=>r.push(s)),new Uint8Array(r)}function Mr(o){const r=[],s={queue:0,queuedBits:0},i=l=>{r.push(l)};return o.forEach(l=>fh(l,s,i)),fh(null,s,i),r.join("")}function B0(o){return Math.round(Date.now()/1e3)+o}function W0(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(o){const r=Math.random()*16|0;return(o=="x"?r:r&3|8).toString(16)})}const ft=()=>typeof window<"u"&&typeof document<"u",Ar={tested:!1,writable:!1},Gh=()=>{if(!ft())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ar.tested)return Ar.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Ar.tested=!0,Ar.writable=!0}catch{Ar.tested=!0,Ar.writable=!1}return Ar.writable};function H0(o){const r={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return s.searchParams.forEach((i,l)=>{r[l]=i}),r}const Qh=o=>{let r;return o?r=o:typeof fetch>"u"?r=(...s)=>Ps(async()=>{const{default:i}=await Promise.resolve().then(()=>Rn);return{default:i}},void 0).then(({default:i})=>i(...s)):r=fetch,(...s)=>r(...s)},q0=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",Nn=async(o,r,s)=>{await o.setItem(r,JSON.stringify(s))},Lr=async(o,r)=>{const s=await o.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},pr=async(o,r)=>{await o.removeItem(r)};class to{constructor(){this.promise=new to.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}to.promiseConstructor=Promise;function ul(o){const r=o.split(".");if(r.length!==3)throw new Nl("Invalid JWT structure");for(let i=0;i<r.length;i++)if(!O0.test(r[i]))throw new Nl("JWT not in base64url format");return{header:JSON.parse(ph(r[0])),payload:JSON.parse(ph(r[1])),signature:Cn(r[2]),raw:{header:r[0],payload:r[1]}}}async function V0(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function K0(o,r){return new Promise((i,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await o(u);if(!r(u,null,d)){i(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function J0(o){return("0"+o.toString(16)).substr(-2)}function G0(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(r),Array.from(r,J0).join("")}async function Q0(o){const s=new TextEncoder().encode(o),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Y0(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await Q0(o);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bn(o,r,s=!1){const i=G0();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await Nn(o,`${r}-code-verifier`,l);const u=await Y0(i);return[u,i===u?"plain":"s256"]}const X0=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Z0(o){const r=o.headers.get(jl);if(!r||!r.match(X0))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function ev(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function tv(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const rv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function kn(o){if(!rv.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function cl(){const o={};return new Proxy(o,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function mh(o){return JSON.parse(JSON.stringify(o))}var nv=function(o,r){var s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(s[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(o);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(o,i[l])&&(s[i[l]]=o[i[l]]);return s};const $r=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),sv=[502,503,504];async function gh(o){var r;if(!q0(o))throw new El($r(o),0);if(sv.includes(o.status))throw new El($r(o),o.status);let s;try{s=await o.json()}catch(u){throw new Ur($r(u),u)}let i;const l=Z0(o);if(l&&l.getTime()>=Kh["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new dh($r(s),o.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(i==="session_not_found")throw new mr}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new dh($r(s),o.status,s.weak_password.reasons);throw new I0($r(s),o.status||500,i)}const iv=(o,r,s,i)=>{const l={method:o,headers:(r==null?void 0:r.headers)||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r==null?void 0:r.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function re(o,r,s,i){var l;const u=Object.assign({},i==null?void 0:i.headers);u[jl]||(u[jl]=Kh["2024-01-01"].name),i!=null&&i.jwt&&(u.Authorization=`Bearer ${i.jwt}`);const d=(l=i==null?void 0:i.query)!==null&&l!==void 0?l:{};i!=null&&i.redirectTo&&(d.redirect_to=i.redirectTo);const p=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await ov(o,r,s+p,{headers:u,noResolveJson:i==null?void 0:i.noResolveJson},{},i==null?void 0:i.body);return i!=null&&i.xform?i==null?void 0:i.xform(m):{data:Object.assign({},m),error:null}}async function ov(o,r,s,i,l,u){const d=iv(r,i,l,u);let p;try{p=await o(s,Object.assign({},d))}catch(m){throw console.error(m),new El($r(m),0)}if(p.ok||await gh(p),i!=null&&i.noResolveJson)return p;try{return await p.json()}catch(m){await gh(m)}}function Ct(o){var r;let s=null;uv(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=B0(o.expires_in)));const i=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:s,user:i},error:null}}function vh(o){const r=Ct(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(r.data.weak_password=o.weak_password),r}function gr(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function av(o){return{data:o,error:null}}function lv(o){const{action_link:r,email_otp:s,hashed_token:i,redirect_to:l,verification_type:u}=o,d=nv(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),p={action_link:r,email_otp:s,hashed_token:i,redirect_to:l,verification_type:u},m=Object.assign({},d);return{data:{properties:p,user:m},error:null}}function yh(o){return o}function uv(o){return o.access_token&&o.refresh_token&&o.expires_in}const dl=["global","local","others"];var cv=function(o,r){var s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(s[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(o);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(o,i[l])&&(s[i[l]]=o[i[l]]);return s};class dv{constructor({url:r="",headers:s={},fetch:i}){this.url=r,this.headers=s,this.fetch=Qh(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=dl[0]){if(dl.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${dl.join(", ")}`);try{return await re(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}}async inviteUserByEmail(r,s={}){try{return await re(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:gr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async generateLink(r){try{const{options:s}=r,i=cv(r,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i==null?void 0:i.newEmail,delete l.newEmail),await re(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:lv,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(Y(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await re(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:gr})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,i,l,u,d,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await re(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:yh});if(y.error)throw y.error;const w=await y.json(),_=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const j=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(O.split(";")[1].split("=")[1]);v[`${T}Page`]=j}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(Y(v))return{data:{users:[]},error:v};throw v}}async getUserById(r){kn(r);try{return await re(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:gr})}catch(s){if(Y(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){kn(r);try{return await re(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:gr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async deleteUser(r,s=!1){kn(r);try{return await re(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:gr})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async _listFactors(r){kn(r.userId);try{const{data:s,error:i}=await re(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteFactor(r){kn(r.userId),kn(r.id);try{return{data:await re(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,i,l,u,d,p,m;try{const v={nextPage:null,lastPage:0,total:0},y=await re(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=r==null?void 0:r.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(u=(l=r==null?void 0:r.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:yh});if(y.error)throw y.error;const w=await y.json(),_=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(m=(p=y.headers.get("link"))===null||p===void 0?void 0:p.split(","))!==null&&m!==void 0?m:[];return S.length>0&&(S.forEach(O=>{const j=parseInt(O.split(";")[0].split("=")[1].substring(0,1)),T=JSON.parse(O.split(";")[1].split("=")[1]);v[`${T}Page`]=j}),v.total=parseInt(_)),{data:Object.assign(Object.assign({},w),v),error:null}}catch(v){if(Y(v))return{data:{clients:[]},error:v};throw v}}async _createOAuthClient(r){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await re(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _deleteOAuthClient(r){try{return await re(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await re(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}}function wh(o={}){return{getItem:r=>o[r]||null,setItem:(r,s)=>{o[r]=s},removeItem:r=>{delete o[r]}}}const Sn={debug:!!(globalThis&&Gh()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Yh extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}class hv extends Yh{}async function fv(o,r,s){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const i=new globalThis.AbortController;return r>0&&setTimeout(()=>{i.abort(),Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,l.name);try{return await s()}finally{Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,l.name)}}else{if(r===0)throw Sn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new hv(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Sn.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}function pv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Xh(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function mv(o){return parseInt(o,16)}function gv(o){const r=new TextEncoder().encode(o);return"0x"+Array.from(r,i=>i.toString(16).padStart(2,"0")).join("")}function vv(o){var r;const{chainId:s,domain:i,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:p,requestId:m,resources:v,scheme:y,uri:w,version:_}=o;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(_!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${_}`);if(!((r=o.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const S=Xh(o.address),O=y?`${y}://${i}`:i,j=o.statement?`${o.statement}
`:"",T=`${O} wants you to sign in with your Ethereum account:
${S}

${j}`;let z=`URI: ${w}
Version: ${_}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(z+=`
Expiration Time: ${l.toISOString()}`),p&&(z+=`
Not Before: ${p.toISOString()}`),m&&(z+=`
Request ID: ${m}`),v){let M=`
Resources:`;for(const $ of v){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);M+=`
- ${$}`}z+=M}return`${T}
${z}`}class $e extends Error{constructor({message:r,code:s,cause:i,name:l}){var u;super(r,{cause:i}),this.__isWebAuthnError=!0,this.name=(u=l??(i instanceof Error?i.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Yi extends $e{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function yv({error:o,options:r}){var s,i,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new $e({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new $e({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(r.mediation==="conditional"&&((i=u.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new $e({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new $e({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new $e({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new $e({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return u.pubKeyCredParams.filter(p=>p.type==="public-key").length===0?new $e({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new $e({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const d=window.location.hostname;if(ef(d)){if(u.rp.id!==d)return new $e({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new $e({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function wv({error:o,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new $e({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new $e({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const i=window.location.hostname;if(ef(i)){if(s.rpId!==i)return new $e({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new $e({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new $e({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new $e({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}var Zh=function(o,r){var s={};for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&r.indexOf(i)<0&&(s[i]=o[i]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(o);l<i.length;l++)r.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(o,i[l])&&(s[i[l]]=o[i[l]]);return s};class xv{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const _v=new xv;function bv(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:r,user:s,excludeCredentials:i}=o,l=Zh(o,["challenge","user","excludeCredentials"]),u=Cn(r).buffer,d=Object.assign(Object.assign({},s),{id:Cn(s.id).buffer}),p=Object.assign(Object.assign({},l),{challenge:u,user:d});if(i&&i.length>0){p.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const v=i[m];p.excludeCredentials[m]=Object.assign(Object.assign({},v),{id:Cn(v.id).buffer,type:v.type||"public-key",transports:v.transports})}}return p}function kv(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:r,allowCredentials:s}=o,i=Zh(o,["challenge","allowCredentials"]),l=Cn(r).buffer,u=Object.assign(Object.assign({},i),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const p=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},p),{id:Cn(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return u}function Sv(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const s=o;return{id:o.id,rawId:o.id,response:{attestationObject:Mr(new Uint8Array(o.response.attestationObject)),clientDataJSON:Mr(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function jv(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const s=o,i=o.getClientExtensionResults(),l=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:Mr(new Uint8Array(l.authenticatorData)),clientDataJSON:Mr(new Uint8Array(l.clientDataJSON)),signature:Mr(new Uint8Array(l.signature)),userHandle:l.userHandle?Mr(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function ef(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function xh(){var o,r;return!!(ft()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator==null?void 0:navigator.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((r=navigator==null?void 0:navigator.credentials)===null||r===void 0?void 0:r.get)=="function")}async function Ev(o){try{const r=await navigator.credentials.create(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Yi("Browser returned unexpected credential type",r)}:{data:null,error:new Yi("Empty credential response",r)}}catch(r){return{data:null,error:yv({error:r,options:o})}}}async function Nv(o){try{const r=await navigator.credentials.get(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Yi("Browser returned unexpected credential type",r)}:{data:null,error:new Yi("Empty credential response",r)}}catch(r){return{data:null,error:wv({error:r,options:o})}}}const Cv={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"none"},Tv={userVerification:"preferred",hints:["security-key"]};function Xi(...o){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of o)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))i[u]=d;else if(s(d))i[u]=d;else if(r(d)){const p=i[u];r(p)?i[u]=Xi(p,d):i[u]=Xi(d)}else i[u]=d}return i}function Pv(o,r){return Xi(Cv,o,r||{})}function Ov(o,r){return Xi(Tv,o,r||{})}class Rv{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:i,signal:l},u){try{const{data:d,error:p}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!d)return{data:null,error:p};const m=l??_v.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:v}=d.webauthn.credential_options.publicKey;v.name||(v.name=`${v.id}:${i}`),v.displayName||(v.displayName=v.name)}switch(d.webauthn.type){case"create":{const v=Pv(d.webauthn.credential_options.publicKey,u==null?void 0:u.create),{data:y,error:w}=await Ev({publicKey:v,signal:m});return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const v=Ov(d.webauthn.credential_options.publicKey,u==null?void 0:u.request),{data:y,error:w}=await Nv(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:v,signal:m}));return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(d){return Y(d)?{data:null,error:d}:{data:null,error:new Ur("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:i})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}},u){if(!s)return{data:null,error:new Es("rpId is required for WebAuthn authentication")};try{if(!xh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:i},signal:l},{request:u});if(!d)return{data:null,error:p};const{webauthn:m}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:i,credential_response:m.credential_response}})}catch(d){return Y(d)?{data:null,error:d}:{data:null,error:new Ur("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l},u){if(!s)return{data:null,error:new Es("rpId is required for WebAuthn registration")};try{if(!xh())return{data:null,error:new Ur("Browser does not support WebAuthn",null)};const{data:d,error:p}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(_=>_.factor_type==="webauthn"&&_.friendly_name===r&&_.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y==null?void 0:y.id}):void 0),{data:null,error:p};const{data:m,error:v}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:l},{create:u});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:v}}catch(d){return Y(d)?{data:null,error:d}:{data:null,error:new Ur("Unexpected error in register",d)}}}}pv();const Iv={url:C0,storageKey:T0,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:P0,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function _h(o,r,s){return await s()}const jn={};class Ns{get jwks(){var r,s;return(s=(r=jn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=jn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){jn[this.storageKey]=Object.assign(Object.assign({},jn[this.storageKey]),{cachedAt:r})}constructor(r){var s,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ns.nextInstanceID,Ns.nextInstanceID+=1,this.instanceID>0&&ft()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const l=Object.assign(Object.assign({},Iv),r);if(this.logDebugMessages=!!l.debug,typeof l.debug=="function"&&(this.logger=l.debug),this.persistSession=l.persistSession,this.storageKey=l.storageKey,this.autoRefreshToken=l.autoRefreshToken,this.admin=new dv({url:l.url,headers:l.headers,fetch:l.fetch}),this.url=l.url,this.headers=l.headers,this.fetch=Qh(l.fetch),this.lock=l.lock||_h,this.detectSessionInUrl=l.detectSessionInUrl,this.flowType=l.flowType,this.hasCustomAuthorizationHeader=l.hasCustomAuthorizationHeader,l.lock?this.lock=l.lock:ft()&&(!((s=globalThis==null?void 0:globalThis.navigator)===null||s===void 0)&&s.locks)?this.lock=fv:this.lock=_h,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Rv(this)},this.persistSession?(l.storage?this.storage=l.storage:Gh()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wh(this.memoryStorage)),l.userStorage&&(this.userStorage=l.userStorage)):(this.memoryStorage={},this.storage=wh(this.memoryStorage)),ft()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(u){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",u)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async u=>{this._debug("received broadcast notification from other tab or client",u),await this._notifyAllSubscribers(u.data.event,u.data.session,!1)})}this.initialize()}_debug(...r){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vh}) ${new Date().toISOString()}`,...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{const s=H0(window.location.href);let i="none";if(this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce"),ft()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,i);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),$0(u)){const m=(r=u.details)===null||r===void 0?void 0:r.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:p}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",p),await this._saveSession(d),setTimeout(async()=>{p==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return Y(s)?{error:s}:{error:new Ur("Unexpected error during initialization",s)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,i,l;try{const u=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=r==null?void 0:r.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=r==null?void 0:r.options)===null||l===void 0?void 0:l.captchaToken}},xform:Ct}),{data:d,error:p}=u;if(p||!d)return{data:{user:null,session:null},error:p};const m=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(Y(u))return{data:{user:null,session:null},error:u};throw u}}async signUp(r){var s,i,l;try{let u;if("email"in r){const{email:y,password:w,options:_}=r;let S=null,O=null;this.flowType==="pkce"&&([S,O]=await bn(this.storage,this.storageKey)),u=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:_==null?void 0:_.emailRedirectTo,body:{email:y,password:w,data:(s=_==null?void 0:_.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken},code_challenge:S,code_challenge_method:O},xform:Ct})}else if("phone"in r){const{phone:y,password:w,options:_}=r;u=await re(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(i=_==null?void 0:_.data)!==null&&i!==void 0?i:{},channel:(l=_==null?void 0:_.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:_==null?void 0:_.captchaToken}},xform:Ct})}else throw new qi("You must provide either an email or phone number and a password");const{data:d,error:p}=u;if(p||!d)return{data:{user:null,session:null},error:p};const m=d.session,v=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(u){if(Y(u))return{data:{user:null,session:null},error:u};throw u}}async signInWithPassword(r){try{let s;if("email"in r){const{email:u,password:d,options:p}=r;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:vh})}else if("phone"in r){const{phone:u,password:d,options:p}=r;s=await re(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:vh})}else throw new qi("You must provide either an email or phone number and a password");const{data:i,error:l}=s;return l?{data:{user:null,session:null},error:l}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new _n}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(r){var s,i,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=r.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,i,l,u,d,p,m,v,y,w,_;let S,O;if("message"in r)S=r.message,O=r.signature;else{const{chain:j,wallet:T,statement:z,options:M}=r;let $;if(ft())if(typeof T=="object")$=T;else{const Ae=window;if("ethereum"in Ae&&typeof Ae.ethereum=="object"&&"request"in Ae.ethereum&&typeof Ae.ethereum.request=="function")$=Ae.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!(M!=null&&M.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=T}const W=new URL((s=M==null?void 0:M.url)!==null&&s!==void 0?s:window.location.href),te=await $.request({method:"eth_requestAccounts"}).then(Ae=>Ae).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!te||te.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const X=Xh(te[0]);let ae=(i=M==null?void 0:M.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!ae){const Ae=await $.request({method:"eth_chainId"});ae=mv(Ae)}const Se={domain:W.host,address:X,statement:z,uri:W.href,version:"1",chainId:ae,nonce:(l=M==null?void 0:M.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=M==null?void 0:M.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(p=M==null?void 0:M.signInWithEthereum)===null||p===void 0?void 0:p.expirationTime,notBefore:(m=M==null?void 0:M.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(v=M==null?void 0:M.signInWithEthereum)===null||v===void 0?void 0:v.requestId,resources:(y=M==null?void 0:M.signInWithEthereum)===null||y===void 0?void 0:y.resources};S=vv(Se),O=await $.request({method:"personal_sign",params:[gv(S),X]})}try{const{data:j,error:T}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:O},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(_=r.options)===null||_===void 0?void 0:_.captchaToken}}:null),xform:Ct});if(T)throw T;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new _n}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:T})}catch(j){if(Y(j))return{data:{user:null,session:null},error:j};throw j}}async signInWithSolana(r){var s,i,l,u,d,p,m,v,y,w,_,S;let O,j;if("message"in r)O=r.message,j=r.signature;else{const{chain:T,wallet:z,statement:M,options:$}=r;let W;if(ft())if(typeof z=="object")W=z;else{const X=window;if("solana"in X&&typeof X.solana=="object"&&("signIn"in X.solana&&typeof X.solana.signIn=="function"||"signMessage"in X.solana&&typeof X.solana.signMessage=="function"))W=X.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof z!="object"||!($!=null&&$.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");W=z}const te=new URL((s=$==null?void 0:$.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in W&&W.signIn){const X=await W.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$==null?void 0:$.signInWithSolana),{version:"1",domain:te.host,uri:te.href}),M?{statement:M}:null));let ae;if(Array.isArray(X)&&X[0]&&typeof X[0]=="object")ae=X[0];else if(X&&typeof X=="object"&&"signedMessage"in X&&"signature"in X)ae=X;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in ae&&"signature"in ae&&(typeof ae.signedMessage=="string"||ae.signedMessage instanceof Uint8Array)&&ae.signature instanceof Uint8Array)O=typeof ae.signedMessage=="string"?ae.signedMessage:new TextDecoder().decode(ae.signedMessage),j=ae.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in W)||typeof W.signMessage!="function"||!("publicKey"in W)||typeof W!="object"||!W.publicKey||!("toBase58"in W.publicKey)||typeof W.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");O=[`${te.host} wants you to sign in with your Solana account:`,W.publicKey.toBase58(),...M?["",M,""]:[""],"Version: 1",`URI: ${te.href}`,`Issued At: ${(l=(i=$==null?void 0:$.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=$==null?void 0:$.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((d=$==null?void 0:$.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((p=$==null?void 0:$.signInWithSolana)===null||p===void 0)&&p.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((m=$==null?void 0:$.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((v=$==null?void 0:$.signInWithSolana)===null||v===void 0)&&v.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((w=(y=$==null?void 0:$.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...$.signInWithSolana.resources.map(ae=>`- ${ae}`)]:[]].join(`
`);const X=await W.signMessage(new TextEncoder().encode(O),"utf8");if(!X||!(X instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");j=X}}try{const{data:T,error:z}=await re(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:O,signature:Mr(j)},!((_=r.options)===null||_===void 0)&&_.captchaToken?{gotrue_meta_security:{captcha_token:(S=r.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:Ct});if(z)throw z;return!T||!T.session||!T.user?{data:{user:null,session:null},error:new _n}:(T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),{data:Object.assign({},T),error:z})}catch(T){if(Y(T))return{data:{user:null,session:null},error:T};throw T}}async _exchangeCodeForSession(r){const s=await Lr(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{const{data:u,error:d}=await re(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:i},xform:Ct});if(await pr(this.storage,`${this.storageKey}-code-verifier`),d)throw d;return!u||!u.session||!u.user?{data:{user:null,session:null,redirectType:null},error:new _n}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(Y(u))return{data:{user:null,session:null,redirectType:null},error:u};throw u}}async signInWithIdToken(r){try{const{options:s,provider:i,token:l,access_token:u,nonce:d}=r,p=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:Ct}),{data:m,error:v}=p;return v?{data:{user:null,session:null},error:v}:!m||!m.session||!m.user?{data:{user:null,session:null},error:new _n}:(m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),{data:m,error:v})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(r){var s,i,l,u,d;try{if("email"in r){const{email:p,options:m}=r;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await bn(this.storage,this.storageKey));const{error:w}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:p,data:(s=m==null?void 0:m.data)!==null&&s!==void 0?s:{},create_user:(i=m==null?void 0:m.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},code_challenge:v,code_challenge_method:y},redirectTo:m==null?void 0:m.emailRedirectTo});return{data:{user:null,session:null},error:w}}if("phone"in r){const{phone:p,options:m}=r,{data:v,error:y}=await re(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:p,data:(l=m==null?void 0:m.data)!==null&&l!==void 0?l:{},create_user:(u=m==null?void 0:m.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken},channel:(d=m==null?void 0:m.channel)!==null&&d!==void 0?d:"sms"}});return{data:{user:null,session:null,messageId:v==null?void 0:v.message_id},error:y}}throw new qi("You must provide either an email or phone number.")}catch(p){if(Y(p))return{data:{user:null,session:null},error:p};throw p}}async verifyOtp(r){var s,i;try{let l,u;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(i=r.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:p}=await re(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Ct});if(p)throw p;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,v=d.user;return m!=null&&m.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),{data:{user:v,session:m},error:null}}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithSSO(r){var s,i,l;try{let u=null,d=null;return this.flowType==="pkce"&&([u,d]=await bn(this.storage,this.storageKey)),await re(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(i=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=r==null?void 0:r.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:u,code_challenge_method:d}),headers:this.headers,xform:av})}catch(u){if(Y(u))return{data:null,error:u};throw u}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:i}=r;if(i)throw i;if(!s)throw new mr;const{error:l}=await re(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:l}})}catch(r){if(Y(r))return{data:{user:null,session:null},error:r};throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:i,type:l,options:u}=r,{error:d}=await re(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:d}}else if("phone"in r){const{phone:i,type:l,options:u}=r,{data:d,error:p}=await re(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken}}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:p}}throw new qi("You must provide either an email or phone number and a type")}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Lr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const i=r.expires_at?r.expires_at*1e3-Date.now()<al:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",r.expires_at),!i){if(this.userStorage){const d=await Lr(this.userStorage,this.storageKey+"-user");d!=null&&d.user?r.user=d.user:r.user=cl()}if(this.storage.isServer&&r.user){let d=this.suppressGetSessionWarning;r=new Proxy(r,{get:(m,v,y)=>(!d&&v==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),d=!0,this.suppressGetSessionWarning=!0),Reflect.get(m,v,y))})}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{session:null},error:u}:{data:{session:l},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(r){return r?await this._getUser(r):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(r){try{return r?await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:gr}):await this._useSession(async s=>{var i,l,u;const{data:d,error:p}=s;if(p)throw p;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new mr}:await re(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:gr})})}catch(s){if(Y(s))return L0(s)&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:s};throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async i=>{const{data:l,error:u}=i;if(u)throw u;if(!l.session)throw new mr;const d=l.session;let p=null,m=null;this.flowType==="pkce"&&r.email!=null&&([p,m]=await bn(this.storage,this.storageKey));const{data:v,error:y}=await re(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:p,code_challenge_method:m}),jwt:d.access_token,xform:gr});if(y)throw y;return d.user=v.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),{data:{user:d.user},error:null}})}catch(i){if(Y(i))return{data:{user:null},error:i};throw i}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new mr;const s=Date.now()/1e3;let i=s,l=!0,u=null;const{payload:d}=ul(r.access_token);if(d.exp&&(i=d.exp,l=i<=s),l){const{data:p,error:m}=await this._callRefreshToken(r.refresh_token);if(m)return{data:{user:null,session:null},error:m};if(!p)return{data:{user:null,session:null},error:null};u=p}else{const{data:p,error:m}=await this._getUser(r.access_token);if(m)throw m;u={access_token:r.access_token,refresh_token:r.refresh_token,user:p.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return{data:{user:u.user,session:u},error:null}}catch(s){if(Y(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var i;if(!r){const{data:d,error:p}=s;if(p)throw p;r=(i=d.session)!==null&&i!==void 0?i:void 0}if(!(r!=null&&r.refresh_token))throw new mr;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?{data:{user:null,session:null},error:u}:l?{data:{user:l.user,session:l},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(Y(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(r,s){try{if(!ft())throw new Vi("No browser detected.");if(r.error||r.error_description||r.error_code)throw new Vi(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new ch("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Vi("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new ch("No code detected.");const{data:M,error:$}=await this._exchangeCodeForSession(r.code);if($)throw $;const W=new URL(window.location.href);return W.searchParams.delete("code"),window.history.replaceState(window.history.state,"",W.toString()),{data:{session:M.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:p,expires_at:m,token_type:v}=r;if(!u||!p||!d||!v)throw new Vi("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(p);let _=y+w;m&&(_=parseInt(m));const S=_-y;S*1e3<=En&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${w}s`);const O=_-w;y-O>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",O,_,y):y-O<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",O,_,y);const{data:j,error:T}=await this._getUser(u);if(T)throw T;const z={provider_token:i,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:_,refresh_token:d,token_type:v,user:j.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:z,redirectType:r.type},error:null}}catch(i){if(Y(i))return{data:{session:null,redirectType:null},error:i};throw i}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Lr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:u}=s;if(u)return{error:u};const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:p}=await this.admin.signOut(d,r);if(p&&!(A0(p)&&(p.status===404||p.status===401||p.status===403)))return{error:p}}return r!=="others"&&(await this._removeSession(),await pr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(r){const s=W0(),i={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(r){return await this._useSession(async s=>{var i,l;try{const{data:{session:u},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(r))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await bn(this.storage,this.storageKey,!0));try{return await re(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(Y(u))return{data:null,error:u};throw u}}async getUserIdentities(){var r;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return{data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null}}catch(s){if(Y(s))return{data:null,error:s};throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:i,error:l}=await this._useSession(async u=>{var d,p,m,v,y;const{data:w,error:_}=u;if(_)throw _;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(p=r.options)===null||p===void 0?void 0:p.scopes,queryParams:(m=r.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await re(this.fetch,"GET",S,{headers:this.headers,jwt:(y=(v=w.session)===null||v===void 0?void 0:v.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return ft()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i==null?void 0:i.url),{data:{provider:r.provider,url:i==null?void 0:i.url},error:null}}catch(i){if(Y(i))return{data:{provider:r.provider,url:null},error:i};throw i}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var i;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:d,provider:p,token:m,access_token:v,nonce:y}=r,w=await re(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=u==null?void 0:u.access_token)!==null&&i!==void 0?i:void 0,body:{provider:p,id_token:m,access_token:v,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:Ct}),{data:_,error:S}=w;return S?{data:{user:null,session:null},error:S}:!_||!_.session||!_.user?{data:{user:null,session:null},error:new _n}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("USER_UPDATED",_.session)),{data:_,error:S})}catch(l){if(Y(l))return{data:{user:null,session:null},error:l};throw l}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var i,l;const{data:u,error:d}=s;if(d)throw d;return await re(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(i=u.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await K0(async l=>(l>0&&await V0(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await re(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Ct})),(l,u)=>{const d=200*Math.pow(2,l);return u&&ll(u)&&Date.now()+d-i<En})}catch(i){if(this._debug(s,"error",i),Y(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",i),ft()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:r,url:i},error:null}}async _recoverAndRefresh(){var r,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await Lr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Lr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await Nn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d==null?void 0:d.user)!==null&&r!==void 0?r:cl()}else if(l&&!l.user&&!l.user){const d=await Lr(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(l.user=d.user,await pr(this.storage,this.storageKey+"-user"),await Nn(this.storage,this.storageKey,l)):l.user=cl()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<al;if(this._debug(i,`session has${u?"":" not"} expired with margin of ${al}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),ll(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:p}=await this._getUser(l.access_token);!p&&(d!=null&&d.user)?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(r){var s,i;if(!r)throw new mr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new to;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new mr;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const p={data:u.session,error:null};return this.refreshingDeferred.resolve(p),p}catch(u){if(this._debug(l,"error",u),Y(u)){const d={data:null,error:u};return ll(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,i=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async p=>{try{await p.callback(r,s)}catch(m){u.push(m)}});if(await Promise.all(d),u.length>0){for(let p=0;p<u.length;p+=1)console.error(u[p]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0;const s=Object.assign({},r),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await Nn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=mh(l);await Nn(this.storage,this.storageKey,u)}else{const l=mh(s);await Nn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),await pr(this.storage,this.storageKey),await pr(this.storage,this.storageKey+"-code-verifier"),await pr(this.storage,this.storageKey+"-user"),this.userStorage&&await pr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ft()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),En);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-r)/En);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${En}ms, refresh threshold is ${Sl} ticks`),l<=Sl&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Yh)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ft()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i!=null&&i.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i!=null&&i.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[u,d]=await bn(this.storage,this.storageKey),p=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(p.toString())}if(i!=null&&i.queryParams){const u=new URLSearchParams(i.queryParams);l.push(u.toString())}return i!=null&&i.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var i;const{data:l,error:u}=s;return u?{data:null,error:u}:await re(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _enroll(r){try{return await this._useSession(async s=>{var i,l;const{data:u,error:d}=s;if(d)return{data:null,error:d};const p=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:m,error:v}=await re(this.fetch,"POST",`${this.url}/factors`,{body:p,headers:this.headers,jwt:(i=u==null?void 0:u.session)===null||i===void 0?void 0:i.access_token});return v?{data:null,error:v}:(r.factorType==="totp"&&m.type==="totp"&&(!((l=m==null?void 0:m.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),{data:m,error:null})})}catch(s){if(Y(s))return{data:null,error:s};throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:u}=s;if(u)return{data:null,error:u};const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?Sv(r.webauthn.credential_response):jv(r.webauthn.credential_response)})}:{code:r.code}),{data:p,error:m}=await re(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});return m?{data:null,error:m}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+p.expires_in},p)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",p),{data:p,error:m})})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:u}=s;if(u)return{data:null,error:u};const d=await re(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(i=l==null?void 0:l.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:p}=d;if(p.type!=="webauthn")return{data:p,error:null};switch(p.webauthn.type){case"create":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:bv(p.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},p),{webauthn:Object.assign(Object.assign({},p.webauthn),{credential_options:Object.assign(Object.assign({},p.webauthn.credential_options),{publicKey:kv(p.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(Y(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(r){const{data:s,error:i}=await this._challenge({factorId:r.factorId});return i?{data:null,error:i}:await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=s==null?void 0:s.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async r=>{var s,i;const{data:{session:l},error:u}=r;if(u)return{data:null,error:u};if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:d}=ul(l.access_token);let p=null;d.aal&&(p=d.aal);let m=p;((i=(s=l.user.factors)===null||s===void 0?void 0:s.filter(w=>w.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(m="aal2");const y=d.amr||[];return{data:{currentLevel:p,nextLevel:m,currentAuthenticationMethods:y},error:null}}))}async fetchJwk(r,s={keys:[]}){let i=s.keys.find(p=>p.kid===r);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(p=>p.kid===r),i&&this.jwks_cached_at+R0>l)return i;const{data:u,error:d}=await re(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,i=u.keys.find(p=>p.kid===r),!i)?null:i}async getClaims(r,s={}){try{let i=r;if(!i){const{data:S,error:O}=await this.getSession();if(O||!S.session)return{data:null,error:O};i=S.session.access_token}const{header:l,payload:u,signature:d,raw:{header:p,payload:m}}=ul(i);s!=null&&s.allowExpired||ev(u.exp);const v=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!v){const{error:S}=await this.getUser(i);if(S)throw S;return{data:{claims:u,header:l,signature:d},error:null}}const y=tv(l.alg),w=await crypto.subtle.importKey("jwk",v,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,d,F0(`${p}.${m}`)))throw new Nl("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(i){if(Y(i))return{data:null,error:i};throw i}}}Ns.nextInstanceID=0;const Av=Ns;class Lv extends Av{constructor(r){super(r)}}var $v=function(o,r,s,i){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function p(y){try{v(i.next(y))}catch(w){d(w)}}function m(y){try{v(i.throw(y))}catch(w){d(w)}}function v(y){y.done?u(y.value):l(y.value).then(p,m)}v((i=i.apply(o,r||[])).next())})};class Dv{constructor(r,s,i){var l,u,d;this.supabaseUrl=r,this.supabaseKey=s;const p=N0(r);if(!s)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",p),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",p),this.storageUrl=new URL("storage/v1",p),this.functionsUrl=new URL("functions/v1",p);const m=`sb-${p.hostname.split(".")[0]}-auth-token`,v={db:v0,realtime:w0,auth:Object.assign(Object.assign({},y0),{storageKey:m}),global:g0},y=E0(i??{},v);this.storageKey=(l=y.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(u=y.global.headers)!==null&&u!==void 0?u:{},y.accessToken?(this.accessToken=y.accessToken,this.auth=new Proxy({},{get:(w,_)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(_)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((d=y.auth)!==null&&d!==void 0?d:{},this.headers,y.global.fetch),this.fetch=k0(s,this._getAccessToken.bind(this),y.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},y.realtime)),this.rest=new Ig(new URL("rest/v1",p).href,{headers:this.headers,schema:y.db.schema,fetch:this.fetch}),this.storage=new f0(this.storageUrl.href,this.headers,this.fetch,i==null?void 0:i.storage),y.accessToken||this._listenForAuthEvents()}get functions(){return new kg(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(r){return this.rest.from(r)}schema(r){return this.rest.schema(r)}rpc(r,s={},i={head:!1,get:!1,count:void 0}){return this.rest.rpc(r,s,i)}channel(r,s={config:{}}){return this.realtime.channel(r,s)}getChannels(){return this.realtime.getChannels()}removeChannel(r){return this.realtime.removeChannel(r)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){return $v(this,void 0,void 0,function*(){var r,s;if(this.accessToken)return yield this.accessToken();const{data:i}=yield this.auth.getSession();return(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:r,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:u,storageKey:d,flowType:p,lock:m,debug:v},y,w){const _={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Lv({url:this.authUrl.href,headers:Object.assign(Object.assign({},_),y),storageKey:d,autoRefreshToken:r,persistSession:s,detectSessionInUrl:i,storage:l,userStorage:u,flowType:p,lock:m,debug:v,fetch:w,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(r){return new Qg(this.realtimeUrl.href,Object.assign(Object.assign({},r),{params:Object.assign({apikey:this.supabaseKey},r==null?void 0:r.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,i)=>{this._handleTokenChanged(s,"CLIENT",i==null?void 0:i.access_token)})}_handleTokenChanged(r,s,i){(r==="TOKEN_REFRESHED"||r==="SIGNED_IN")&&this.changedAccessToken!==i?(this.changedAccessToken=i,this.realtime.setAuth(i)):r==="SIGNED_OUT"&&(this.realtime.setAuth(),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Uv=(o,r,s)=>new Dv(o,r,s);function Mv(){if(typeof window<"u"||typeof process>"u")return!1;const o=process.version;if(o==null)return!1;const r=o.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}Mv()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const zv="https://owrrayygkmxddyordial.supabase.co",Fv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im93cnJheXlna214ZGR5b3JkaWFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTk5ODUxMTIsImV4cCI6MjA3NTU2MTExMn0.A-8KS7RwMyiTdKua-D6DNtZaP9tQ9nLK3EiIBacH0Tg",we=Uv(zv,Fv),tf=R.createContext(void 0),Jt=()=>{const o=R.useContext(tf);if(!o)throw new Error("useAuth debe usarse dentro de AuthProvider");return o},Bv=({children:o})=>{const[r,s]=R.useState(null),[i,l]=R.useState(null),[u,d]=R.useState(!0);R.useEffect(()=>{const y=localStorage.getItem("hotel_user"),w=localStorage.getItem("hotel_token");y&&w&&(s(JSON.parse(y)),l(w)),d(!1)},[]);const p=async(y,w)=>{try{const{data:_,error:S}=await we.functions.invoke("auth-login",{body:{email:y,password:w}});if(S)throw S;const O=(_==null?void 0:_.data)||_;if(O!=null&&O.user&&(O!=null&&O.token))s(O.user),l(O.token),localStorage.setItem("hotel_user",JSON.stringify(O.user)),localStorage.setItem("hotel_token",O.token);else throw new Error("Respuesta invlida del servidor")}catch(_){throw console.error("Error en login:",_),new Error(_.message||"Error al iniciar sesin")}},m=async(y,w,_)=>{try{const{data:S,error:O}=await we.functions.invoke("auth-register",{body:{email:y,password:w,nombre:_}});if(O)throw O;const j=(S==null?void 0:S.data)||S;if(j!=null&&j.user&&(j!=null&&j.token))s(j.user),l(j.token),localStorage.setItem("hotel_user",JSON.stringify(j.user)),localStorage.setItem("hotel_token",j.token);else throw new Error("Respuesta invlida del servidor")}catch(S){throw console.error("Error en registro:",S),new Error(S.message||"Error al registrarse")}},v=()=>{s(null),l(null),localStorage.removeItem("hotel_user"),localStorage.removeItem("hotel_token")};return h.jsx(tf.Provider,{value:{user:r,token:i,loading:u,login:p,register:m,logout:v},children:o})};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wv={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hv=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const he=(o,r)=>{const s=R.forwardRef(({color:i="currentColor",size:l=24,strokeWidth:u=2,absoluteStrokeWidth:d,className:p="",children:m,...v},y)=>R.createElement("svg",{ref:y,...Wv,width:l,height:l,stroke:i,strokeWidth:d?Number(u)*24/Number(l):u,className:["lucide",`lucide-${Hv(o)}`,p].join(" "),...v},[...r.map(([w,_])=>R.createElement(w,_)),...Array.isArray(m)?m:[m]]));return s.displayName=`${o}`,s};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qv=he("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vv=he("Bed",[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cs=he("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kv=he("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ro=he("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=he("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jv=he("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rf=he("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gv=he("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qv=he("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yv=he("Dumbbell",[["path",{d:"m6.5 6.5 11 11",key:"f7oqzb"}],["path",{d:"m21 21-1-1",key:"cpc6if"}],["path",{d:"m3 3 1 1",key:"d3rpuf"}],["path",{d:"m18 22 4-4",key:"1e32o6"}],["path",{d:"m2 6 4-4",key:"189tqz"}],["path",{d:"m3 10 7-7",key:"1bxui2"}],["path",{d:"m14 21 7-7",key:"16x78n"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nf=he("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=he("Hotel",[["path",{d:"M10 22v-6.57",key:"1wmca3"}],["path",{d:"M12 11h.01",key:"z322tv"}],["path",{d:"M12 7h.01",key:"1ivr5q"}],["path",{d:"M14 15.43V22",key:"1q2vjd"}],["path",{d:"M15 16a5 5 0 0 0-6 0",key:"o9wqvi"}],["path",{d:"M16 11h.01",key:"xkw8gn"}],["path",{d:"M16 7h.01",key:"1kdx03"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 7h.01",key:"1vti4s"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zv=he("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=he("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ey=he("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ty=he("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zr=he("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ry=he("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=he("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ny=he("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bh=he("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sy=he("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iy=he("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const of=he("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=he("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ay=he("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const af=he("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=he("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ly=he("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uy=he("Waves",[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=he("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),cy=()=>{const{user:o,logout:r}=Jt(),s=Fr(),i=()=>{r(),s("/")},l=()=>{if(!o)return"/";switch(o.rol){case"administrador":return"/admin/dashboard";case"operador":return"/operador/dashboard";case"usuario":return"/usuario/dashboard";default:return"/"}};return h.jsx("nav",{className:"bg-gradient-to-r from-slate-900 via-slate-800 to-slate-900 text-white shadow-2xl",children:h.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:h.jsxs("div",{className:"flex justify-between h-20",children:[h.jsx("div",{className:"flex items-center",children:h.jsxs(Vt,{to:"/",className:"flex items-center space-x-3 group",children:[h.jsx(Xv,{className:"h-10 w-10 text-amber-400 group-hover:text-amber-300 transition-colors"}),h.jsxs("div",{children:[h.jsx("span",{className:"text-2xl font-serif font-bold bg-gradient-to-r from-amber-200 to-amber-400 bg-clip-text text-transparent",children:"Hotel Elegance"}),h.jsx("p",{className:"text-xs text-slate-400",children:"Lujo y Confort"})]})]})}),h.jsx("div",{className:"flex items-center space-x-6",children:o?h.jsxs(h.Fragment,{children:[h.jsxs(Vt,{to:l(),className:"flex items-center space-x-2 px-4 py-2 rounded-lg hover:bg-slate-700 transition-colors",children:[h.jsx(af,{className:"h-5 w-5"}),h.jsx("span",{className:"font-medium",children:o.nombre})]}),h.jsxs("button",{onClick:i,className:"flex items-center space-x-2 px-4 py-2 bg-red-600 hover:bg-red-700 rounded-lg transition-colors font-medium",children:[h.jsx(ty,{className:"h-5 w-5"}),h.jsx("span",{children:"Cerrar Sesin"})]})]}):h.jsxs(h.Fragment,{children:[h.jsx(Vt,{to:"/login",className:"px-6 py-2 hover:bg-slate-700 rounded-lg transition-colors font-medium",children:"Iniciar Sesin"}),h.jsx(Vt,{to:"/register",className:"px-6 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 rounded-lg transition-all font-medium shadow-lg",children:"Registrarse"})]})})]})})})},dy=()=>h.jsxs("div",{className:"min-h-screen",children:[h.jsxs("div",{className:"relative h-screen",children:[h.jsx("div",{className:"absolute inset-0 bg-cover bg-center",style:{backgroundImage:"url(/images/lobby/hero.jpg)"},children:h.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-slate-900/90 to-slate-800/70"})}),h.jsx("div",{className:"relative h-full flex items-center justify-center text-center px-4",children:h.jsxs("div",{className:"max-w-4xl",children:[h.jsxs("h1",{className:"text-5xl md:text-7xl font-serif font-bold text-white mb-6",children:["Bienvenido a",h.jsx("span",{className:"block bg-gradient-to-r from-amber-200 to-amber-400 bg-clip-text text-transparent mt-2",children:"Hotel Elegance"})]}),h.jsx("p",{className:"text-xl md:text-2xl text-slate-200 mb-8 font-light",children:"Donde el lujo se encuentra con la comodidad"}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsx(Vt,{to:"/register",className:"px-8 py-4 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold rounded-lg shadow-2xl transition-all text-lg",children:"Reservar Ahora"}),h.jsx(Vt,{to:"/login",className:"px-8 py-4 bg-white/10 backdrop-blur-sm hover:bg-white/20 text-white font-semibold rounded-lg border-2 border-white/30 transition-all text-lg",children:"Iniciar Sesin"})]})]})})]}),h.jsx("section",{className:"py-20 bg-white",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-serif font-bold text-slate-900 mb-4",children:"Nuestros Servicios"}),h.jsx("p",{className:"text-lg text-slate-600",children:"Experimenta el mximo confort y elegancia"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-8",children:[h.jsx(Ki,{icon:h.jsx(Vv,{className:"h-8 w-8"}),title:"Habitaciones de Lujo",description:"Elegantes habitaciones con todas las comodidades"}),h.jsx(Ki,{icon:h.jsx(ly,{className:"h-8 w-8"}),title:"Restaurante Gourmet",description:"Cocina internacional de primera clase"}),h.jsx(Ki,{icon:h.jsx(uy,{className:"h-8 w-8"}),title:"Spa & Wellness",description:"Relajcio y tratamientos premium"}),h.jsx(Ki,{icon:h.jsx(Yv,{className:"h-8 w-8"}),title:"Gimnasio",description:"Equipamiento de ltima generacin"})]})]})}),h.jsx("section",{className:"py-20 bg-slate-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4",children:[h.jsxs("div",{className:"text-center mb-16",children:[h.jsx("h2",{className:"text-4xl font-serif font-bold text-slate-900 mb-4",children:"Nuestras Habitaciones"}),h.jsx("p",{className:"text-lg text-slate-600",children:"Diseadas para su comodidad y placer"})]}),h.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[h.jsx(hl,{image:"/images/rooms/room-1.jpg",title:"Habitacin Simple",price:"$40,000"}),h.jsx(hl,{image:"/images/rooms/room-2.jpg",title:"Habitacin Doble",price:"$60,000"}),h.jsx(hl,{image:"/images/rooms/suite.jpg",title:"Suite de Lujo",price:"$120,000"})]})]})}),h.jsx("section",{className:"py-20 bg-gradient-to-r from-slate-900 to-slate-800 text-white",children:h.jsxs("div",{className:"max-w-4xl mx-auto text-center px-4",children:[h.jsx(sy,{className:"h-16 w-16 mx-auto mb-6 text-amber-400"}),h.jsx("h2",{className:"text-4xl font-serif font-bold mb-6",children:"Listo para una Experiencia Inolvidable"}),h.jsx("p",{className:"text-xl text-slate-300 mb-8",children:"Crea tu cuenta y comienza a disfrutar de nuestros servicios exclusivos"}),h.jsx(Vt,{to:"/register",className:"inline-block px-8 py-4 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 font-semibold rounded-lg shadow-2xl transition-all text-lg",children:"Registrarse Ahora"})]})})]}),Ki=({icon:o,title:r,description:s})=>h.jsxs("div",{className:"text-center p-8 rounded-xl bg-slate-50 hover:bg-slate-100 transition-colors group",children:[h.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-amber-500 to-amber-600 text-white rounded-full mb-4 group-hover:scale-110 transition-transform",children:o}),h.jsx("h3",{className:"text-xl font-semibold text-slate-900 mb-2",children:r}),h.jsx("p",{className:"text-slate-600",children:s})]}),hl=({image:o,title:r,price:s})=>h.jsx("div",{className:"group cursor-pointer",children:h.jsxs("div",{className:"relative overflow-hidden rounded-xl shadow-lg mb-4",children:[h.jsx("img",{src:o,alt:r,className:"w-full h-64 object-cover group-hover:scale-110 transition-transform duration-500"}),h.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),h.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[h.jsx("h3",{className:"text-2xl font-serif font-bold mb-1",children:r}),h.jsxs("p",{className:"text-amber-400 text-xl font-semibold",children:[s," / noche"]})]})]})}),hy=()=>{const[o,r]=R.useState(""),[s,i]=R.useState(""),[l,u]=R.useState(""),[d,p]=R.useState(!1),{login:m,user:v}=Jt(),y=Fr(),w=async _=>{_.preventDefault(),u(""),p(!0);try{await m(o,s);const S=JSON.parse(localStorage.getItem("hotel_user")||"{}");S.rol==="administrador"?y("/admin/dashboard"):S.rol==="operador"?y("/operador/dashboard"):y("/usuario/dashboard")}catch(S){u(S.message||"Error al iniciar sesin")}finally{p(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-12",children:h.jsx("div",{className:"max-w-md w-full",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Iniciar Sesin"}),h.jsx("p",{className:"text-slate-600",children:"Bienvenido de vuelta a Hotel Elegance"})]}),l&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2 text-red-700",children:[h.jsx(ro,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("span",{children:l})]}),h.jsxs("form",{onSubmit:w,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Correo Electrnico"}),h.jsxs("div",{className:"relative",children:[h.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx("input",{type:"email",value:o,onChange:_=>r(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",placeholder:"tu@email.com",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contrasea"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx("input",{type:"password",value:s,onChange:_=>i(_.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",placeholder:"",required:!0})]})]}),h.jsx("button",{type:"submit",disabled:d,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold py-3 rounded-lg transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:d?h.jsx("span",{children:"Iniciando sesin..."}):h.jsxs(h.Fragment,{children:[h.jsx(ey,{className:"h-5 w-5"}),h.jsx("span",{children:"Iniciar Sesin"})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-slate-600",children:["No tienes cuenta?"," ",h.jsx(Vt,{to:"/register",className:"text-amber-600 hover:text-amber-700 font-semibold",children:"Regstrate aqu"})]})})]})})})},fy=()=>{const[o,r]=R.useState(""),[s,i]=R.useState(""),[l,u]=R.useState(""),[d,p]=R.useState(""),[m,v]=R.useState(!1),{register:y}=Jt(),w=Fr(),_=async S=>{S.preventDefault(),p(""),v(!0);try{await y(o,s,l),w("/usuario/dashboard")}catch(O){p(O.message||"Error al registrarse")}finally{v(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center px-4 py-12",children:h.jsx("div",{className:"max-w-md w-full",children:h.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl p-8",children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h2",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Crear Cuenta"}),h.jsx("p",{className:"text-slate-600",children:"Regstrate en Hotel Elegance"})]}),d&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2 text-red-700",children:[h.jsx(ro,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("span",{children:d})]}),h.jsxs("form",{onSubmit:_,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre Completo"}),h.jsxs("div",{className:"relative",children:[h.jsx(af,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx("input",{type:"text",value:l,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",placeholder:"Juan Prez",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Correo Electrnico"}),h.jsxs("div",{className:"relative",children:[h.jsx(zr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx("input",{type:"email",value:o,onChange:S=>r(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",placeholder:"tu@email.com",required:!0})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contrasea"}),h.jsxs("div",{className:"relative",children:[h.jsx(Dl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-slate-400"}),h.jsx("input",{type:"password",value:s,onChange:S=>i(S.target.value),className:"w-full pl-10 pr-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 focus:border-transparent outline-none transition-all",placeholder:"Mnimo 6 caracteres",required:!0,minLength:6})]}),h.jsx("p",{className:"mt-1 text-xs text-slate-500",children:"La contrasea debe tener al menos 6 caracteres"})]}),h.jsx("button",{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white font-semibold py-3 rounded-lg transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:m?h.jsx("span",{children:"Registrando..."}):h.jsxs(h.Fragment,{children:[h.jsx(ay,{className:"h-5 w-5"}),h.jsx("span",{children:"Registrarse"})]})})]}),h.jsx("div",{className:"mt-6 text-center",children:h.jsxs("p",{className:"text-slate-600",children:["Ya tienes cuenta?"," ",h.jsx(Vt,{to:"/login",className:"text-amber-600 hover:text-amber-700 font-semibold",children:"Inicia sesin aqu"})]})})]})})})},py=()=>{const{user:o}=Jt(),r=Fr(),[s,i]=R.useState([]),[l,u]=R.useState([]),[d,p]=R.useState([]),[m,v]=R.useState(!0);R.useEffect(()=>{y()},[]);const y=async()=>{try{const{data:w}=await we.from("habitaciones").select("*").eq("estado","disponible").order("precio_noche"),{data:_}=await we.from("servicios").select("*").eq("disponible",!0),{data:S}=await we.from("reservas").select("*").eq("usuario_id",o==null?void 0:o.id).order("fecha_reserva",{ascending:!1});i(w||[]),u(_||[]),p(S||[])}catch(w){console.error("Error cargando datos:",w)}finally{v(!1)}};return m?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"Cargando..."})]})}):h.jsx("div",{className:"min-h-screen bg-slate-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"mb-8 flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:["Bienvenido, ",o==null?void 0:o.nombre]}),h.jsx("p",{className:"text-slate-600",children:"Explora nuestras habitaciones y servicios"})]}),h.jsxs("button",{onClick:()=>r("/usuario/consultas"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium flex items-center gap-2 shadow-lg transition-all",children:[h.jsx(zr,{className:"h-5 w-5"}),"Mis Consultas"]})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-serif font-bold text-slate-900 mb-6",children:"Mis Reservas"}),d.length===0?h.jsxs("div",{className:"bg-white rounded-xl p-8 text-center shadow-sm",children:[h.jsx(Cs,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"No tienes reservas activas"})]}):h.jsx("div",{className:"grid gap-4",children:d.map(w=>h.jsx(my,{reserva:w},w.id))})]}),h.jsxs("section",{className:"mb-12",children:[h.jsx("h2",{className:"text-2xl font-serif font-bold text-slate-900 mb-6",children:"Habitaciones Disponibles"}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:s.map(w=>h.jsx(gy,{habitacion:w,navigate:r},w.id))})]}),h.jsxs("section",{children:[h.jsx("h2",{className:"text-2xl font-serif font-bold text-slate-900 mb-6",children:"Nuestros Servicios"}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:l.map(w=>h.jsx(vy,{servicio:w},w.id))})]})]})})},my=({reserva:o})=>{const r=i=>{switch(i){case"activa":return"bg-green-100 text-green-700";case"completada":return"bg-blue-100 text-blue-700";case"cancelada":return"bg-red-100 text-red-700";default:return"bg-slate-100 text-slate-700"}},s=i=>{switch(i){case"activa":return h.jsx(Zi,{className:"h-5 w-5"});case"completada":return h.jsx(rf,{className:"h-5 w-5"});case"cancelada":return h.jsx(Jv,{className:"h-5 w-5"});default:return null}};return h.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-semibold text-slate-900 text-lg",children:["Reserva #",o.id.slice(0,8)]}),h.jsxs("p",{className:"text-sm text-slate-500",children:[new Date(o.fecha_entrada).toLocaleDateString("es-ES")," - ",new Date(o.fecha_salida).toLocaleDateString("es-ES")]})]}),h.jsxs("span",{className:`px-3 py-1 rounded-full text-sm font-medium flex items-center gap-1 ${r(o.estado)}`,children:[s(o.estado),o.estado]})]}),h.jsxs("div",{className:"space-y-2 text-sm",children:[h.jsxs("p",{className:"flex items-center gap-2 text-slate-600",children:[h.jsx(no,{className:"h-4 w-4"}),o.num_huespedes," huspedes"]}),h.jsxs("p",{className:"text-lg font-semibold text-amber-600",children:["Total: $",o.total.toLocaleString("es-ES")]})]})]})},gy=({habitacion:o,navigate:r})=>{var i;const s={Simple:"/images/rooms/room-1.jpg",Doble:"/images/rooms/room-2.jpg",Suite:"/images/rooms/suite.jpg","Suite Deluxe":"/images/rooms/suite.jpg",Familiar:"/images/rooms/room-2.jpg",Premium:"/images/rooms/suite.jpg"};return h.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[h.jsxs("div",{className:"relative h-48",children:[h.jsx("img",{src:s[o.tipo]||"/images/rooms/room-1.jpg",alt:o.tipo,className:"w-full h-full object-cover"}),h.jsx("div",{className:"absolute top-4 right-4 bg-white px-3 py-1 rounded-full shadow-lg",children:h.jsx("span",{className:"font-semibold text-slate-900",children:o.numero})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900 mb-2",children:o.tipo}),h.jsx("p",{className:"text-slate-600 text-sm mb-4",children:o.descripcion}),h.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[h.jsx(no,{className:"h-4 w-4 text-slate-400"}),h.jsxs("span",{className:"text-sm text-slate-600",children:["Capacidad: ",o.capacidad," personas"]})]}),o.amenidades&&o.amenidades.length>0&&h.jsx("div",{className:"mb-4",children:h.jsxs("div",{className:"flex flex-wrap gap-1",children:[o.amenidades.slice(0,3).map((l,u)=>h.jsx("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded",children:l},u)),o.amenidades.length>3&&h.jsxs("span",{className:"text-xs bg-slate-100 text-slate-600 px-2 py-1 rounded",children:["+",o.amenidades.length-3," ms"]})]})}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsxs("div",{children:[h.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",(i=o.precio_noche)==null?void 0:i.toLocaleString("es-ES")]}),h.jsx("p",{className:"text-xs text-slate-500",children:"por noche"})]}),h.jsx("button",{onClick:()=>r(`/usuario/reservar/${o.id}`),className:"px-4 py-2 bg-gradient-to-r from-amber-500 to-amber-600 hover:from-amber-600 hover:to-amber-700 text-white rounded-lg font-medium transition-all",children:"Reservar"})]})]})]})},vy=({servicio:o})=>{const r={"Spa & Wellness":"/images/services/spa.jpg","Restaurante Gourmet":"/images/services/restaurant.jpg","Gimnasio Premium":"/images/services/gym.jpg","Piscina Infinita":"/images/services/pool.jpg"};return h.jsxs("div",{className:"bg-white rounded-xl overflow-hidden shadow-lg hover:shadow-xl transition-shadow",children:[h.jsx("div",{className:"relative h-48",children:h.jsx("img",{src:r[o.nombre]||"/images/services/spa.jpg",alt:o.nombre,className:"w-full h-full object-cover"})}),h.jsxs("div",{className:"p-6",children:[h.jsx("h3",{className:"text-xl font-serif font-bold text-slate-900 mb-2",children:o.nombre}),h.jsx("p",{className:"text-slate-600 text-sm mb-4",children:o.descripcion}),h.jsxs("div",{className:"flex justify-between items-center",children:[o.precio&&o.precio>0?h.jsxs("p",{className:"text-xl font-bold text-amber-600",children:["$",o.precio.toLocaleString("es-ES")]}):h.jsx("p",{className:"text-sm text-green-600 font-semibold",children:"Incluido"}),h.jsx("button",{className:"px-4 py-2 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-lg font-medium transition-colors",children:"Ms Info"})]})]})]})},yy=()=>{const{id:o}=Vm(),{user:r}=Jt(),s=Fr(),[i,l]=R.useState(null),[u,d]=R.useState(""),[p,m]=R.useState(""),[v,y]=R.useState(1),[w,_]=R.useState("tarjeta"),[S,O]=R.useState({numero:"",titular:"",expiracion:"",cvv:""}),[j,T]=R.useState("fechas"),[z,M]=R.useState(""),[$,W]=R.useState(!1),[te,X]=R.useState(0);R.useEffect(()=>{o&&ae()},[o]),R.useEffect(()=>{Se()},[u,p,i]);const ae=async()=>{try{const{data:ne}=await we.from("habitaciones").select("*").eq("id",o).maybeSingle();ne&&l(ne)}catch(ne){console.error("Error cargando habitacin:",ne)}},Se=()=>{if(u&&p&&(i!=null&&i.precio_noche)){const ne=new Date(u),me=new Date(p),je=Math.ceil((me.getTime()-ne.getTime())/(1e3*60*60*24));je>0&&X(je*i.precio_noche)}},Ae=async()=>{M(""),W(!0);try{const ne=new Date;ne.setHours(0,0,0,0);const me=new Date(u),je=new Date(p);if(me<ne)throw new Error("La fecha de entrada no puede ser anterior a hoy");if(je<=me)throw new Error("La fecha de salida debe ser posterior a la fecha de entrada");if(v<1||v>((i==null?void 0:i.capacidad)||1))throw new Error(`El nmero de huspedes debe estar entre 1 y ${i==null?void 0:i.capacidad}`);const{data:Pe}=await we.functions.invoke("check-room-availability",{body:{habitacion_id:o,fecha_entrada:u,fecha_salida:p}}),qe=(Pe==null?void 0:Pe.data)||Pe;if(!(qe!=null&&qe.available))throw new Error("La habitacin no est disponible para estas fechas");T("pago")}catch(ne){M(ne.message||"Error al verificar disponibilidad")}finally{W(!1)}},xt=async()=>{var ne;M(""),W(!0);try{if(w==="tarjeta"){if(!S.numero||!S.titular||!S.expiracion||!S.cvv)throw new Error("Completa todos los datos de la tarjeta");if(S.numero.replace(/\s/g,"").length!==16)throw new Error("El nmero de tarjeta debe tener 16 dgitos");if(S.cvv.length!==3)throw new Error("El CVV debe tener 3 dgitos")}const{data:me,error:je}=await we.from("reservas").insert([{usuario_id:r==null?void 0:r.id,habitacion_id:o,fecha_entrada:u,fecha_salida:p,num_huespedes:v,estado:"activa",total:te}]).select();if(je)throw je;const Pe=(ne=me[0])==null?void 0:ne.id;await new Promise(Je=>setTimeout(Je,2e3));const{error:qe}=await we.from("pagos").insert([{reserva_id:Pe,monto:te,metodo_pago:w,estado:"completado"}]);if(qe)throw qe;await we.from("habitaciones").update({estado:"ocupada"}).eq("id",o),T("confirmacion")}catch(me){M(me.message||"Error al procesar la reserva")}finally{W(!1)}};return i?h.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:["Reservar Habitacin ",i.numero]}),h.jsx("p",{className:"text-slate-600",children:i.tipo})]}),h.jsxs("div",{className:"flex items-center justify-center mb-8",children:[h.jsxs("div",{className:`flex items-center ${j==="fechas"?"text-amber-600":"text-green-600"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j==="fechas"?"bg-amber-600":"bg-green-600"} text-white font-bold`,children:"1"}),h.jsx("span",{className:"ml-2 font-medium",children:"Fechas"})]}),h.jsx("div",{className:"w-24 h-1 bg-slate-300 mx-4"}),h.jsxs("div",{className:`flex items-center ${j==="pago"?"text-amber-600":j==="confirmacion"?"text-green-600":"text-slate-400"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j==="pago"?"bg-amber-600":j==="confirmacion"?"bg-green-600":"bg-slate-300"} text-white font-bold`,children:"2"}),h.jsx("span",{className:"ml-2 font-medium",children:"Pago"})]}),h.jsx("div",{className:"w-24 h-1 bg-slate-300 mx-4"}),h.jsxs("div",{className:`flex items-center ${j==="confirmacion"?"text-green-600":"text-slate-400"}`,children:[h.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center ${j==="confirmacion"?"bg-green-600":"bg-slate-300"} text-white font-bold`,children:"3"}),h.jsx("span",{className:"ml-2 font-medium",children:"Confirmacin"})]})]}),z&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2 text-red-700",children:[h.jsx(ro,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("span",{children:z})]}),j==="fechas"&&h.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Selecciona las Fechas"}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[h.jsx(Cs,{className:"inline h-4 w-4 mr-2"}),"Fecha de Entrada"]}),h.jsx("input",{type:"date",value:u,onChange:ne=>d(ne.target.value),min:new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[h.jsx(Cs,{className:"inline h-4 w-4 mr-2"}),"Fecha de Salida"]}),h.jsx("input",{type:"date",value:p,onChange:ne=>m(ne.target.value),min:u||new Date().toISOString().split("T")[0],className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]})]}),h.jsxs("div",{className:"mb-6",children:[h.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:[h.jsx(no,{className:"inline h-4 w-4 mr-2"}),"Nmero de Huspedes"]}),h.jsx("input",{type:"number",value:v,onChange:ne=>y(parseInt(ne.target.value)),min:"1",max:i.capacidad,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0}),h.jsxs("p",{className:"text-sm text-slate-500 mt-1",children:["Capacidad mxima: ",i.capacidad," personas"]})]}),te>0&&h.jsx("div",{className:"mb-6 p-4 bg-amber-50 rounded-lg border border-amber-200",children:h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-slate-700",children:"Total a Pagar:"}),h.jsxs("span",{className:"text-2xl font-bold text-amber-600",children:["$",te.toLocaleString("es-ES")]})]})}),h.jsx("button",{onClick:Ae,disabled:$||!u||!p,className:"w-full bg-amber-600 hover:bg-amber-700 text-white font-semibold py-3 rounded-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:$?"Verificando...":"Continuar al Pago"})]}),j==="pago"&&h.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Informacin de Pago"}),h.jsxs("div",{className:"mb-6",children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"Mtodo de Pago"}),h.jsx("div",{className:"grid grid-cols-3 gap-4",children:["tarjeta","efectivo","transferencia"].map(ne=>h.jsxs("button",{onClick:()=>_(ne),className:`p-4 rounded-lg border-2 transition-all ${w===ne?"border-amber-600 bg-amber-50":"border-slate-300 hover:border-slate-400"}`,children:[h.jsx(Gv,{className:"h-6 w-6 mx-auto mb-2"}),h.jsx("p",{className:"text-sm font-medium capitalize",children:ne})]},ne))})]}),w==="tarjeta"&&h.jsxs("div",{className:"space-y-4 mb-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero de Tarjeta"}),h.jsx("input",{type:"text",value:S.numero,onChange:ne=>{var Pe;const me=ne.target.value.replace(/\s/g,"").replace(/\D/g,""),je=((Pe=me.match(/.{1,4}/g))==null?void 0:Pe.join(" "))||me;O({...S,numero:je})},placeholder:"1234 5678 9012 3456",maxLength:19,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Titular de la Tarjeta"}),h.jsx("input",{type:"text",value:S.titular,onChange:ne=>O({...S,titular:ne.target.value}),placeholder:"Juan Prez",className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Fecha de Expiracin"}),h.jsx("input",{type:"text",value:S.expiracion,onChange:ne=>{let me=ne.target.value.replace(/\D/g,"");me.length>=2&&(me=me.slice(0,2)+"/"+me.slice(2,4)),O({...S,expiracion:me})},placeholder:"MM/AA",maxLength:5,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"CVV"}),h.jsx("input",{type:"text",value:S.cvv,onChange:ne=>O({...S,cvv:ne.target.value.replace(/\D/g,"")}),placeholder:"123",maxLength:3,className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none"})]})]})]}),w==="efectivo"&&h.jsx("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:h.jsx("p",{className:"text-blue-800",children:"El pago en efectivo se realizar al momento del check-in en la recepcin del hotel."})}),w==="transferencia"&&h.jsxs("div",{className:"mb-6 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("p",{className:"text-blue-800 mb-2",children:"Datos para transferencia bancaria:"}),h.jsx("p",{className:"text-sm text-blue-700",children:"Banco: Hotel Elegance Bank"}),h.jsx("p",{className:"text-sm text-blue-700",children:"Cuenta: 1234-5678-9012"}),h.jsxs("p",{className:"text-sm text-blue-700",children:["Concepto: Reserva #",o==null?void 0:o.slice(0,8)]})]}),h.jsxs("div",{className:"mb-6 p-4 bg-slate-50 rounded-lg",children:[h.jsx("h3",{className:"font-semibold mb-2",children:"Resumen de Reserva"}),h.jsxs("div",{className:"space-y-1 text-sm text-slate-600",children:[h.jsxs("p",{children:["Habitacin: ",i.numero," - ",i.tipo]}),h.jsxs("p",{children:["Entrada: ",new Date(u).toLocaleDateString("es-ES")]}),h.jsxs("p",{children:["Salida: ",new Date(p).toLocaleDateString("es-ES")]}),h.jsxs("p",{children:["Huspedes: ",v]}),h.jsxs("p",{className:"text-lg font-bold text-amber-600 mt-2",children:["Total: $",te.toLocaleString("es-ES")]})]})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{onClick:()=>T("fechas"),className:"flex-1 bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold py-3 rounded-lg transition-all",children:"Volver"}),h.jsx("button",{onClick:xt,disabled:$,className:"flex-1 bg-amber-600 hover:bg-amber-700 text-white font-semibold py-3 rounded-lg transition-all disabled:opacity-50",children:$?"Procesando...":"Confirmar Reserva"})]})]}),j==="confirmacion"&&h.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg text-center",children:[h.jsx(Zi,{className:"h-16 w-16 text-green-600 mx-auto mb-4"}),h.jsx("h2",{className:"text-3xl font-bold text-green-600 mb-4",children:"Reserva Confirmada!"}),h.jsx("p",{className:"text-slate-600 mb-6",children:"Tu reserva ha sido procesada exitosamente. Recibirs un email de confirmacin."}),h.jsxs("div",{className:"bg-slate-50 rounded-lg p-6 mb-6 text-left",children:[h.jsx("h3",{className:"font-bold mb-3",children:"Detalles de tu Reserva"}),h.jsxs("div",{className:"space-y-2 text-sm text-slate-700",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"Habitacin:"})," ",i.numero," - ",i.tipo]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Check-in:"})," ",new Date(u).toLocaleDateString("es-ES")]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Check-out:"})," ",new Date(p).toLocaleDateString("es-ES")]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Huspedes:"})," ",v]}),h.jsxs("p",{children:[h.jsx("strong",{children:"Mtodo de pago:"})," ",w]}),h.jsxs("p",{className:"text-lg font-bold text-amber-600 mt-3",children:["Total pagado: $",te.toLocaleString("es-ES")]})]})]}),h.jsx("button",{onClick:()=>s("/usuario/dashboard"),className:"px-8 py-3 bg-amber-600 hover:bg-amber-700 text-white font-semibold rounded-lg transition-all",children:"Volver al Dashboard"})]})]})}):h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600"})})},wy=()=>{const{user:o}=Jt(),[r,s]=R.useState([]),[i,l]=R.useState(!1),[u,d]=R.useState(!1),[p,m]=R.useState({asunto:"",mensaje:""}),[v,y]=R.useState(""),[w,_]=R.useState("");R.useEffect(()=>{S()},[]);const S=async()=>{try{const{data:j}=await we.from("consultas").select("*").eq("usuario_id",o==null?void 0:o.id).order("fecha_consulta",{ascending:!1});s(j||[])}catch(j){console.error("Error cargando consultas:",j)}},O=async j=>{j.preventDefault(),_(""),y(""),d(!0);try{if(!p.asunto||!p.mensaje)throw new Error("Por favor completa todos los campos");const{error:T}=await we.from("consultas").insert([{usuario_id:o==null?void 0:o.id,asunto:p.asunto,mensaje:p.mensaje,estado:"pendiente"}]);if(T)throw T;y("Consulta enviada exitosamente. Te responderemos pronto."),m({asunto:"",mensaje:""}),l(!1),S()}catch(T){_(T.message||"Error al enviar la consulta")}finally{d(!1)}};return h.jsx("div",{className:"min-h-screen bg-slate-50 py-12",children:h.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Mis Consultas"}),h.jsx("p",{className:"text-slate-600",children:"Enva tus preguntas y comentarios"})]}),v&&h.jsxs("div",{className:"mb-6 p-4 bg-green-50 border border-green-200 rounded-lg flex items-center space-x-2 text-green-700",children:[h.jsx(Zi,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("span",{children:v})]}),w&&h.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-center space-x-2 text-red-700",children:[h.jsx(ro,{className:"h-5 w-5 flex-shrink-0"}),h.jsx("span",{children:w})]}),!i&&h.jsxs("button",{onClick:()=>l(!0),className:"mb-6 px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white font-semibold rounded-lg flex items-center gap-2 shadow-lg transition-all",children:[h.jsx(bh,{className:"h-5 w-5"}),"Nueva Consulta"]}),i&&h.jsxs("div",{className:"bg-white rounded-xl p-8 shadow-lg mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Nueva Consulta"}),h.jsxs("form",{onSubmit:O,className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Asunto"}),h.jsx("input",{type:"text",value:p.asunto,onChange:j=>m({...p,asunto:j.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"Ej: Consulta sobre servicios del hotel",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Mensaje"}),h.jsx("textarea",{value:p.mensaje,onChange:j=>m({...p,mensaje:j.target.value}),className:"w-full px-4 py-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",rows:5,placeholder:"Escribe tu consulta aqu...",required:!0})]}),h.jsxs("div",{className:"flex gap-4",children:[h.jsx("button",{type:"button",onClick:()=>{l(!1),m({asunto:"",mensaje:""})},className:"flex-1 px-6 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 font-semibold rounded-lg transition-all",children:"Cancelar"}),h.jsxs("button",{type:"submit",disabled:u,className:"flex-1 px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white font-semibold rounded-lg transition-all disabled:opacity-50 flex items-center justify-center gap-2",children:[h.jsx(bh,{className:"h-5 w-5"}),u?"Enviando...":"Enviar Consulta"]})]})]})]}),h.jsx("div",{className:"space-y-4",children:r.length===0?h.jsxs("div",{className:"bg-white rounded-xl p-8 text-center shadow-sm",children:[h.jsx(zr,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"No tienes consultas registradas"})]}):r.map(j=>h.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-sm border border-slate-200",children:[h.jsx("div",{className:"flex justify-between items-start mb-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h3",{className:"font-bold text-lg",children:j.asunto}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium flex items-center gap-1 ${j.estado==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:j.estado==="pendiente"?h.jsxs(h.Fragment,{children:[h.jsx(rf,{className:"h-3 w-3"})," Pendiente"]}):h.jsxs(h.Fragment,{children:[h.jsx(Zi,{className:"h-3 w-3"})," Respondida"]})})]}),h.jsx("p",{className:"text-sm text-slate-600 mb-2",children:j.mensaje}),h.jsxs("p",{className:"text-xs text-slate-400",children:["Enviado: ",new Date(j.fecha_consulta||"").toLocaleString("es-ES")]})]})}),j.respuesta&&h.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsxs("p",{className:"text-sm font-medium text-blue-900 mb-1 flex items-center gap-2",children:[h.jsx(zr,{className:"h-4 w-4"}),"Respuesta del Hotel:"]}),h.jsx("p",{className:"text-sm text-blue-800",children:j.respuesta}),j.fecha_respuesta&&h.jsxs("p",{className:"text-xs text-blue-600 mt-2",children:["Respondido: ",new Date(j.fecha_respuesta).toLocaleString("es-ES")]})]})]},j.id))})]})})},xy=()=>{const{user:o}=Jt(),[r,s]=R.useState("habitaciones"),[i,l]=R.useState([]),[u,d]=R.useState([]),[p,m]=R.useState([]),[v,y]=R.useState(!0);R.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:O}=await we.from("habitaciones").select("*").order("numero"),{data:j}=await we.from("reservas").select("*").order("fecha_reserva",{ascending:!1}),{data:T}=await we.from("consultas").select("*").order("fecha_consulta",{ascending:!1});l(O||[]),d(j||[]),m(T||[])}catch(O){console.error("Error cargando datos:",O)}finally{y(!1)}},_=async(O,j)=>{try{await we.from("habitaciones").update({estado:j}).eq("id",O),w()}catch(T){console.error("Error actualizando habitacin:",T)}},S=async(O,j)=>{try{await we.from("reservas").update({estado:j}).eq("id",O),w()}catch(T){console.error("Error actualizando reserva:",T)}};return v?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600"})}):h.jsx("div",{className:"min-h-screen bg-slate-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Panel de Operador"}),h.jsx("p",{className:"text-slate-600",children:"Gestin de habitaciones, reservas y consultas"})]}),h.jsxs("div",{className:"flex gap-4 mb-8 border-b border-slate-200",children:[h.jsxs("button",{onClick:()=>s("habitaciones"),className:`px-6 py-3 font-medium transition-colors flex items-center gap-2 ${r==="habitaciones"?"text-amber-600 border-b-2 border-amber-600":"text-slate-600 hover:text-slate-900"}`,children:[h.jsx(ry,{className:"h-5 w-5"}),"Habitaciones (",i.length,")"]}),h.jsxs("button",{onClick:()=>s("reservas"),className:`px-6 py-3 font-medium transition-colors flex items-center gap-2 ${r==="reservas"?"text-amber-600 border-b-2 border-amber-600":"text-slate-600 hover:text-slate-900"}`,children:[h.jsx(Cs,{className:"h-5 w-5"}),"Reservas (",u.length,")"]}),h.jsxs("button",{onClick:()=>s("consultas"),className:`px-6 py-3 font-medium transition-colors flex items-center gap-2 ${r==="consultas"?"text-amber-600 border-b-2 border-amber-600":"text-slate-600 hover:text-slate-900"}`,children:[h.jsx(zr,{className:"h-5 w-5"}),"Consultas (",p.filter(O=>O.estado==="pendiente").length," pendientes)"]})]}),r==="habitaciones"&&h.jsx(_y,{habitaciones:i,onCambiarEstado:_}),r==="reservas"&&h.jsx(by,{reservas:u,onCambiarEstado:S}),r==="consultas"&&h.jsx(ky,{consultas:p,onRecargar:w})]})})},_y=({habitaciones:o,onCambiarEstado:r})=>h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:[h.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Disponibles"}),h.jsx("p",{className:"text-3xl font-bold text-green-900",children:o.filter(s=>s.estado==="disponible").length})]}),h.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[h.jsx("p",{className:"text-sm text-red-700 mb-1",children:"Ocupadas"}),h.jsx("p",{className:"text-3xl font-bold text-red-900",children:o.filter(s=>s.estado==="ocupada").length})]}),h.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6",children:[h.jsx("p",{className:"text-sm text-yellow-700 mb-1",children:"Mantenimiento"}),h.jsx("p",{className:"text-3xl font-bold text-yellow-900",children:o.filter(s=>s.estado==="mantenimiento").length})]})]}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-4",children:o.map(s=>h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-bold text-lg",children:["Habitacin ",s.numero]}),h.jsx("p",{className:"text-sm text-slate-600",children:s.tipo})]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${s.estado==="disponible"?"bg-green-100 text-green-700":s.estado==="ocupada"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:s.estado})]}),h.jsxs("p",{className:"text-sm text-slate-600 mb-4",children:["Capacidad: ",s.capacidad," personas"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>r(s.id,"disponible"),className:"flex-1 px-3 py-2 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[h.jsx(Zv,{className:"h-4 w-4"}),"Disponible"]}),h.jsxs("button",{onClick:()=>r(s.id,"mantenimiento"),className:"flex-1 px-3 py-2 bg-yellow-100 hover:bg-yellow-200 text-yellow-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[h.jsx(Dl,{className:"h-4 w-4"}),"Cerrar"]})]})]},s.id))})]}),by=({reservas:o,onCambiarEstado:r})=>{const[s,i]=R.useState("todas"),l=s==="todas"?o:o.filter(u=>u.estado===s);return h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"flex gap-4",children:["todas","activa","completada","cancelada"].map(u=>h.jsx("button",{onClick:()=>i(u),className:`px-4 py-2 rounded-lg font-medium transition-colors ${s===u?"bg-amber-600 text-white":"bg-white text-slate-700 hover:bg-slate-100"}`,children:u.charAt(0).toUpperCase()+u.slice(1)},u))}),h.jsx("div",{className:"space-y-4",children:l.map(u=>h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-bold text-lg",children:["Reserva #",u.id.slice(0,8)]}),h.jsxs("p",{className:"text-sm text-slate-600",children:[new Date(u.fecha_entrada).toLocaleDateString("es-ES")," - ",new Date(u.fecha_salida).toLocaleDateString("es-ES")]}),h.jsxs("p",{className:"text-sm text-slate-600",children:[u.num_huespedes," huspedes"]})]}),h.jsxs("div",{className:"text-right",children:[h.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",u.total.toLocaleString("es-ES")]}),h.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium mt-2 ${u.estado==="activa"?"bg-green-100 text-green-700":u.estado==="completada"?"bg-blue-100 text-blue-700":"bg-red-100 text-red-700"}`,children:u.estado})]})]}),u.estado==="activa"&&h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>r(u.id,"completada"),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium flex items-center gap-1",children:[h.jsx(Kv,{className:"h-4 w-4"}),"Completar"]}),h.jsxs("button",{onClick:()=>r(u.id,"cancelada"),className:"px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg text-sm font-medium flex items-center gap-1",children:[h.jsx(lf,{className:"h-4 w-4"}),"Cancelar"]})]})]},u.id))})]})},ky=({consultas:o,onRecargar:r})=>{const[s,i]=R.useState(""),[l,u]=R.useState(null),d=async p=>{try{await we.from("consultas").update({respuesta:s,estado:"respondida",fecha_respuesta:new Date().toISOString()}).eq("id",p),i(""),u(null),r()}catch(m){console.error("Error respondiendo consulta:",m)}};return h.jsx("div",{className:"space-y-4",children:o.length===0?h.jsxs("div",{className:"bg-white rounded-lg p-8 text-center shadow-sm",children:[h.jsx(zr,{className:"h-12 w-12 text-slate-300 mx-auto mb-4"}),h.jsx("p",{className:"text-slate-600",children:"No hay consultas registradas"})]}):o.map(p=>h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsx("div",{className:"flex justify-between items-start mb-4",children:h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[h.jsx("h3",{className:"font-bold text-lg",children:p.asunto}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${p.estado==="pendiente"?"bg-yellow-100 text-yellow-700":"bg-green-100 text-green-700"}`,children:p.estado})]}),h.jsx("p",{className:"text-sm text-slate-600 mb-2",children:p.mensaje}),h.jsx("p",{className:"text-xs text-slate-400",children:new Date(p.fecha_consulta||"").toLocaleString("es-ES")})]})}),p.respuesta&&h.jsxs("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("p",{className:"text-sm font-medium text-blue-900 mb-1",children:"Respuesta:"}),h.jsx("p",{className:"text-sm text-blue-800",children:p.respuesta})]}),p.estado==="pendiente"&&h.jsx("div",{className:"mt-4",children:l===p.id?h.jsxs("div",{className:"space-y-2",children:[h.jsx("textarea",{value:s,onChange:m=>i(m.target.value),className:"w-full p-3 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",rows:3,placeholder:"Escribe tu respuesta..."}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>d(p.id),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium",children:"Enviar Respuesta"}),h.jsx("button",{onClick:()=>{u(null),i("")},className:"px-4 py-2 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg text-sm font-medium",children:"Cancelar"})]})]}):h.jsx("button",{onClick:()=>u(p.id),className:"px-4 py-2 bg-amber-600 hover:bg-amber-700 text-white rounded-lg text-sm font-medium",children:"Responder"})})]},p.id))})},Sy=()=>{const{user:o}=Jt(),[r,s]=R.useState("habitaciones"),[i,l]=R.useState([]),[u,d]=R.useState([]),[p,m]=R.useState([]),[v,y]=R.useState(!0);R.useEffect(()=>{w()},[]);const w=async()=>{try{const{data:_}=await we.from("habitaciones").select("*").order("numero"),{data:S}=await we.from("usuarios").select("*").eq("rol","operador").order("nombre"),{data:O}=await we.from("reservas").select("*").order("fecha_reserva",{ascending:!1});l(_||[]),d(S||[]),m(O||[])}catch(_){console.error("Error cargando datos:",_)}finally{y(!1)}};return v?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600"})}):h.jsx("div",{className:"min-h-screen bg-slate-50",children:h.jsxs("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[h.jsxs("div",{className:"mb-8",children:[h.jsx("h1",{className:"text-3xl font-serif font-bold text-slate-900 mb-2",children:"Panel de Administrador"}),h.jsx("p",{className:"text-slate-600",children:"Gestin completa del hotel"})]}),h.jsxs("div",{className:"flex gap-4 mb-8 border-b border-slate-200",children:[h.jsxs("button",{onClick:()=>s("habitaciones"),className:`px-6 py-3 font-medium transition-colors flex items-center gap-2 ${r==="habitaciones"?"text-amber-600 border-b-2 border-amber-600":"text-slate-600 hover:text-slate-900"}`,children:[h.jsx(nf,{className:"h-5 w-5"}),"Habitaciones"]}),h.jsxs("button",{onClick:()=>s("operadores"),className:`px-6 py-3 font-medium transition-colors flex items-center gap-2 ${r==="operadores"?"text-amber-600 border-b-2 border-amber-600":"text-slate-600 hover:text-slate-900"}`,children:[h.jsx(no,{className:"h-5 w-5"}),"Operadores (",u.length,")"]}),h.jsxs("button",{onClick:()=>s("estadisticas"),className:`px-6 py-3 font-medium transition-colors flex items-center gap-2 ${r==="estadisticas"?"text-amber-600 border-b-2 border-amber-600":"text-slate-600 hover:text-slate-900"}`,children:[h.jsx(qv,{className:"h-5 w-5"}),"Estadsticas"]})]}),r==="habitaciones"&&h.jsx(jy,{habitaciones:i,onRecargar:w}),r==="operadores"&&h.jsx(Ey,{operadores:u,onRecargar:w}),r==="estadisticas"&&h.jsx(Ny,{habitaciones:i,reservas:p})]})})},jy=({habitaciones:o,onRecargar:r})=>{const[s,i]=R.useState(!1),[l,u]=R.useState(null),[d,p]=R.useState({numero:"",tipo:"",precio_noche:"",capacidad:"",amenidades:"",descripcion:"",estado:"disponible"}),m=()=>{p({numero:"",tipo:"",precio_noche:"",capacidad:"",amenidades:"",descripcion:"",estado:"disponible"}),u(null),i(!1)},v=_=>{var S,O,j;u(_),p({numero:_.numero,tipo:_.tipo,precio_noche:((S=_.precio_noche)==null?void 0:S.toString())||"",capacidad:((O=_.capacidad)==null?void 0:O.toString())||"",amenidades:((j=_.amenidades)==null?void 0:j.join(", "))||"",descripcion:_.descripcion||"",estado:_.estado}),i(!0)},y=async _=>{_.preventDefault();const S={numero:d.numero,tipo:d.tipo,precio_noche:parseFloat(d.precio_noche),capacidad:parseInt(d.capacidad),amenidades:d.amenidades.split(",").map(O=>O.trim()),descripcion:d.descripcion,estado:d.estado};try{l?await we.from("habitaciones").update(S).eq("id",l.id):await we.from("habitaciones").insert([S]),m(),r()}catch(O){console.error("Error guardando habitacin:",O)}},w=async _=>{if(confirm("Ests seguro de eliminar esta habitacin?"))try{await we.from("habitaciones").delete().eq("id",_),r()}catch(S){console.error("Error eliminando habitacin:",S)}};return h.jsxs("div",{children:[h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium flex items-center gap-2 shadow-lg",children:[h.jsx(sf,{className:"h-5 w-5"}),"Nueva Habitacin"]})}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(_=>{var S;return h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsxs("div",{className:"flex justify-between items-start mb-4",children:[h.jsxs("div",{children:[h.jsxs("h3",{className:"font-bold text-lg",children:["Habitacin ",_.numero]}),h.jsx("p",{className:"text-sm text-slate-600",children:_.tipo})]}),h.jsx("span",{className:`px-3 py-1 rounded-full text-xs font-medium ${_.estado==="disponible"?"bg-green-100 text-green-700":_.estado==="ocupada"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:_.estado})]}),h.jsxs("div",{className:"mb-4 space-y-1 text-sm text-slate-600",children:[h.jsxs("p",{children:["Capacidad: ",_.capacidad," personas"]}),h.jsxs("p",{className:"font-semibold text-amber-600",children:["$",(S=_.precio_noche)==null?void 0:S.toLocaleString("es-ES")," / noche"]})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:()=>v(_),className:"flex-1 px-3 py-2 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[h.jsx(iy,{className:"h-4 w-4"}),"Editar"]}),h.jsxs("button",{onClick:()=>w(_.id),className:"flex-1 px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[h.jsx(of,{className:"h-4 w-4"}),"Eliminar"]})]})]},_.id)})}),s&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[h.jsxs("div",{className:"flex justify-between items-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold",children:l?"Editar Habitacin":"Nueva Habitacin"}),h.jsx("button",{onClick:m,className:"text-slate-400 hover:text-slate-600",children:h.jsx(lf,{className:"h-6 w-6"})})]}),h.jsxs("form",{onSubmit:y,className:"space-y-4",children:[h.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nmero"}),h.jsx("input",{type:"text",value:d.numero,onChange:_=>p({...d,numero:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Tipo"}),h.jsx("input",{type:"text",value:d.tipo,onChange:_=>p({...d,tipo:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Precio por Noche"}),h.jsx("input",{type:"number",value:d.precio_noche,onChange:_=>p({...d,precio_noche:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Capacidad"}),h.jsx("input",{type:"number",value:d.capacidad,onChange:_=>p({...d,capacidad:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Estado"}),h.jsxs("select",{value:d.estado,onChange:_=>p({...d,estado:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",children:[h.jsx("option",{value:"disponible",children:"Disponible"}),h.jsx("option",{value:"ocupada",children:"Ocupada"}),h.jsx("option",{value:"mantenimiento",children:"Mantenimiento"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Amenidades (separadas por coma)"}),h.jsx("input",{type:"text",value:d.amenidades,onChange:_=>p({...d,amenidades:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",placeholder:"WiFi, TV, Aire acondicionado"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Descripcin"}),h.jsx("textarea",{value:d.descripcion,onChange:_=>p({...d,descripcion:_.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",rows:3})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsxs("button",{type:"submit",className:"flex-1 px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium flex items-center justify-center gap-2",children:[h.jsx(ny,{className:"h-5 w-5"}),"Guardar"]}),h.jsx("button",{type:"button",onClick:m,className:"px-6 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium",children:"Cancelar"})]})]})]})})]})},Ey=({operadores:o,onRecargar:r})=>{const[s,i]=R.useState(!1),[l,u]=R.useState({email:"",nombre:"",password:""}),d=async m=>{m.preventDefault();try{await we.from("usuarios").insert([{...l,rol:"operador"}]),u({email:"",nombre:"",password:""}),i(!1),r()}catch(v){console.error("Error creando operador:",v)}},p=async m=>{if(confirm("Ests seguro de eliminar este operador?"))try{await we.from("usuarios").delete().eq("id",m),r()}catch(v){console.error("Error eliminando operador:",v)}};return h.jsxs("div",{children:[h.jsx("div",{className:"mb-6",children:h.jsxs("button",{onClick:()=>i(!0),className:"px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium flex items-center gap-2 shadow-lg",children:[h.jsx(sf,{className:"h-5 w-5"}),"Nuevo Operador"]})}),h.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(m=>h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsxs("div",{className:"mb-4",children:[h.jsx("h3",{className:"font-bold text-lg",children:m.nombre}),h.jsx("p",{className:"text-sm text-slate-600",children:m.email}),h.jsxs("p",{className:"text-xs text-slate-400 mt-1",children:["Creado: ",new Date(m.fecha_creacion||"").toLocaleDateString("es-ES")]})]}),h.jsxs("button",{onClick:()=>p(m.id),className:"w-full px-3 py-2 bg-red-100 hover:bg-red-200 text-red-700 rounded-lg text-sm font-medium flex items-center justify-center gap-1",children:[h.jsx(of,{className:"h-4 w-4"}),"Eliminar"]})]},m.id))}),s&&h.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50",children:h.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-md w-full",children:[h.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Nuevo Operador"}),h.jsxs("form",{onSubmit:d,className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Nombre"}),h.jsx("input",{type:"text",value:l.nombre,onChange:m=>u({...l,nombre:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Email"}),h.jsx("input",{type:"email",value:l.email,onChange:m=>u({...l,email:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"Contrasea"}),h.jsx("input",{type:"password",value:l.password,onChange:m=>u({...l,password:m.target.value}),className:"w-full px-4 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-amber-500 outline-none",required:!0,minLength:6})]}),h.jsxs("div",{className:"flex gap-3 pt-4",children:[h.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-amber-600 hover:bg-amber-700 text-white rounded-lg font-medium",children:"Crear"}),h.jsx("button",{type:"button",onClick:()=>i(!1),className:"px-6 py-3 bg-slate-200 hover:bg-slate-300 text-slate-700 rounded-lg font-medium",children:"Cancelar"})]})]})]})})]})},Ny=({habitaciones:o,reservas:r})=>{const s=r.filter(u=>u.estado==="completada").reduce((u,d)=>u+d.total,0),i=r.filter(u=>u.estado==="activa").reduce((u,d)=>u+d.total,0),l=o.reduce((u,d)=>(u[d.tipo]=(u[d.tipo]||0)+1,u),{});return h.jsxs("div",{className:"space-y-8",children:[h.jsxs("div",{className:"grid md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("p",{className:"text-sm text-slate-600",children:"Total Habitaciones"}),h.jsx(nf,{className:"h-5 w-5 text-slate-400"})]}),h.jsx("p",{className:"text-3xl font-bold text-slate-900",children:o.length})]}),h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-green-200 bg-green-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("p",{className:"text-sm text-green-700",children:"Disponibles"}),h.jsx(oy,{className:"h-5 w-5 text-green-600"})]}),h.jsx("p",{className:"text-3xl font-bold text-green-900",children:o.filter(u=>u.estado==="disponible").length})]}),h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-amber-200 bg-amber-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("p",{className:"text-sm text-amber-700",children:"Reservas Activas"}),h.jsx(Cs,{className:"h-5 w-5 text-amber-600"})]}),h.jsx("p",{className:"text-3xl font-bold text-amber-900",children:r.filter(u=>u.estado==="activa").length})]}),h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-blue-200 bg-blue-50",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("p",{className:"text-sm text-blue-700",children:"Ingresos Totales"}),h.jsx(Qv,{className:"h-5 w-5 text-blue-600"})]}),h.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:["$",s.toLocaleString("es-ES")]})]})]}),h.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Habitaciones por Tipo"}),h.jsx("div",{className:"space-y-3",children:Object.entries(l).map(([u,d])=>h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-slate-700",children:u}),h.jsx("span",{className:"font-semibold text-amber-600",children:d})]},u))})]}),h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Resumen de Ingresos"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Ingresos Completados"}),h.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["$",s.toLocaleString("es-ES")]})]}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Ingresos Pendientes"}),h.jsxs("p",{className:"text-2xl font-bold text-amber-600",children:["$",i.toLocaleString("es-ES")]})]}),h.jsxs("div",{className:"pt-2 border-t border-slate-200",children:[h.jsx("p",{className:"text-sm text-slate-600 mb-1",children:"Total"}),h.jsxs("p",{className:"text-2xl font-bold text-blue-600",children:["$",(s+i).toLocaleString("es-ES")]})]})]})]})]}),h.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-sm border border-slate-200",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 mb-4",children:"Estado de Reservas"}),h.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"p-4 bg-green-50 rounded-lg border border-green-200",children:[h.jsx("p",{className:"text-sm text-green-700 mb-1",children:"Activas"}),h.jsx("p",{className:"text-3xl font-bold text-green-900",children:r.filter(u=>u.estado==="activa").length})]}),h.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg border border-blue-200",children:[h.jsx("p",{className:"text-sm text-blue-700 mb-1",children:"Completadas"}),h.jsx("p",{className:"text-3xl font-bold text-blue-900",children:r.filter(u=>u.estado==="completada").length})]}),h.jsxs("div",{className:"p-4 bg-red-50 rounded-lg border border-red-200",children:[h.jsx("p",{className:"text-sm text-red-700 mb-1",children:"Canceladas"}),h.jsx("p",{className:"text-3xl font-bold text-red-900",children:r.filter(u=>u.estado==="cancelada").length})]})]})]})]})};function Cy(){return h.jsx(Bv,{children:h.jsx(mg,{children:h.jsxs("div",{className:"min-h-screen bg-slate-50",children:[h.jsx(cy,{}),h.jsxs(lg,{children:[h.jsx(Lt,{path:"/",element:h.jsx(dy,{})}),h.jsx(Lt,{path:"/login",element:h.jsx(hy,{})}),h.jsx(Lt,{path:"/register",element:h.jsx(fy,{})}),h.jsx(Lt,{path:"/usuario/dashboard",element:h.jsx(ws,{roles:["usuario"],children:h.jsx(py,{})})}),h.jsx(Lt,{path:"/usuario/reservar/:id",element:h.jsx(ws,{roles:["usuario"],children:h.jsx(yy,{})})}),h.jsx(Lt,{path:"/usuario/consultas",element:h.jsx(ws,{roles:["usuario"],children:h.jsx(wy,{})})}),h.jsx(Lt,{path:"/operador/dashboard",element:h.jsx(ws,{roles:["operador"],children:h.jsx(xy,{})})}),h.jsx(Lt,{path:"/admin/dashboard",element:h.jsx(ws,{roles:["administrador"],children:h.jsx(Sy,{})})}),h.jsx(Lt,{path:"*",element:h.jsx(pl,{to:"/",replace:!0})})]})]})})})}const ws=({children:o,roles:r})=>{const{user:s,loading:i}=Jt();return i?h.jsx("div",{className:"min-h-screen flex items-center justify-center",children:h.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-amber-600"})}):s?r.includes(s.rol)?h.jsx(h.Fragment,{children:o}):h.jsx(pl,{to:"/",replace:!0}):h.jsx(pl,{to:"/login",replace:!0})};gm.createRoot(document.getElementById("root")).render(h.jsx(R.StrictMode,{children:h.jsx(Cy,{})}));
